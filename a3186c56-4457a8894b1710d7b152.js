"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[4923],{9303:function(e,t,r){var n=r(36886),o=r(54849),s=r(31974),i=r(17913),a=r(96843),l=r(60455),c=r(32540),u=r(93362),d=r(53455),m=r(92279);function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=h(o),f=h(s),g=h(i),y=h(a),b=h(l),v=h(c),w=h(u),T=h(m);var E={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}};class k extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,k),t&&(this.stack+="\nCaused by: ".concat(t.stack))}}class x extends k{}class A extends x{constructor(e,t,r,n,o){const s=function(e,t,r){const n=f.default(e,t,r,{format:"js"});return n.length>0?n[0].error:"unknown validation error"}(n,r,o);super("".concat(t,": ").concat(s)),this.filename=e,this.obj=r,this.schema=n,this.errors=o}prettyError(){const e=this.getRawJSON();return f.default(this.schema,this.obj,this.errors,{format:"cli",indent:2,json:e})}getRawJSON(){return this.filename&&p.default.existsSync(this.filename)?p.default.readFileSync(this.filename,"utf-8"):null}}const q=b.default.resolve("/","../../"),C=b.default.resolve(q,"dist/cjs");function N(e){const t=r(42366).resolve(e),n=r.c[t];if(n&&n.parent){const{parent:e}=n;for(let r=e.children.length-1;r>=0;r--)e.children[r].id===t&&e.children.splice(r,1)}return delete r.c[t],r(42366)(t)}var S,I={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://html-validate.org/schemas/elements.json",type:"object",properties:{$schema:{type:"string"}},patternProperties:{"^[^$].*$":{type:"object",properties:{inherit:{title:"Inherit from another element",description:"Most properties from the parent element will be copied onto this one",type:"string"},embedded:{title:"Mark this element as belonging in the embedded content category",$ref:"#/definitions/contentCategory"},flow:{title:"Mark this element as belonging in the flow content category",$ref:"#/definitions/contentCategory"},heading:{title:"Mark this element as belonging in the heading content category",$ref:"#/definitions/contentCategory"},interactive:{title:"Mark this element as belonging in the interactive content category",$ref:"#/definitions/contentCategory"},metadata:{title:"Mark this element as belonging in the metadata content category",$ref:"#/definitions/contentCategory"},phrasing:{title:"Mark this element as belonging in the phrasing content category",$ref:"#/definitions/contentCategory"},sectioning:{title:"Mark this element as belonging in the sectioning content category",$ref:"#/definitions/contentCategory"},deprecated:{title:"Mark element as deprecated",description:"Deprecated elements should not be used. If a message is provided it will be included in the error",anyOf:[{type:"boolean"},{type:"string"},{$ref:"#/definitions/deprecatedElement"}]},foreign:{title:"Mark element as foreign",description:"Foreign elements are elements which have a start and end tag but is otherwize not parsed",type:"boolean"},void:{title:"Mark element as void",description:"Void elements are elements which cannot have content and thus must not use an end tag",type:"boolean"},transparent:{title:"Mark element as transparent",description:"Transparent elements follows the same content model as its parent, i.e. the content must be allowed in the parent.",anyOf:[{type:"boolean"},{type:"array",items:{type:"string"}}]},implicitClosed:{title:"List of elements which implicitly closes this element",description:"Some elements are automatically closed when another start tag occurs",type:"array",items:{type:"string"}},scriptSupporting:{title:"Mark element as script-supporting",description:"Script-supporting elements are elements which can be inserted where othersise not permitted to assist in templating",type:"boolean"},form:{title:"Mark element as a submittable form element",type:"boolean"},labelable:{title:"Mark this element as labelable",description:"This element may contain an associated label element.",anyOf:[{type:"boolean"},{$ref:"#/definitions/expression"}]},deprecatedAttributes:{title:"List of deprecated attributes",type:"array",items:{type:"string"}},requiredAttributes:{title:"List of required attributes",type:"array",items:{type:"string"}},attributes:{title:"List of known attributes and allowed values",$ref:"#/definitions/PermittedAttribute"},permittedContent:{title:"List of elements or categories allowed as content in this element",$ref:"#/definitions/Permitted"},permittedDescendants:{title:"List of elements or categories allowed as descendants in this element",$ref:"#/definitions/Permitted"},permittedOrder:{title:"Required order of child elements",$ref:"#/definitions/PermittedOrder"},requiredAncestors:{title:"List of required ancestor elements",$ref:"#/definitions/RequiredAncestors"},requiredContent:{title:"List of required content elements",$ref:"#/definitions/RequiredContent"},textContent:{title:"Allow, disallow or require textual content",description:"This property controls whenever an element allows, disallows or requires text. Text from any descendant counts, not only direct children",default:"default",type:"string",enum:["none","default","required","accessible"]}},additionalProperties:!1}},definitions:{contentCategory:{anyOf:[{type:"boolean"},{$ref:"#/definitions/expression"}]},expression:{type:"array",minItems:2,maxItems:2,items:[{type:"string",enum:["isDescendant","hasAttribute","matchAttribute"]},{anyOf:[{type:"string"},{$ref:"#/definitions/operation"}]}]},operation:{type:"array",minItems:3,maxItems:3,items:[{type:"string"},{type:"string",enum:["!=","="]},{type:"string"}]},deprecatedElement:{type:"object",additionalProperties:!1,properties:{message:{type:"string",title:"A short text message shown next to the regular error message."},documentation:{type:"string",title:"An extended markdown formatted message shown with the contextual rule documentation."},source:{type:"string",title:"Element source, e.g. what standard or library deprecated this element.",default:"html5"}}},Permitted:{type:"array",items:{anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/definitions/PermittedGroup"}]}},{$ref:"#/definitions/PermittedGroup"}]}},PermittedAttribute:{type:"object",patternProperties:{"^.*$":{anyOf:[{type:"object",additionalProperties:!1,properties:{boolean:{type:"boolean",title:"Set to true if this is a boolean attribute"},deprecated:{title:"Set to true or string if this attribute is deprecated",oneOf:[{type:"boolean"},{type:"string"}]},list:{type:"boolean",title:"Set to true if this attribute is a list of space-separated tokens, each which must be valid by itself"},enum:{type:"array",title:"Exhaustive list of values (string or regex) this attribute accepts",uniqueItems:!0,items:{anyOf:[{type:"string"},{regexp:!0}]}},omit:{type:"boolean",title:"Set to true if this attribute can optionally omit its value"},required:{type:"boolean",title:"Set to true if this attribute is required"}}},{type:"array",uniqueItems:!0,items:{type:"string"}}]}}},PermittedGroup:{type:"object",additionalProperties:!1,properties:{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"string"}]}}},PermittedOrder:{type:"array",items:{type:"string"}},RequiredAncestors:{type:"array",items:{type:"string"}},RequiredContent:{type:"array",items:{type:"string"}}}};!function(e){e.NONE="none",e.DEFAULT="default",e.REQUIRED="required",e.ACCESSIBLE="accessible"}(S||(S={}));const O=["metadata","flow","sectioning","heading","phrasing","embedded","interactive","transparent","form","labelable","attributes","permittedContent","permittedDescendants","permittedOrder","requiredAncestors","requiredContent"];function L(e,t,r){e[t]=r}function R(e){return!!e||void 0}function D(e){const t=Object.entries(e).filter((e=>{let[,t]=e;return function(e){return void 0!==e}(t)}));return Object.fromEntries(t)}function P(e,t){var r,n;const o={};o.deprecated=R(null===(r=e.deprecatedAttributes)||void 0===r?void 0:r.includes(t)),o.required=R(null===(n=e.requiredAttributes)||void 0===n?void 0:n.includes(t)),o.omit=void 0;const s=e.attributes?e.attributes[t]:void 0;return void 0===s?D(o):null===s?(o.delete=!0,D(o)):Array.isArray(s)?(0===s.length?o.boolean=!0:(o.enum=s.filter((e=>""!==e)),s.includes("")&&(o.omit=!0)),D(o)):D({...o,...s})}function M(e){var t,r,n;const o=[...Object.keys(null!==(t=e.attributes)&&void 0!==t?t:{}),...null!==(r=e.requiredAttributes)&&void 0!==r?r:[],...null!==(n=e.deprecatedAttributes)&&void 0!==n?n:[]].sort().map((t=>[t,P(e,t)]));return Object.fromEntries(o)}function j(e){const t={...e,attributes:M(e)};return delete t.deprecatedAttributes,delete t.requiredAttributes,t}const F=["metadata","flow","sectioning","heading","phrasing","embedded","interactive","labelable"],$={isDescendant:function(e,t){if("string"!=typeof t)throw new Error('Property expression "isDescendant" must take string argument when evaluating metadata for <'.concat(e.tagName,">"));let r=e.parent;for(;r&&!r.isRootElement();){if(r.is(t))return!0;r=r.parent}return!1},hasAttribute:function(e,t){if("string"!=typeof t)throw new Error('Property expression "hasAttribute" must take string argument when evaluating metadata for <'.concat(e.tagName,">"));return e.hasAttribute(t)},matchAttribute:function(e,t){if(!Array.isArray(t)||3!==t.length)throw new Error('Property expression "matchAttribute" must take [key, op, value] array as argument when evaluating metadata for <'.concat(e.tagName,">"));const[r,n,o]=t.map((e=>e.toLowerCase())),s=(e.getAttributeValue(r)||"").toLowerCase();switch(n){case"!=":return s!==o;case"=":return s===o;default:throw new Error('Property expression "matchAttribute" has invalid operator "'.concat(n,'" when evaluating metadata for <').concat(e.tagName,">"))}}};function z(e,t){return t}const _=function(e,t){const r=e instanceof RegExp;return r||(_.errors=[{instancePath:null==t?void 0:t.instancePath,schemaPath:void 0,keyword:"type",message:"should be regexp",params:{keyword:"type"}}]),r},B={keyword:"regexp",schema:!1,errors:!0,validate:_};class U{constructor(){var e;this.elements={},this.schema=(e=I,JSON.parse(JSON.stringify(e)))}init(){this.resolveGlobal()}extendValidationSchema(e){e.properties&&(this.schema=y.default(this.schema,{patternProperties:{"^[^$].*$":{properties:e.properties}}})),e.definitions&&(this.schema=y.default(this.schema,{definitions:e.definitions}))}loadFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r;const n=this.getSchemaValidator();if(!n(e))throw new A(t,"Element metadata is not valid",e,this.schema,null!==(r=n.errors)&&void 0!==r?r:[]);for(const[o,s]of Object.entries(e))"$schema"!==o&&this.addEntry(o,j(s))}loadFromFile(e){try{const t=N(e);this.loadFromObject(t,e)}catch(t){if(t instanceof A)throw t;throw new x('Failed to load element metadata from "'.concat(e,'"'),t)}}getMetaFor(e){return e=e.toLowerCase(),this.elements[e]?{...this.elements[e]}:this.elements["*"]?{...this.elements["*"]}:null}getTagsWithProperty(e){return Object.entries(this.elements).filter((t=>{let[,r]=t;return r[e]})).map((e=>{let[t]=e;return t}))}getTagsDerivedFrom(e){return Object.entries(this.elements).filter((t=>{let[r,n]=t;return r===e||n.inherit===e})).map((e=>{let[t]=e;return t}))}addEntry(e,t){let r=this.elements[e]||{};if(t.inherit){const n=t.inherit;if(r=this.elements[n],!r)throw new x("Element <".concat(e,"> cannot inherit from <").concat(n,">: no such element"))}const n=this.mergeElement(r,{...t,tagName:e});!function(e){for(const[t,r]of Object.entries(e.attributes))r.enum&&(e.attributes[t].enum=r.enum.map(G))}(n),this.elements[e]=n}getSchemaValidator(){const e=new g.default({strict:!0,strictTuples:!0,strictTypes:!0});return e.addMetaSchema(E),e.addKeyword(B),e.addKeyword({keyword:"copyable"}),e.compile(this.schema)}getJSONSchema(){return this.schema}resolveGlobal(){if(!this.elements["*"])return;const e=this.elements["*"];delete this.elements["*"],delete e.tagName,delete e.void;for(const[t,r]of Object.entries(this.elements))this.elements[t]=this.mergeElement(e,r)}mergeElement(e,t){const r=y.default(e,t,{arrayMerge:z}),n=Object.entries(r.attributes).filter((e=>{let[,t]=e;const r=!t.delete;return delete t.delete,r}));return r.attributes=Object.fromEntries(n),r}resolve(e){e.meta&&function(e,t){for(const r of F){const n=t[r];n&&"boolean"!=typeof n&&L(t,r,V(e,n))}}(e,e.meta)}}function G(e){if(e instanceof RegExp)return e;const t=e.match(/^\/\^?([^/$]*)\$?\/([i]*)$/);if(t){const[,e,r]=t;return new RegExp("^".concat(e,"$"),r)}return e}function V(e,t){const[r,n]=X(t);return r(e,n)}function X(e){if("string"==typeof e)return X([e,{}]);{const[t,r]=e,n=$[t];if(!n)throw new Error('Failed to find function "'.concat(t,'" when evaluating property expression'));return[n,r]}}class H{constructor(e){this.expr=e}toString(){return this.expr}}class Y{constructor(e,t,r,n,o){this.key=e,this.value=t,this.keyLocation=r,this.valueLocation=n,this.originalAttribute=o,void 0===this.value&&(this.value=null)}get isStatic(){return!this.isDynamic}get isDynamic(){return this.value instanceof H}valueMatches(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!==this.value&&(this.value instanceof H?t:e instanceof RegExp?null!==this.value.match(e):this.value===e)}}function W(e,t,r,n){if(!e)return null;const o=function(e,t,r){return"number"!=typeof e?e:"number"!=typeof r?e-t:(r<0&&(r=e+r),Math.min(e,r-t))}(e.size,t,r),s={filename:e.filename,offset:e.offset+t,line:e.line,column:e.column+t,size:o};if(n){let e=-1;const r=s.column;for(;;){if(e=n.indexOf("\n",e+1),!(e>=0&&e<t))break;s.column=r-(e+1),s.line++}}return s}var J,Q,K;!function(e){e[e.INITIAL=1]="INITIAL",e[e.DOCTYPE=2]="DOCTYPE",e[e.TEXT=3]="TEXT",e[e.TAG=4]="TAG",e[e.ATTR=5]="ATTR",e[e.CDATA=6]="CDATA",e[e.SCRIPT=7]="SCRIPT",e[e.STYLE=8]="STYLE"}(J||(J={})),function(e){e[e.TEXT=1]="TEXT",e[e.SCRIPT=2]="SCRIPT",e[e.STYLE=3]="STYLE"}(Q||(Q={}));class Z{constructor(e){var t,r,n,o;this.state=J.INITIAL,this.string=e.data,this.filename=null!==(t=e.filename)&&void 0!==t?t:"",this.offset=null!==(r=e.offset)&&void 0!==r?r:0,this.line=null!==(n=e.line)&&void 0!==n?n:1,this.column=null!==(o=e.column)&&void 0!==o?o:1,this.contentModel=Q.TEXT}getTruncatedLine(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:13;return JSON.stringify(this.string.length>e?"".concat(this.string.slice(0,10),"..."):this.string)}consume(e,t){"number"!=typeof e&&(e=e[0].length);let r,n=this.string.slice(0,e);for(;(r=n.indexOf("\n"))>=0;)this.line++,this.column=1,n=n.substr(r+1);this.column+=n.length,this.offset+=e,this.string=this.string.substr(e),this.state=t}getLocation(e){return{filename:this.filename,offset:this.offset,line:this.line,column:this.column,size:e}}}!function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE"}(K||(K={}));const ee=Symbol("textContent");let te=0;class re{constructor(e,t,r){this.nodeType=e,this.nodeName=null!=t?t:"#document",this.location=r,this.disabledRules=new Set,this.childNodes=[],this.unique=te++,this.cache=null}cacheEnable(){this.cache=new Map}cacheGet(e){return this.cache?this.cache.get(e):void 0}cacheSet(e,t){return this.cache&&this.cache.set(e,t),t}cacheRemove(e){return!!this.cache&&this.cache.delete(e)}cacheExists(e){return Boolean(this.cache&&this.cache.has(e))}get textContent(){const e=this.cacheGet(ee);if(e)return e;const t=this.childNodes.map((e=>e.textContent)).join("");return this.cacheSet(ee,t),t}append(e){this.childNodes.push(e)}isRootElement(){return this.nodeType===K.DOCUMENT_NODE}isSameNode(e){return this.unique===e.unique}get firstChild(){return this.childNodes[0]||null}get lastChild(){return this.childNodes[this.childNodes.length-1]||null}disableRule(e){this.disabledRules.add(e)}disableRules(e){for(const t of e)this.disableRule(t)}enableRule(e){this.disabledRules.delete(e)}enableRules(e){for(const t of e)this.enableRule(t)}ruleEnabled(e){return!this.disabledRules.has(e)}generateSelector(){return null}}class ne extends Array{constructor(e,t){if(e&&"string"==typeof e){const r=e.replace(/[\t\r\n]/g," "),{tokens:n,locations:o}=function(e,t){const r=[],n=t?[]:null;for(let o=0;o<e.length;){let s=e.indexOf(" ",o);-1===s&&(s=e.length);const i=s-o;if(0===i){o++;continue}const a=e.substring(o,s);if(r.push(a),n&&t){const e=W(t,o,s);n.push(e)}o+=i+1}return{tokens:r,locations:n}}(r,t);super(...n),this.locations=o}else super(0),this.locations=null;this.value=e instanceof H?e.expr:e||""}item(e){return this[e]}location(e){if(this.locations)return this.locations[e];throw new Error("Trying to access DOMTokenList location when base location isn't set")}contains(e){return this.includes(e)}*iterator(){for(let e=0;e<this.length;e++){const t=this.item(e),r=this.location(e);yield{index:e,item:t,location:r}}}}var oe;!function(e){e[e.DESCENDANT=1]="DESCENDANT",e[e.CHILD=2]="CHILD",e[e.ADJACENT_SIBLING=3]="ADJACENT_SIBLING",e[e.GENERAL_SIBLING=4]="GENERAL_SIBLING",e[e.SCOPE=5]="SCOPE"}(oe||(oe={}));const se={};const ie={"first-child":function(e){return null===e.previousSibling},"last-child":function(e){return null===e.nextSibling},"nth-child":function(e,t){if(!t)throw new Error("Missing argument to nth-child");const r=parseInt(t.trim(),10);return function(e){if(!e.parent)return-1;if(!se[e.unique]){const t=e.parent.childElements.findIndex((t=>t.unique===e.unique));se[e.unique]=t+1}return se[e.unique]}(e)===r},scope:function(e){return e.isSameNode(this.scope)}};function ae(e){return e.toString().replace(/([:[\] ])/g,"\\$1")}class le{}class ce extends le{constructor(e){super(),this.classname=e}match(e){return e.classList.contains(this.classname)}}class ue extends le{constructor(e){super(),this.id=e.replace(/\\(.)/g,"$1")}match(e){return e.id===this.id}}class de extends le{constructor(e){super();const[,t,r,n]=e.match(/^(.+?)(?:([~^$*|]?=)"([^"]+?)")?$/);this.key=t,this.op=r,this.value=n}match(e){return(e.getAttribute(this.key,!0)||[]).some((e=>{switch(this.op){case void 0:return!0;case"=":return e.value===this.value;default:throw new Error("Attribute selector operator ".concat(this.op," is not implemented yet"))}}))}}class me extends le{constructor(e,t){super();const r=e.match(/^([^(]+)(?:\((.*)\))?$/);if(!r)throw new Error('Missing pseudo-class after colon in selector pattern "'.concat(t,'"'));const[,n,o]=r;this.name=n,this.args=o}match(e,t){const r=function(e,t){const r=ie[e];if(r)return r.bind(t);throw new Error('Pseudo-class "'.concat(e,'" is not implemented'))}(this.name,t);return r(e,this.args)}}class he{constructor(e){const t=e.match(/^([~+\->]?)((?:[*]|[^.#[:]+)?)(.*)$/);t.shift(),this.selector=e,this.combinator=function(e,t){if(":scope"===t)return oe.SCOPE;switch(e){case void 0:case null:case"":return oe.DESCENDANT;case">":return oe.CHILD;case"+":return oe.ADJACENT_SIBLING;case"~":return oe.GENERAL_SIBLING;default:throw new Error('Unknown combinator "'.concat(e,'"'))}}(t.shift(),e),this.tagName=t.shift()||"*";const r=t[0]?t[0].split(/(?=(?<!\\)[.#[:])/):[];this.pattern=r.map((e=>this.createMatcher(e)))}match(e,t){return e.is(this.tagName)&&this.pattern.every((r=>r.match(e,t)))}createMatcher(e){switch(e[0]){case".":return new ce(e.slice(1));case"#":return new ue(e.slice(1));case"[":return new de(e.slice(1,-1));case":":return new me(e.slice(1),this.selector);default:throw new Error('Failed to create matcher for "'.concat(e,'"'))}}}class pe{constructor(e){this.pattern=pe.parse(e)}*match(e){const t={scope:e};yield*this.matchInternal(e,0,t)}*matchInternal(e,t,r){if(t>=this.pattern.length)return void(yield e);const n=this.pattern[t],o=pe.findCandidates(e,n);for(const s of o)n.match(s,r)&&(yield*this.matchInternal(s,t+1,r))}static parse(e){return(e=e.replace(/([+~>]) /g,"$1")).split(/(?:(?<!\\) )+/).map((e=>new he(e)))}static findCandidates(e,t){switch(t.combinator){case oe.DESCENDANT:return e.getElementsByTagName(t.tagName);case oe.CHILD:return e.childElements.filter((e=>e.is(t.tagName)));case oe.ADJACENT_SIBLING:return pe.findAdjacentSibling(e);case oe.GENERAL_SIBLING:return pe.findGeneralSibling(e);case oe.SCOPE:return[e]}return[]}static findAdjacentSibling(e){let t=!1;return e.siblings.filter((r=>t?(t=!1,!0):(r===e&&(t=!0),!1)))}static findGeneralSibling(e){let t=!1;return e.siblings.filter((r=>!!t||(r===e&&(t=!0),!1)))}}class fe extends re{constructor(e,t){super(K.TEXT_NODE,"#text",t),this.text=e}get textContent(){return this.text.toString()}get isStatic(){return!this.isDynamic}get isDynamic(){return this.text instanceof H}}var ge;function ye(e){return e.nodeType===K.ELEMENT_NODE}t.NodeClosed=void 0,(ge=t.NodeClosed||(t.NodeClosed={}))[ge.Open=0]="Open",ge[ge.EndTag=1]="EndTag",ge[ge.VoidOmitted=2]="VoidOmitted",ge[ge.VoidSelfClosed=3]="VoidSelfClosed",ge[ge.ImplicitClosed=4]="ImplicitClosed";class be extends re{constructor(e,t,r,n,o){if(super(e?K.ELEMENT_NODE:K.DOCUMENT_NODE,e,o),!function(e){return Boolean(""!==e&&"*"!==e)}(e))throw new Error("The tag name provided ('".concat(e||"","') is not a valid name"));if(this.tagName=e||"#document",this.parent=null!=t?t:null,this.attr={},this.metaElement=null!=n?n:null,this.closed=r,this.voidElement=!!n&&Boolean(n.void),this.depth=0,this.annotation=null,t){t.childNodes.push(this);let e=t;for(;e.parent;)this.depth++,e=e.parent}}static rootNode(e){return new be(void 0,null,t.NodeClosed.EndTag,null,e)}static fromTokens(e,r,n,o){const s=e.data[2];if(!s)throw new Error("tagName cannot be empty");const i=o?o.getMetaFor(s):null,a="/"!==e.data[1],l=function(e,r){let n=t.NodeClosed.Open;r&&r.void&&(n=t.NodeClosed.VoidOmitted);"/>"===e.data[0]&&(n=t.NodeClosed.VoidSelfClosed);return n}(r,i),c=W(e.location,1);return new be(s,a?n:null,l,i,c)}get annotatedName(){return this.annotation?this.annotation:"<".concat(this.tagName,">")}get childElements(){return this.childNodes.filter(ye)}closest(e){let t=this;for(;t;){if(t.matches(e))return t;t=t.parent}return null}generateSelector(){if(this.isRootElement())return null;const e=[];let t;for(t=this;t.parent;t=t.parent);for(let r=this;r.parent;r=r.parent){if(r.id){const n=ae(r.id);if(1===t.querySelectorAll("#".concat(n)).length){e.push("#".concat(n));break}}const n=r.parent.childElements,o=n.findIndex((e=>e.unique===r.unique));1===n.filter((e=>e.is(r.tagName))).length?e.push(r.tagName.toLowerCase()):e.push("".concat(r.tagName.toLowerCase(),":nth-child(").concat(o+1,")"))}return e.reverse().join(" > ")}is(e){return"*"===e||this.tagName.toLowerCase()===e.toLowerCase()}loadMeta(e){this.metaElement||(this.metaElement={});for(const t of O){const r=e[t];void 0!==r?L(this.metaElement,t,r):delete this.metaElement[t]}}matches(e){let t=this;for(;t.parent;)t=t.parent;for(const r of t.querySelectorAll(e))if(r.unique===this.unique)return!0;return!1}get meta(){return this.metaElement}setAnnotation(e){this.annotation=e}setAttribute(e,t,r,n,o){e=e.toLowerCase(),this.attr[e]||(this.attr[e]=[]),this.attr[e].push(new Y(e,t,r,n,o))}get attributes(){return Object.values(this.attr).reduce(((e,t)=>e.concat(t)),[])}hasAttribute(e){return(e=e.toLowerCase())in this.attr}getAttribute(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e=e.toLowerCase())in this.attr){const r=this.attr[e];return t?r:r[0]}return null}getAttributeValue(e){const t=this.getAttribute(e);return t&&null!==t.value?t.value.toString():null}appendText(e,t){this.childNodes.push(new fe(e,t))}get classList(){if(!this.hasAttribute("class"))return new ne(null,null);const e=this.getAttribute("class",!0).filter((e=>e.isStatic)).map((e=>e.value)).join(" ");return new ne(e,null)}get id(){return this.getAttributeValue("id")}get firstElementChild(){const e=this.childElements;return e.length>0?e[0]:null}get lastElementChild(){const e=this.childElements;return e.length>0?e[e.length-1]:null}get siblings(){return this.parent?this.parent.childElements:[this]}get previousSibling(){const e=this.siblings.findIndex((e=>e.unique===this.unique));return e>=1?this.siblings[e-1]:null}get nextSibling(){const e=this.siblings.findIndex((e=>e.unique===this.unique));return e<=this.siblings.length-2?this.siblings[e+1]:null}getElementsByTagName(e){return this.childElements.reduce(((t,r)=>t.concat(r.is(e)?[r]:[],r.getElementsByTagName(e))),[])}querySelector(e){return this.querySelectorImpl(e).next().value||null}querySelectorAll(e){const t=this.querySelectorImpl(e),r=new Set(t);return Array.from(r.values())}*querySelectorImpl(e){if(e)for(const t of e.split(/,\s*/)){const e=new pe(t);yield*e.match(this)}}visitDepthFirst(e){!function t(r){r.childElements.forEach(t),r.isRootElement()||e(r)}(this)}someChildren(e){return this.childElements.some((function t(r){return!!e(r)||r.childElements.some(t)}))}everyChildren(e){return this.childElements.every((function t(r){if(!e(r))return!1;return r.childElements.every(t)}))}find(e){return function(t){if(e(t))return t;for(const r of t.childElements){const t=r.find(e);if(t)return t}return null}(this)}}class ve{constructor(e){this.root=be.rootNode(e),this.active=this.root,this.doctype=null}pushActive(e){this.active=e}popActive(){this.active.isRootElement()||(this.active=this.active.parent||this.root)}getActive(){return this.active}resolveMeta(e){this.visitDepthFirst((t=>e.resolve(t)))}getElementsByTagName(e){return this.root.getElementsByTagName(e)}visitDepthFirst(e){this.root.visitDepthFirst(e)}find(e){return this.root.find(e)}querySelector(e){return this.root.querySelector(e)}querySelectorAll(e){return this.root.querySelectorAll(e)}}const we=["exclude"];class Te{static validatePermitted(e,t){return!t||t.some((t=>Te.validatePermittedRule(e,t)))}static validateOccurrences(e,t,r){if(!t)return!0;const n=function(e){if(!e)return null;const[,t]=e.match(/^.*?([?*]?)$/);switch(t){case"?":return 1;case"":case"*":return null;default:throw new Error('Invalid amount qualifier "'.concat(t,'" used'))}}(t.find((t=>{if("string"!=typeof t)return!1;const r=t.match(/^(.*?)[?*]?$/);return r&&r[1]===e.tagName})));return null===n||r<=n}static validateOrder(e,t,r){if(!t)return!0;let n=0,o=null;for(const s of e){const e=n;for(;t[n]&&!Te.validatePermittedCategory(s,t[n],!0);)n++;if(n>=t.length){if(t.find((e=>Te.validatePermittedCategory(s,e,!0))))return r(s,o),!1;n=e}o=s}return!0}static validateAncestors(e,t){return!t||0===t.length||t.some((t=>e.closest(t)))}static validateRequiredContent(e,t){return t&&0!==t.length?t.filter((t=>!e.childElements.some((e=>e.is(t))))):[]}static validateAttribute(e,t){const r=t[e.key];if(!r)return!0;const n=e.value;if(n instanceof H)return!0;const o=null===n||""===n;if(r.boolean)return o||n===e.key;if(r.omit&&o)return!0;if(r.list){return new ne(n,e.valueLocation).every((e=>this.validateAttributeValue(e,r)))}return this.validateAttributeValue(n,r)}static validateAttributeValue(e,t){return!t.enum||null!=e&&t.enum.some((t=>t instanceof RegExp?!!e.match(t):e===t))}static validatePermittedRule(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"string"==typeof t?Te.validatePermittedCategory(e,t,!r):Array.isArray(t)?t.every((t=>Te.validatePermittedRule(e,t,r))):(function(e){for(const t of Object.keys(e))if(!we.includes(t)){const r=JSON.stringify(e);throw new Error('Permitted rule "'.concat(r,'" contains unknown property "').concat(t,'"'))}}(t),!t.exclude||(Array.isArray(t.exclude)?!t.exclude.some((t=>Te.validatePermittedRule(e,t,!0))):!Te.validatePermittedRule(e,t.exclude,!0)))}static validatePermittedCategory(e,t,r){if("@"!==t[0]){const[,r]=t.match(/^(.*?)[?*]?$/);return e.tagName===r}if(!e.meta)return r;switch(t){case"@meta":return e.meta.metadata;case"@flow":return e.meta.flow;case"@sectioning":return e.meta.sectioning;case"@heading":return e.meta.heading;case"@phrasing":return e.meta.phrasing;case"@embedded":return e.meta.embedded;case"@interactive":return e.meta.interactive;case"@script":return e.meta.scriptSupporting;case"@form":return e.meta.form;default:throw new Error('Invalid content category "'.concat(t,'"'))}}}var Ee={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://html-validate.org/schemas/config.json",type:"object",additionalProperties:!1,properties:{$schema:{type:"string"},root:{type:"boolean",title:"Mark as root configuration",description:"If this is set to true no further configurations will be searched.",default:!1},extends:{type:"array",items:{type:"string"},title:"Configurations to extend",description:"Array of shareable or builtin configurations to extend."},elements:{type:"array",items:{anyOf:[{type:"string"},{type:"object"}]},title:"Element metadata to load",description:"Array of modules, plugins or files to load element metadata from. Use <rootDir> to refer to the folder with the package.json file.",examples:[["html-validate:recommended","plugin:recommended","module","./local-file.json"]]},plugins:{type:"array",items:{type:"string"},title:"Plugins to load",description:"Array of plugins load. Use <rootDir> to refer to the folder with the package.json file.",examples:[["my-plugin","./local-plugin"]]},transform:{type:"object",additionalProperties:{type:"string"},title:"File transformations to use.",description:"Object where key is regular expression to match filename and value is name of transformer.",examples:[{"^.*\\.foo$":"my-transformer","^.*\\.bar$":"my-plugin","^.*\\.baz$":"my-plugin:named"}]},rules:{type:"object",patternProperties:{".*":{anyOf:[{enum:[0,1,2,"off","warn","error"]},{type:"array",minItems:1,maxItems:1,items:[{enum:[0,1,2,"off","warn","error"]}]},{type:"array",minItems:2,maxItems:2,items:[{enum:[0,1,2,"off","warn","error"]},{}]}]}},title:"Rule configuration.",description:"Enable/disable rules, set severity. Some rules have additional configuration like style or patterns to use.",examples:[{foo:"error",bar:"off",baz:["error",{style:"camelcase"}]}]}}};const ke=r(88789),xe=r(66767);function Ae(e){let t=e[0].start+1,r="";for(const n of e)r+=" ".repeat(n.start+1-t),r+=n.value.raw,t=n.end-2;return r}function qe(e,t){let r=e.line,n=e.column+1;for(let o=0;o<t.length;o++)if(r>1)"\n"===t[o]&&r--;else{if(!(n>1))return o;n--}throw new Error("Failed to compute location offset from position")}function Ce(e,t,r){switch(e.type){case"FunctionExpression":case"Identifier":return null;case"Literal":return"string"!=typeof e.value?null:{data:e.value.toString(),filename:t,line:e.loc.start.line,column:e.loc.start.column+1,offset:qe(e.loc.start,r)+1};case"TemplateLiteral":return{data:Ae(e.quasis),filename:t,line:e.loc.start.line,column:e.loc.start.column+1,offset:qe(e.loc.start,r)+1};case"TaggedTemplateExpression":return{data:Ae(e.quasi.quasis),filename:t,line:e.quasi.loc.start.line,column:e.quasi.loc.start.column+1,offset:qe(e.quasi.loc.start,r)+1};case"ArrowFunctionExpression":return["Literal","TemplateLiteral"].includes(e.body.type)?Ce(e.body,t,r):null;default:{const r=e.loc.start,n="".concat(t,":").concat(r.line,":").concat(r.column);throw new Error('Unhandled node type "'.concat(e.type,'" at "').concat(n,'" in extractLiteral'))}}}class Ne{constructor(e,t,r){this.ast=e,this.filename=t,this.data=r}static fromFilename(e){const t=p.default.readFileSync(e,"utf-8"),r=ke.parse(t,{ecmaVersion:2017,sourceType:"module",loc:!0});return new Ne(r,e,t)}static fromString(e,t){const r=ke.parse(e,{ecmaVersion:2017,sourceType:"module",loc:!0});return new Ne(r,t||"inline",e)}static createSource(e){return[{column:1,data:p.default.readFileSync(e,"utf-8"),filename:e,line:1,offset:0}]}extractObjectProperty(e){const t=[],{filename:r,data:n}=this;return xe.simple(this.ast,{Property(o){if(function(e,t,r){switch(e.type){case"Identifier":return e.name===t;case"Literal":return e.value===t;default:{const t=e.loc.start,n="".concat(r,":").concat(t.line,":").concat(t.column);throw new Error('Unhandled node type "'.concat(e.type,'" at "').concat(n,'" in compareKey'))}}}(o.key,e,r)){const e=Ce(o.value,r,n);e&&(e.filename=r,t.push(e))}}}),t}}var Se;!function(e){e[e.VERSION=1]="VERSION"}(Se||(Se={}));const Ie="6.5.0";var Oe;function Le(e){switch(e){case 0:case"off":return t.Severity.DISABLED;case"disable":return console.warn('Deprecated alias "disabled" will be removed, replace with severity "off"'),t.Severity.DISABLED;case 1:case"warn":return t.Severity.WARN;case 2:case"error":return t.Severity.ERROR;default:throw new Error('Invalid severity "'.concat(e,'"'))}}function Re(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e)return"null";if("number"==typeof e)return e.toString();if("string"==typeof e)return t?"'".concat(function(e){return e.replace(/'/g,"\\'")}(e),"'"):e;if(Array.isArray(e)){const t=e.map((e=>Re(e,!0))).join(", ");return"[ ".concat(t," ]")}if("object"==typeof e){const t=Object.entries(e).map((e=>{let[t,r]=e;return"".concat(t,": ").concat(Re(r,!0))})).join(", ");return"{ ".concat(t," }")}return String(e)}function De(e,t){return e.replace(/{{\s*([^\s]+)\s*}}/g,((e,r)=>void 0!==t[r]?Re(t[r]):e))}t.Severity=void 0,(Oe=t.Severity||(t.Severity={}))[Oe.DISABLED=0]="DISABLED",Oe[Oe.WARN=1]="WARN",Oe[Oe.ERROR=2]="ERROR";const Pe={"tag:open":"tag:start","tag:close":"tag:end"},Me=new g.default({strict:!0,strictTuples:!0,strictTypes:!0});Me.addMetaSchema(E);class je{constructor(e){this.reporter=null,this.parser=null,this.meta=null,this.event=null,this.options=e,this.enabled=!0,this.severity=0,this.name=""}getSeverity(){return this.severity}setServerity(e){this.severity=e}setEnabled(e){this.enabled=e}get deprecated(){return!1}isEnabled(){return this.enabled&&this.severity>=t.Severity.WARN}isKeywordIgnored(e){const{include:t,exclude:r}=this.options;return!(!t||t.includes(e))||!(!r||!r.includes(e))}getTagsWithProperty(e){return this.meta.getTagsWithProperty(e)}getTagsDerivedFrom(e){return this.meta.getTagsDerivedFrom(e)}static schema(){return null}report(e,t,r,n){if(this.isEnabled()&&(!e||e.ruleEnabled(this.name))){const o=this.findLocation({node:e,location:r,event:this.event}),s=De(t,null!=n?n:{});this.reporter.add(this,s,this.severity,e,o,n)}}findLocation(e){return e.location?e.location:e.event&&e.event.location?e.event.location:e.node&&e.node.location?e.node.location:{}}on(e){var t;const r=Pe[e];r&&(e=r);for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];const i=o.pop(),a=null!==(t=o.pop())&&void 0!==t?t:()=>!0;return this.parser.on(e,((e,t)=>{this.isEnabled()&&a(t)&&(this.event=t,i(t))}))}init(e,t,r,n){this.parser=e,this.reporter=t,this.severity=r,this.meta=n}static validateOptions(e,t,r,n,o,s){var i;if(!e)return;const a=e.schema();if(!a)return;const l=function(e,t){const r="rule/".concat(e),n=Me.getSchema(r);if(n)return n;const o={$id:r,type:"object",additionalProperties:!1,properties:t};return Me.compile(o)}(t,a);if(!l(n)){const e=(null!==(i=l.errors)&&void 0!==i?i:[]).map((e=>(e.instancePath="".concat(r).concat(e.instancePath),e)));throw new A(o,"Rule configuration error",s,a,e)}}documentation(e){return null}}function Fe(e){e=e.replace("@",C);const t=b.default.parse(e),r=b.default.join(C,"rules"),n=b.default.relative(r,b.default.join(t.dir,t.name)).replace(/\\/g,"/");return"".concat("https://html-validate.org","/rules/").concat(n,".html")}const $e={allowExternal:!0,allowRelative:!0,allowAbsolute:!0,allowBase:!0},ze={a:"href",img:"src",link:"href",script:"src"},_e={external:"External links are not allowed by current configuration.","relative-base":"Links relative to <base> are not allowed by current configuration.","relative-path":"Relative links are not allowed by current configuration.",absolute:"Absolute links are not allowed by current configuration.",anchor:null};function Be(e){return"boolean"==typeof e?e:{include:e.include?e.include.map((e=>new RegExp(e))):null,exclude:e.exclude?e.exclude.map((e=>new RegExp(e))):null}}function Ue(e,t){return!(t.include&&!t.include.some((t=>t.test(e))))&&(!t.exclude||!t.exclude.some((t=>t.test(e))))}const Ge=["main","nav","table","td","th","aside","header","footer","section","article","form","img","area","fieldset","summary","figure"];class Ve extends x{}class Xe{constructor(e,t){if(Array.isArray(e)||(e=[e]),0===e.length)throw new Ve("Missing style for ".concat(t," rule"));this.styles=this.parseStyle(e,t)}match(e){return this.styles.some((t=>e.match(t.pattern)))}get name(){const e=this.styles.map((e=>e.name));switch(this.styles.length){case 1:return e[0];case 2:return e.join(" or ");default:{const t=e.slice(-1),r=e.slice(0,-1);return"".concat(r.join(", ")," or ").concat(t)}}}parseStyle(e,t){return e.map((r=>{switch(r.toLowerCase()){case"lowercase":return{pattern:/^[a-z]*$/,name:"lowercase"};case"uppercase":return{pattern:/^[A-Z]*$/,name:"uppercase"};case"pascalcase":return{pattern:/^[A-Z][A-Za-z]*$/,name:"PascalCase"};case"camelcase":return{pattern:/^[a-z][A-Za-z]*$/,name:"camelCase"};default:throw new Ve('Invalid style "'.concat(e,'" for ').concat(t," rule"))}}))}}const He={style:"lowercase",ignoreForeign:!0};var Ye;t.TokenType=void 0,(Ye=t.TokenType||(t.TokenType={}))[Ye.UNICODE_BOM=1]="UNICODE_BOM",Ye[Ye.WHITESPACE=2]="WHITESPACE",Ye[Ye.DOCTYPE_OPEN=3]="DOCTYPE_OPEN",Ye[Ye.DOCTYPE_VALUE=4]="DOCTYPE_VALUE",Ye[Ye.DOCTYPE_CLOSE=5]="DOCTYPE_CLOSE",Ye[Ye.TAG_OPEN=6]="TAG_OPEN",Ye[Ye.TAG_CLOSE=7]="TAG_CLOSE",Ye[Ye.ATTR_NAME=8]="ATTR_NAME",Ye[Ye.ATTR_VALUE=9]="ATTR_VALUE",Ye[Ye.TEXT=10]="TEXT",Ye[Ye.TEMPLATING=11]="TEMPLATING",Ye[Ye.SCRIPT=12]="SCRIPT",Ye[Ye.STYLE=13]="STYLE",Ye[Ye.COMMENT=14]="COMMENT",Ye[Ye.CONDITIONAL=15]="CONDITIONAL",Ye[Ye.DIRECTIVE=16]="DIRECTIVE",Ye[Ye.EOF=17]="EOF";const We=/^\uFEFF/,Je=/^(?:\r\n|\r|\n|[ \t]+(?:\r\n|\r|\n)?)/,Qe=/^<!(DOCTYPE)\s/i,Ke=/^[^>]+/,Ze=/^>/,et=/^<\?xml.*?\?>\s+/,tt=/^<(\/?)([a-zA-Z0-9\-:]+)/,rt=/^\/?>/,nt=/^[^]*?(?=(?:[ \t]*(?:\r\n|\r|\n)|<[^ ]|$))/,ot=/^(?:<%.*?%>|<\?.*?\?>|<\$.*?\$>)/s,st=/^[^]*?(?=<|$)/,it=/^([^\t\r\n\f \/><"'=]+)/,at=/^(\s*=\s*)'([^']*?)(')/,lt=/^(\s*=\s*)"([^"]*?)(")/,ct=/^(\s*=\s*)([^\t\r\n\f "'<>][^\t\r\n\f <>]*)/,ut=/^<!\[CDATA\[/,dt=/^[^]*?]]>/,mt=/^[^]*?(?=<\/script)/,ht=/^<(\/)(script)/,pt=/^[^]*?(?=<\/style)/,ft=/^<(\/)(style)/,gt=/^<!--\s*(\[)html-validate-([a-z0-9-]+)\s*(.*?)(]?)\s*-->/,yt=/^<!--([^]*?)-->/,bt=/^<!\[([^\]]*?)\]>/;class vt extends Error{constructor(e,t){super(t),this.location=e}}class wt{*tokenize(e){const r=new Z(e);let n=r.state,o=r.string.length;for(;r.string.length>0;){switch(r.state){case J.INITIAL:yield*this.tokenizeInitial(r);break;case J.DOCTYPE:yield*this.tokenizeDoctype(r);break;case J.TAG:yield*this.tokenizeTag(r);break;case J.ATTR:yield*this.tokenizeAttr(r);break;case J.TEXT:yield*this.tokenizeText(r);break;case J.CDATA:yield*this.tokenizeCDATA(r);break;case J.SCRIPT:yield*this.tokenizeScript(r);break;case J.STYLE:yield*this.tokenizeStyle(r);break;default:this.unhandled(r)}r.state===n&&r.string.length===o&&this.errorStuck(r),n=r.state,o=r.string.length}yield this.token(r,t.TokenType.EOF,[])}token(e,t,r){const n=r.length>0?r[0].length:0;return{type:t,location:e.getLocation(n),data:Array.from(r)}}unhandled(e){const t=JSON.stringify(e.string.length>13?"".concat(e.string.slice(0,15),"..."):e.string),r=J[e.state],n="failed to tokenize ".concat(t,", unhandled state ").concat(r,".");throw new vt(e.getLocation(1),n)}errorStuck(e){const t=J[e.state],r="failed to tokenize ".concat(e.getTruncatedLine(),", state ").concat(t," failed to consume data or change state.");throw new vt(e.getLocation(1),r)}evalNextState(e,t){return"function"==typeof e?e(t):e}*match(e,t,r){const n=t.length;for(let s=0;s<n;s++){const[r,n,o]=t[s],i=r?e.string.match(r):[""];if(i){let t=null;!1!==o&&(t=this.token(e,o,i),yield t);const r=this.evalNextState(n,t);return e.consume(i,r),void this.enter(e,r,i)}}const o="failed to tokenize ".concat(e.getTruncatedLine(),", ").concat(r,".");throw new vt(e.getLocation(1),o)}enter(e,t,r){t===J.TAG&&r&&"<"===r[0][0]&&("<script"===r[0]?e.contentModel=Q.SCRIPT:"<style"===r[0]?e.contentModel=Q.STYLE:e.contentModel=Q.TEXT)}*tokenizeInitial(e){yield*this.match(e,[[We,J.INITIAL,t.TokenType.UNICODE_BOM],[et,J.INITIAL,!1],[Qe,J.DOCTYPE,t.TokenType.DOCTYPE_OPEN],[Je,J.INITIAL,t.TokenType.WHITESPACE],[gt,J.INITIAL,t.TokenType.DIRECTIVE],[bt,J.INITIAL,t.TokenType.CONDITIONAL],[yt,J.INITIAL,t.TokenType.COMMENT],[!1,J.TEXT,!1]],"expected doctype")}*tokenizeDoctype(e){yield*this.match(e,[[Je,J.DOCTYPE,t.TokenType.WHITESPACE],[Ke,J.DOCTYPE,t.TokenType.DOCTYPE_VALUE],[Ze,J.TEXT,t.TokenType.DOCTYPE_CLOSE]],"expected doctype name")}*tokenizeTag(e){yield*this.match(e,[[rt,function(t){const r=t;switch(e.contentModel){case Q.TEXT:return J.TEXT;case Q.SCRIPT:return r&&"/"!==r.data[0][0]?J.SCRIPT:J.TEXT;case Q.STYLE:return r&&"/"!==r.data[0][0]?J.STYLE:J.TEXT}},t.TokenType.TAG_CLOSE],[it,J.ATTR,t.TokenType.ATTR_NAME],[Je,J.TAG,t.TokenType.WHITESPACE]],'expected attribute, ">" or "/>"')}*tokenizeAttr(e){yield*this.match(e,[[at,J.TAG,t.TokenType.ATTR_VALUE],[lt,J.TAG,t.TokenType.ATTR_VALUE],[ct,J.TAG,t.TokenType.ATTR_VALUE],[!1,J.TAG,!1]],'expected attribute, ">" or "/>"')}*tokenizeText(e){yield*this.match(e,[[Je,J.TEXT,t.TokenType.WHITESPACE],[ut,J.CDATA,!1],[gt,J.TEXT,t.TokenType.DIRECTIVE],[bt,J.TEXT,t.TokenType.CONDITIONAL],[yt,J.TEXT,t.TokenType.COMMENT],[ot,J.TEXT,t.TokenType.TEMPLATING],[tt,J.TAG,t.TokenType.TAG_OPEN],[nt,J.TEXT,t.TokenType.TEXT],[st,J.TEXT,t.TokenType.TEXT]],'expected text or "<"')}*tokenizeCDATA(e){yield*this.match(e,[[dt,J.TEXT,!1]],"expected ]]>")}*tokenizeScript(e){yield*this.match(e,[[ht,J.TAG,t.TokenType.TAG_OPEN],[mt,J.SCRIPT,t.TokenType.SCRIPT]],"expected <\/script>")}*tokenizeStyle(e){yield*this.match(e,[[ft,J.TAG,t.TokenType.TAG_OPEN],[pt,J.STYLE,t.TokenType.STYLE]],"expected </style>")}}const Tt=/(\s+)/;function Et(e){return e.type===t.TokenType.ATTR_VALUE}const kt={pattern:"[a-z0-9-:]+",ignoreForeign:!0};var xt;!function(e){e.SINGLE_QUOTE="'",e.DOUBLE_QUOTE='"',e.AUTO_QUOTE="auto"}(xt||(xt={}));const At={style:"auto",unquoted:!1};const qt={style:"omit"};function Ct(e,t){const r=e.key;switch(t.toLowerCase()){case"omit":return'Attribute "'.concat(r,'" should omit value');case"empty":return'Attribute "'.concat(r,'" value should be empty string');case"name":return'Attribute "'.concat(r,'" should be set to ').concat(r,'="').concat(r,'"')}return""}const Nt={style:"omit"};function St(e,t){var r;return Boolean(null===(r=t[e.key])||void 0===r?void 0:r.omit)}function It(e){return!e.isDynamic&&(null===e.value||""===e.value)}function Ot(e,t){const r=e.key;switch(t.toLowerCase()){case"omit":return'Attribute "'.concat(r,'" should omit value');case"empty":return'Attribute "'.concat(r,'" value should be empty string')}return""}function Lt(e){switch(e){case"kebabcase":return/^[a-z0-9-]+$/;case"camelcase":return/^[a-z][a-zA-Z0-9]+$/;case"underscore":return/^[a-z0-9_]+$/;default:return new RegExp(e)}}function Rt(e){const t=Lt(e).toString();switch(e){case"kebabcase":case"camelcase":case"underscore":return"".concat(t," (").concat(e,")");default:return t}}const Dt={pattern:"kebabcase"};const Pt={include:null,exclude:null};const Mt={style:"uppercase"};const jt={style:"lowercase"};const Ft={pattern:"^[a-z][a-z0-9\\-._]*-[a-z0-9\\-._]*$",whitelist:[],blacklist:[]};const $t=Symbol(_t.name);var zt;function _t(e){if(e.cacheExists($t))return e.cacheGet($t);const t=Bt(e);return t.some((e=>e.isDynamic))?e.cacheSet($t,zt.DYNAMIC_TEXT):t.some((e=>null!==e.textContent.match(/\S/)))?e.cacheSet($t,zt.STATIC_TEXT):e.cacheSet($t,zt.EMPTY_TEXT)}function Bt(e){let t=[];for(const r of e.childNodes)switch(r.nodeType){case K.TEXT_NODE:t.push(r);break;case K.ELEMENT_NODE:t=t.concat(Bt(r))}return t}!function(e){e[e.EMPTY_TEXT=0]="EMPTY_TEXT",e[e.DYNAMIC_TEXT=1]="DYNAMIC_TEXT",e[e.STATIC_TEXT=2]="STATIC_TEXT"}(zt||(zt={}));const Ut=["h1","h2","h3","h4","h5","h6"].join(",");const Gt={allowMultipleH1:!1,minInitialRank:"h1",sectioningRoots:["dialog",'[role="dialog"]']};function Vt(e){const t=e.target;return Boolean(t.meta&&t.meta.heading)}const Xt={pattern:"kebabcase"};const Ht=new Map([["accept",["file"]],["alt",["image"]],["autocomplete",["hidden","text","search","url","tel","email","password","date","month","week","time","datetime-local","number","range","color"]],["capture",["file"]],["checked",["checkbox","radio"]],["dirname",["text","search"]],["formaction",["submit","image"]],["formenctype",["submit","image"]],["formmethod",["submit","image"]],["formnovalidate",["submit","image"]],["formtarget",["submit","image"]],["height",["image"]],["list",["text","search","url","tel","email","date","month","week","time","datetime-local","number","range","color"]],["max",["date","month","week","time","datetime-local","number","range"]],["maxlength",["text","search","url","tel","email","password"]],["min",["date","month","week","time","datetime-local","number","range"]],["minlength",["text","search","url","tel","email","password"]],["multiple",["email","file"]],["pattern",["text","search","url","tel","email","password"]],["placeholder",["text","search","url","tel","email","password","number"]],["readonly",["text","search","url","tel","email","password","date","month","week","time","datetime-local","number"]],["required",["text","search","url","tel","email","password","date","month","week","time","datetime-local","number","checkbox","radio","file"]],["size",["text","search","url","tel","email","password"]],["src",["image"]],["step",["date","month","week","time","datetime-local","number","range"]],["width",["image"]]]);function Yt(e){const{target:t}=e;return t.is("input")}const Wt=Symbol(Zt.name),Jt=Symbol(er.name),Qt=Symbol(tr.name);function Kt(e){return!Zt(e)&&!tr(e)}function Zt(e){if(e.cacheExists(Wt))return Boolean(e.cacheGet(Wt));let t=e;do{const e=t.getAttribute("aria-hidden");if(e&&"true"===e.value)return t.cacheSet(Wt,!0);if(!t.parent)break;t=t.parent}while(!t.isRootElement());return e.cacheSet(Wt,!1)}function er(e){if(e.cacheExists(Jt))return Boolean(e.cacheGet(Jt));let t=e;do{const e=t.getAttribute("hidden");if(null!==e&&e.isStatic)return t.cacheSet(Jt,!0);if(!t.parent)break;t=t.parent}while(!t.isRootElement());return e.cacheSet(Jt,!1)}function tr(e){if(e.cacheExists(Qt))return Boolean(e.cacheGet(Qt));let t=e;do{const e=t.getAttribute("role");if(e&&"presentation"===e.value)return t.cacheSet(Qt,!0);if(!t.parent)break;t=t.parent}while(!t.isRootElement());return e.cacheSet(Qt,!1)}function rr(e){return!(er(e)||Zt(e))}const nr={maxlength:70};const or={include:null,exclude:null};function sr(e){const t=e.getAttribute("id");return!!t&&(!!t.value&&!t.isDynamic)}const ir={include:null,exclude:null,allowedProperties:["display"]};const ar=[{property:"aria-activedescendant",isList:!1},{property:"aria-controls",isList:!0},{property:"aria-describedby",isList:!0},{property:"aria-details",isList:!1},{property:"aria-errormessage",isList:!1},{property:"aria-flowto",isList:!0},{property:"aria-labelledby",isList:!0},{property:"aria-owns",isList:!0}];function lr(e,t){return 0===e.querySelectorAll('[id="'.concat(t,'"]')).length}const cr={relaxed:!1},ur=/([<>]|&(?![a-zA-Z0-9#]+;))/g,dr=/([<>"'=`]|&(?![a-zA-Z0-9#]+;))/g,mr=/^(<%.*?%>|<\?.*?\?>|<\$.*?\$>)$/s,hr=new Map([['"',"&quot;"],["&","&amp;"],["'","&apos;"],["<","&lt;"],["=","&equals;"],[">","&gt;"],["`","&grave;"]]);const pr={article:["article"],header:["banner"],button:["button"],td:["cell"],input:["checkbox","radio","input"],aside:["complementary"],footer:["contentinfo"],figure:["figure"],form:["form"],h1:["heading"],h2:["heading"],h3:["heading"],h4:["heading"],h5:["heading"],h6:["heading"],a:["link"],ul:["list"],select:["listbox"],li:["listitem"],main:["main"],nav:["navigation"],progress:["progressbar"],section:["region"],table:["table"],textarea:["textbox"]};const fr=/^(.+):.+$/,gr={ignoreForeign:!0,ignoreXML:!0};const yr=["button","submit","reset","image"],br={button:'<button type="button">',submit:'<button type="submit">',reset:'<button type="reset">',image:'<button type="button">'},vr={include:null,exclude:null};const wr={mapping:{article:"article",banner:"header",button:"button",cell:"td",checkbox:"input",complementary:"aside",contentinfo:"footer",figure:"figure",form:"form",heading:"hN",input:"input",link:"a",list:"ul",listbox:"select",listitem:"li",main:"main",navigation:"nav",progressbar:"progress",radio:"input",region:"section",table:"table",textbox:"textarea"},include:null,exclude:null};const Tr={target:"all"},Er=new RegExp("^(\\w+://|//)"),kr={link:"href",script:"src"};const xr=["","application/ecmascript","application/javascript","text/ecmascript","text/javascript"];function Ar(e){const t=e.getAttribute("alt");return null!==t&&null!==t.value&&(t.isDynamic||""!==t.value.toString())}function qr(e){const t=e.getAttribute("aria-label");return null!==t&&null!==t.value&&(t.isDynamic||""!==t.value.toString())}function Cr(e,t){const r=e.getAttribute(t);return Boolean(r&&r.valueMatches(/.+/,!0))}function Nr(e){return!!function(e){return Boolean(e&&e.nodeType===K.TEXT_NODE)}(e)&&(e.isDynamic||""!==e.textContent.trim())}function Sr(e){if(!Kt(e))return!1;return!!e.childNodes.some((e=>Nr(e)))||(!!Cr(e,"aria-label")||(!!Cr(e,"aria-labelledby")||(!(!e.is("img")||!Cr(e,"alt"))||(!!function(e){if(!e.is("input"))return!1;if(e.hasAttribute("value"))return!1;const t=e.getAttribute("type");return Boolean(t&&t.valueMatches(/submit|reset/,!1))}(e)||e.childElements.some((e=>Sr(e)))))))}class Ir extends je{documentation(e){const t={description:"The textual content for this element is not valid.",url:Fe("@/rules/text-content.ts")};if(null==e?void 0:e.textContent)switch(e.textContent){case S.NONE:t.description="The `<".concat(e.tagName,">` element must not have textual content.");break;case S.REQUIRED:t.description="The `<".concat(e.tagName,">` element must have textual content.");break;case S.ACCESSIBLE:t.description="The `<".concat(e.tagName,">` element must have accessible text.")}return t}static filter(e){const{target:t}=e;if(!t.meta)return!1;const{textContent:r}=t.meta;return!(!r||r===S.DEFAULT)}setup(){this.on("element:ready",Ir.filter,(e=>{const t=e.target,{textContent:r}=t.meta;switch(r){case S.NONE:this.validateNone(t);break;case S.REQUIRED:this.validateRequired(t);break;case S.ACCESSIBLE:this.validateAccessible(t)}}))}validateNone(e){_t(e)!==zt.EMPTY_TEXT&&this.reportError(e,e.meta,"".concat(e.annotatedName," must not have text content"))}validateRequired(e){_t(e)===zt.EMPTY_TEXT&&this.reportError(e,e.meta,"".concat(e.annotatedName," must have text content"))}validateAccessible(e){Kt(e)&&(Sr(e)||this.reportError(e,e.meta,"".concat(e.annotatedName," must have accessible text")))}reportError(e,t,r){this.report(e,r,null,{tagName:e.tagName,textContent:t.textContent})}}var Or=["&aacute;","&abreve;","&ac;","&acd;","&ace;","&acirc;","&acute;","&acy;","&aelig;","&af;","&afr;","&agrave;","&alefsym;","&aleph;","&alpha;","&amacr;","&amalg;","&amp;","&and;","&andand;","&andd;","&andslope;","&andv;","&ang;","&ange;","&angle;","&angmsd;","&angmsdaa;","&angmsdab;","&angmsdac;","&angmsdad;","&angmsdae;","&angmsdaf;","&angmsdag;","&angmsdah;","&angrt;","&angrtvb;","&angrtvbd;","&angsph;","&angst;","&angzarr;","&aogon;","&aopf;","&ap;","&apacir;","&ape;","&apid;","&apos;","&applyfunction;","&approx;","&approxeq;","&aring;","&ascr;","&assign;","&ast;","&asymp;","&asympeq;","&atilde;","&auml;","&awconint;","&awint;","&backcong;","&backepsilon;","&backprime;","&backsim;","&backsimeq;","&backslash;","&barv;","&barvee;","&barwed;","&barwedge;","&bbrk;","&bbrktbrk;","&bcong;","&bcy;","&bdquo;","&becaus;","&because;","&bemptyv;","&bepsi;","&bernou;","&bernoullis;","&beta;","&beth;","&between;","&bfr;","&bigcap;","&bigcirc;","&bigcup;","&bigodot;","&bigoplus;","&bigotimes;","&bigsqcup;","&bigstar;","&bigtriangledown;","&bigtriangleup;","&biguplus;","&bigvee;","&bigwedge;","&bkarow;","&blacklozenge;","&blacksquare;","&blacktriangle;","&blacktriangledown;","&blacktriangleleft;","&blacktriangleright;","&blank;","&blk12;","&blk14;","&blk34;","&block;","&bne;","&bnequiv;","&bnot;","&bopf;","&bot;","&bottom;","&bowtie;","&boxbox;","&boxdl;","&boxdr;","&boxh;","&boxhd;","&boxhu;","&boxminus;","&boxplus;","&boxtimes;","&boxul;","&boxur;","&boxv;","&boxvh;","&boxvl;","&boxvr;","&bprime;","&breve;","&brvbar;","&bscr;","&bsemi;","&bsim;","&bsime;","&bsol;","&bsolb;","&bsolhsub;","&bull;","&bullet;","&bump;","&bumpe;","&bumpeq;","&cacute;","&cap;","&capand;","&capbrcup;","&capcap;","&capcup;","&capdot;","&capitaldifferentiald;","&caps;","&caret;","&caron;","&cayleys;","&ccaps;","&ccaron;","&ccedil;","&ccirc;","&cconint;","&ccups;","&ccupssm;","&cdot;","&cedil;","&cedilla;","&cemptyv;","&cent;","&centerdot;","&cfr;","&chcy;","&check;","&checkmark;","&chi;","&cir;","&circ;","&circeq;","&circlearrowleft;","&circlearrowright;","&circledast;","&circledcirc;","&circleddash;","&circledot;","&circledr;","&circleds;","&circleminus;","&circleplus;","&circletimes;","&cire;","&cirfnint;","&cirmid;","&cirscir;","&clockwisecontourintegral;","&closecurlydoublequote;","&closecurlyquote;","&clubs;","&clubsuit;","&colon;","&colone;","&coloneq;","&comma;","&commat;","&comp;","&compfn;","&complement;","&complexes;","&cong;","&congdot;","&congruent;","&conint;","&contourintegral;","&copf;","&coprod;","&coproduct;","&copy;","&copysr;","&counterclockwisecontourintegral;","&crarr;","&cross;","&cscr;","&csub;","&csube;","&csup;","&csupe;","&ctdot;","&cudarrl;","&cudarrr;","&cuepr;","&cuesc;","&cularr;","&cularrp;","&cup;","&cupbrcap;","&cupcap;","&cupcup;","&cupdot;","&cupor;","&cups;","&curarr;","&curarrm;","&curlyeqprec;","&curlyeqsucc;","&curlyvee;","&curlywedge;","&curren;","&curvearrowleft;","&curvearrowright;","&cuvee;","&cuwed;","&cwconint;","&cwint;","&cylcty;","&dagger;","&daleth;","&darr;","&dash;","&dashv;","&dbkarow;","&dblac;","&dcaron;","&dcy;","&dd;","&ddagger;","&ddarr;","&ddotrahd;","&ddotseq;","&deg;","&del;","&delta;","&demptyv;","&dfisht;","&dfr;","&dhar;","&dharl;","&dharr;","&diacriticalacute;","&diacriticaldot;","&diacriticaldoubleacute;","&diacriticalgrave;","&diacriticaltilde;","&diam;","&diamond;","&diamondsuit;","&diams;","&die;","&differentiald;","&digamma;","&disin;","&div;","&divide;","&divideontimes;","&divonx;","&djcy;","&dlcorn;","&dlcrop;","&dollar;","&dopf;","&dot;","&dotdot;","&doteq;","&doteqdot;","&dotequal;","&dotminus;","&dotplus;","&dotsquare;","&doublebarwedge;","&doublecontourintegral;","&doubledot;","&doubledownarrow;","&doubleleftarrow;","&doubleleftrightarrow;","&doublelefttee;","&doublelongleftarrow;","&doublelongleftrightarrow;","&doublelongrightarrow;","&doublerightarrow;","&doublerighttee;","&doubleuparrow;","&doubleupdownarrow;","&doubleverticalbar;","&downarrow;","&downarrowbar;","&downarrowuparrow;","&downbreve;","&downdownarrows;","&downharpoonleft;","&downharpoonright;","&downleftrightvector;","&downleftteevector;","&downleftvector;","&downleftvectorbar;","&downrightteevector;","&downrightvector;","&downrightvectorbar;","&downtee;","&downteearrow;","&drbkarow;","&drcorn;","&drcrop;","&dscr;","&dscy;","&dsol;","&dstrok;","&dtdot;","&dtri;","&dtrif;","&duarr;","&duhar;","&dwangle;","&dzcy;","&dzigrarr;","&eacute;","&easter;","&ecaron;","&ecir;","&ecirc;","&ecolon;","&ecy;","&eddot;","&edot;","&ee;","&efdot;","&efr;","&eg;","&egrave;","&egs;","&egsdot;","&el;","&element;","&elinters;","&ell;","&els;","&elsdot;","&emacr;","&empty;","&emptyset;","&emptysmallsquare;","&emptyv;","&emptyverysmallsquare;","&emsp13;","&emsp14;","&emsp;","&eng;","&ensp;","&eogon;","&eopf;","&epar;","&eparsl;","&eplus;","&epsi;","&epsilon;","&epsiv;","&eqcirc;","&eqcolon;","&eqsim;","&eqslantgtr;","&eqslantless;","&equal;","&equals;","&equaltilde;","&equest;","&equilibrium;","&equiv;","&equivdd;","&eqvparsl;","&erarr;","&erdot;","&escr;","&esdot;","&esim;","&eta;","&eth;","&euml;","&euro;","&excl;","&exist;","&exists;","&expectation;","&exponentiale;","&fallingdotseq;","&fcy;","&female;","&ffilig;","&fflig;","&ffllig;","&ffr;","&filig;","&filledsmallsquare;","&filledverysmallsquare;","&fjlig;","&flat;","&fllig;","&fltns;","&fnof;","&fopf;","&forall;","&fork;","&forkv;","&fouriertrf;","&fpartint;","&frac12;","&frac13;","&frac14;","&frac15;","&frac16;","&frac18;","&frac23;","&frac25;","&frac34;","&frac35;","&frac38;","&frac45;","&frac56;","&frac58;","&frac78;","&frasl;","&frown;","&fscr;","&gacute;","&gamma;","&gammad;","&gap;","&gbreve;","&gcedil;","&gcirc;","&gcy;","&gdot;","&ge;","&gel;","&geq;","&geqq;","&geqslant;","&ges;","&gescc;","&gesdot;","&gesdoto;","&gesdotol;","&gesl;","&gesles;","&gfr;","&gg;","&ggg;","&gimel;","&gjcy;","&gl;","&gla;","&gle;","&glj;","&gnap;","&gnapprox;","&gne;","&gneq;","&gneqq;","&gnsim;","&gopf;","&grave;","&greaterequal;","&greaterequalless;","&greaterfullequal;","&greatergreater;","&greaterless;","&greaterslantequal;","&greatertilde;","&gscr;","&gsim;","&gsime;","&gsiml;","&gt;","&gtcc;","&gtcir;","&gtdot;","&gtlpar;","&gtquest;","&gtrapprox;","&gtrarr;","&gtrdot;","&gtreqless;","&gtreqqless;","&gtrless;","&gtrsim;","&gvertneqq;","&gvne;","&hacek;","&hairsp;","&half;","&hamilt;","&hardcy;","&harr;","&harrcir;","&harrw;","&hat;","&hbar;","&hcirc;","&hearts;","&heartsuit;","&hellip;","&hercon;","&hfr;","&hilbertspace;","&hksearow;","&hkswarow;","&hoarr;","&homtht;","&hookleftarrow;","&hookrightarrow;","&hopf;","&horbar;","&horizontalline;","&hscr;","&hslash;","&hstrok;","&humpdownhump;","&humpequal;","&hybull;","&hyphen;","&iacute;","&ic;","&icirc;","&icy;","&idot;","&iecy;","&iexcl;","&iff;","&ifr;","&igrave;","&ii;","&iiiint;","&iiint;","&iinfin;","&iiota;","&ijlig;","&im;","&imacr;","&image;","&imaginaryi;","&imagline;","&imagpart;","&imath;","&imof;","&imped;","&implies;","&in;","&incare;","&infin;","&infintie;","&inodot;","&int;","&intcal;","&integers;","&integral;","&intercal;","&intersection;","&intlarhk;","&intprod;","&invisiblecomma;","&invisibletimes;","&iocy;","&iogon;","&iopf;","&iota;","&iprod;","&iquest;","&iscr;","&isin;","&isindot;","&isine;","&isins;","&isinsv;","&isinv;","&it;","&itilde;","&iukcy;","&iuml;","&jcirc;","&jcy;","&jfr;","&jmath;","&jopf;","&jscr;","&jsercy;","&jukcy;","&kappa;","&kappav;","&kcedil;","&kcy;","&kfr;","&kgreen;","&khcy;","&kjcy;","&kopf;","&kscr;","&laarr;","&lacute;","&laemptyv;","&lagran;","&lambda;","&lang;","&langd;","&langle;","&lap;","&laplacetrf;","&laquo;","&larr;","&larrb;","&larrbfs;","&larrfs;","&larrhk;","&larrlp;","&larrpl;","&larrsim;","&larrtl;","&lat;","&latail;","&late;","&lates;","&lbarr;","&lbbrk;","&lbrace;","&lbrack;","&lbrke;","&lbrksld;","&lbrkslu;","&lcaron;","&lcedil;","&lceil;","&lcub;","&lcy;","&ldca;","&ldquo;","&ldquor;","&ldrdhar;","&ldrushar;","&ldsh;","&le;","&leftanglebracket;","&leftarrow;","&leftarrowbar;","&leftarrowrightarrow;","&leftarrowtail;","&leftceiling;","&leftdoublebracket;","&leftdownteevector;","&leftdownvector;","&leftdownvectorbar;","&leftfloor;","&leftharpoondown;","&leftharpoonup;","&leftleftarrows;","&leftrightarrow;","&leftrightarrows;","&leftrightharpoons;","&leftrightsquigarrow;","&leftrightvector;","&lefttee;","&leftteearrow;","&leftteevector;","&leftthreetimes;","&lefttriangle;","&lefttrianglebar;","&lefttriangleequal;","&leftupdownvector;","&leftupteevector;","&leftupvector;","&leftupvectorbar;","&leftvector;","&leftvectorbar;","&leg;","&leq;","&leqq;","&leqslant;","&les;","&lescc;","&lesdot;","&lesdoto;","&lesdotor;","&lesg;","&lesges;","&lessapprox;","&lessdot;","&lesseqgtr;","&lesseqqgtr;","&lessequalgreater;","&lessfullequal;","&lessgreater;","&lessgtr;","&lessless;","&lesssim;","&lessslantequal;","&lesstilde;","&lfisht;","&lfloor;","&lfr;","&lg;","&lge;","&lhar;","&lhard;","&lharu;","&lharul;","&lhblk;","&ljcy;","&ll;","&llarr;","&llcorner;","&lleftarrow;","&llhard;","&lltri;","&lmidot;","&lmoust;","&lmoustache;","&lnap;","&lnapprox;","&lne;","&lneq;","&lneqq;","&lnsim;","&loang;","&loarr;","&lobrk;","&longleftarrow;","&longleftrightarrow;","&longmapsto;","&longrightarrow;","&looparrowleft;","&looparrowright;","&lopar;","&lopf;","&loplus;","&lotimes;","&lowast;","&lowbar;","&lowerleftarrow;","&lowerrightarrow;","&loz;","&lozenge;","&lozf;","&lpar;","&lparlt;","&lrarr;","&lrcorner;","&lrhar;","&lrhard;","&lrm;","&lrtri;","&lsaquo;","&lscr;","&lsh;","&lsim;","&lsime;","&lsimg;","&lsqb;","&lsquo;","&lsquor;","&lstrok;","&lt;","&ltcc;","&ltcir;","&ltdot;","&lthree;","&ltimes;","&ltlarr;","&ltquest;","&ltri;","&ltrie;","&ltrif;","&ltrpar;","&lurdshar;","&luruhar;","&lvertneqq;","&lvne;","&macr;","&male;","&malt;","&maltese;","&map;","&mapsto;","&mapstodown;","&mapstoleft;","&mapstoup;","&marker;","&mcomma;","&mcy;","&mdash;","&mddot;","&measuredangle;","&mediumspace;","&mellintrf;","&mfr;","&mho;","&micro;","&mid;","&midast;","&midcir;","&middot;","&minus;","&minusb;","&minusd;","&minusdu;","&minusplus;","&mlcp;","&mldr;","&mnplus;","&models;","&mopf;","&mp;","&mscr;","&mstpos;","&mu;","&multimap;","&mumap;","&nabla;","&nacute;","&nang;","&nap;","&nape;","&napid;","&napos;","&napprox;","&natur;","&natural;","&naturals;","&nbsp;","&nbump;","&nbumpe;","&ncap;","&ncaron;","&ncedil;","&ncong;","&ncongdot;","&ncup;","&ncy;","&ndash;","&ne;","&nearhk;","&nearr;","&nearrow;","&nedot;","&negativemediumspace;","&negativethickspace;","&negativethinspace;","&negativeverythinspace;","&nequiv;","&nesear;","&nesim;","&nestedgreatergreater;","&nestedlessless;","&newline;","&nexist;","&nexists;","&nfr;","&nge;","&ngeq;","&ngeqq;","&ngeqslant;","&nges;","&ngg;","&ngsim;","&ngt;","&ngtr;","&ngtv;","&nharr;","&nhpar;","&ni;","&nis;","&nisd;","&niv;","&njcy;","&nlarr;","&nldr;","&nle;","&nleftarrow;","&nleftrightarrow;","&nleq;","&nleqq;","&nleqslant;","&nles;","&nless;","&nll;","&nlsim;","&nlt;","&nltri;","&nltrie;","&nltv;","&nmid;","&nobreak;","&nonbreakingspace;","&nopf;","&not;","&notcongruent;","&notcupcap;","&notdoubleverticalbar;","&notelement;","&notequal;","&notequaltilde;","&notexists;","&notgreater;","&notgreaterequal;","&notgreaterfullequal;","&notgreatergreater;","&notgreaterless;","&notgreaterslantequal;","&notgreatertilde;","&nothumpdownhump;","&nothumpequal;","&notin;","&notindot;","&notine;","&notinva;","&notinvb;","&notinvc;","&notlefttriangle;","&notlefttrianglebar;","&notlefttriangleequal;","&notless;","&notlessequal;","&notlessgreater;","&notlessless;","&notlessslantequal;","&notlesstilde;","&notnestedgreatergreater;","&notnestedlessless;","&notni;","&notniva;","&notnivb;","&notnivc;","&notprecedes;","&notprecedesequal;","&notprecedesslantequal;","&notreverseelement;","&notrighttriangle;","&notrighttrianglebar;","&notrighttriangleequal;","&notsquaresubset;","&notsquaresubsetequal;","&notsquaresuperset;","&notsquaresupersetequal;","&notsubset;","&notsubsetequal;","&notsucceeds;","&notsucceedsequal;","&notsucceedsslantequal;","&notsucceedstilde;","&notsuperset;","&notsupersetequal;","&nottilde;","&nottildeequal;","&nottildefullequal;","&nottildetilde;","&notverticalbar;","&npar;","&nparallel;","&nparsl;","&npart;","&npolint;","&npr;","&nprcue;","&npre;","&nprec;","&npreceq;","&nrarr;","&nrarrc;","&nrarrw;","&nrightarrow;","&nrtri;","&nrtrie;","&nsc;","&nsccue;","&nsce;","&nscr;","&nshortmid;","&nshortparallel;","&nsim;","&nsime;","&nsimeq;","&nsmid;","&nspar;","&nsqsube;","&nsqsupe;","&nsub;","&nsube;","&nsubset;","&nsubseteq;","&nsubseteqq;","&nsucc;","&nsucceq;","&nsup;","&nsupe;","&nsupset;","&nsupseteq;","&nsupseteqq;","&ntgl;","&ntilde;","&ntlg;","&ntriangleleft;","&ntrianglelefteq;","&ntriangleright;","&ntrianglerighteq;","&nu;","&num;","&numero;","&numsp;","&nvap;","&nvdash;","&nvge;","&nvgt;","&nvharr;","&nvinfin;","&nvlarr;","&nvle;","&nvlt;","&nvltrie;","&nvrarr;","&nvrtrie;","&nvsim;","&nwarhk;","&nwarr;","&nwarrow;","&nwnear;","&oacute;","&oast;","&ocir;","&ocirc;","&ocy;","&odash;","&odblac;","&odiv;","&odot;","&odsold;","&oelig;","&ofcir;","&ofr;","&ogon;","&ograve;","&ogt;","&ohbar;","&ohm;","&oint;","&olarr;","&olcir;","&olcross;","&oline;","&olt;","&omacr;","&omega;","&omicron;","&omid;","&ominus;","&oopf;","&opar;","&opencurlydoublequote;","&opencurlyquote;","&operp;","&oplus;","&or;","&orarr;","&ord;","&order;","&orderof;","&ordf;","&ordm;","&origof;","&oror;","&orslope;","&orv;","&os;","&oscr;","&oslash;","&osol;","&otilde;","&otimes;","&otimesas;","&ouml;","&ovbar;","&overbar;","&overbrace;","&overbracket;","&overparenthesis;","&par;","&para;","&parallel;","&parsim;","&parsl;","&part;","&partiald;","&pcy;","&percnt;","&period;","&permil;","&perp;","&pertenk;","&pfr;","&phi;","&phiv;","&phmmat;","&phone;","&pi;","&pitchfork;","&piv;","&planck;","&planckh;","&plankv;","&plus;","&plusacir;","&plusb;","&pluscir;","&plusdo;","&plusdu;","&pluse;","&plusminus;","&plusmn;","&plussim;","&plustwo;","&pm;","&poincareplane;","&pointint;","&popf;","&pound;","&pr;","&prap;","&prcue;","&pre;","&prec;","&precapprox;","&preccurlyeq;","&precedes;","&precedesequal;","&precedesslantequal;","&precedestilde;","&preceq;","&precnapprox;","&precneqq;","&precnsim;","&precsim;","&prime;","&primes;","&prnap;","&prne;","&prnsim;","&prod;","&product;","&profalar;","&profline;","&profsurf;","&prop;","&proportion;","&proportional;","&propto;","&prsim;","&prurel;","&pscr;","&psi;","&puncsp;","&qfr;","&qint;","&qopf;","&qprime;","&qscr;","&quaternions;","&quatint;","&quest;","&questeq;","&quot;","&raarr;","&race;","&racute;","&radic;","&raemptyv;","&rang;","&rangd;","&range;","&rangle;","&raquo;","&rarr;","&rarrap;","&rarrb;","&rarrbfs;","&rarrc;","&rarrfs;","&rarrhk;","&rarrlp;","&rarrpl;","&rarrsim;","&rarrtl;","&rarrw;","&ratail;","&ratio;","&rationals;","&rbarr;","&rbbrk;","&rbrace;","&rbrack;","&rbrke;","&rbrksld;","&rbrkslu;","&rcaron;","&rcedil;","&rceil;","&rcub;","&rcy;","&rdca;","&rdldhar;","&rdquo;","&rdquor;","&rdsh;","&re;","&real;","&realine;","&realpart;","&reals;","&rect;","&reg;","&reverseelement;","&reverseequilibrium;","&reverseupequilibrium;","&rfisht;","&rfloor;","&rfr;","&rhar;","&rhard;","&rharu;","&rharul;","&rho;","&rhov;","&rightanglebracket;","&rightarrow;","&rightarrowbar;","&rightarrowleftarrow;","&rightarrowtail;","&rightceiling;","&rightdoublebracket;","&rightdownteevector;","&rightdownvector;","&rightdownvectorbar;","&rightfloor;","&rightharpoondown;","&rightharpoonup;","&rightleftarrows;","&rightleftharpoons;","&rightrightarrows;","&rightsquigarrow;","&righttee;","&rightteearrow;","&rightteevector;","&rightthreetimes;","&righttriangle;","&righttrianglebar;","&righttriangleequal;","&rightupdownvector;","&rightupteevector;","&rightupvector;","&rightupvectorbar;","&rightvector;","&rightvectorbar;","&ring;","&risingdotseq;","&rlarr;","&rlhar;","&rlm;","&rmoust;","&rmoustache;","&rnmid;","&roang;","&roarr;","&robrk;","&ropar;","&ropf;","&roplus;","&rotimes;","&roundimplies;","&rpar;","&rpargt;","&rppolint;","&rrarr;","&rrightarrow;","&rsaquo;","&rscr;","&rsh;","&rsqb;","&rsquo;","&rsquor;","&rthree;","&rtimes;","&rtri;","&rtrie;","&rtrif;","&rtriltri;","&ruledelayed;","&ruluhar;","&rx;","&sacute;","&sbquo;","&sc;","&scap;","&scaron;","&sccue;","&sce;","&scedil;","&scirc;","&scnap;","&scne;","&scnsim;","&scpolint;","&scsim;","&scy;","&sdot;","&sdotb;","&sdote;","&searhk;","&searr;","&searrow;","&sect;","&semi;","&seswar;","&setminus;","&setmn;","&sext;","&sfr;","&sfrown;","&sharp;","&shchcy;","&shcy;","&shortdownarrow;","&shortleftarrow;","&shortmid;","&shortparallel;","&shortrightarrow;","&shortuparrow;","&shy;","&sigma;","&sigmaf;","&sigmav;","&sim;","&simdot;","&sime;","&simeq;","&simg;","&simge;","&siml;","&simle;","&simne;","&simplus;","&simrarr;","&slarr;","&smallcircle;","&smallsetminus;","&smashp;","&smeparsl;","&smid;","&smile;","&smt;","&smte;","&smtes;","&softcy;","&sol;","&solb;","&solbar;","&sopf;","&spades;","&spadesuit;","&spar;","&sqcap;","&sqcaps;","&sqcup;","&sqcups;","&sqrt;","&sqsub;","&sqsube;","&sqsubset;","&sqsubseteq;","&sqsup;","&sqsupe;","&sqsupset;","&sqsupseteq;","&squ;","&square;","&squareintersection;","&squaresubset;","&squaresubsetequal;","&squaresuperset;","&squaresupersetequal;","&squareunion;","&squarf;","&squf;","&srarr;","&sscr;","&ssetmn;","&ssmile;","&sstarf;","&star;","&starf;","&straightepsilon;","&straightphi;","&strns;","&sub;","&subdot;","&sube;","&subedot;","&submult;","&subne;","&subplus;","&subrarr;","&subset;","&subseteq;","&subseteqq;","&subsetequal;","&subsetneq;","&subsetneqq;","&subsim;","&subsub;","&subsup;","&succ;","&succapprox;","&succcurlyeq;","&succeeds;","&succeedsequal;","&succeedsslantequal;","&succeedstilde;","&succeq;","&succnapprox;","&succneqq;","&succnsim;","&succsim;","&suchthat;","&sum;","&sung;","&sup1;","&sup2;","&sup3;","&sup;","&supdot;","&supdsub;","&supe;","&supedot;","&superset;","&supersetequal;","&suphsol;","&suphsub;","&suplarr;","&supmult;","&supne;","&supplus;","&supset;","&supseteq;","&supseteqq;","&supsetneq;","&supsetneqq;","&supsim;","&supsub;","&supsup;","&swarhk;","&swarr;","&swarrow;","&swnwar;","&szlig;","&tab;","&target;","&tau;","&tbrk;","&tcaron;","&tcedil;","&tcy;","&tdot;","&telrec;","&tfr;","&there4;","&therefore;","&theta;","&thetasym;","&thetav;","&thickapprox;","&thicksim;","&thickspace;","&thinsp;","&thinspace;","&thkap;","&thksim;","&thorn;","&tilde;","&tildeequal;","&tildefullequal;","&tildetilde;","&times;","&timesb;","&timesbar;","&timesd;","&tint;","&toea;","&top;","&topbot;","&topcir;","&topf;","&topfork;","&tosa;","&tprime;","&trade;","&triangle;","&triangledown;","&triangleleft;","&trianglelefteq;","&triangleq;","&triangleright;","&trianglerighteq;","&tridot;","&trie;","&triminus;","&tripledot;","&triplus;","&trisb;","&tritime;","&trpezium;","&tscr;","&tscy;","&tshcy;","&tstrok;","&twixt;","&twoheadleftarrow;","&twoheadrightarrow;","&uacute;","&uarr;","&uarrocir;","&ubrcy;","&ubreve;","&ucirc;","&ucy;","&udarr;","&udblac;","&udhar;","&ufisht;","&ufr;","&ugrave;","&uhar;","&uharl;","&uharr;","&uhblk;","&ulcorn;","&ulcorner;","&ulcrop;","&ultri;","&umacr;","&uml;","&underbar;","&underbrace;","&underbracket;","&underparenthesis;","&union;","&unionplus;","&uogon;","&uopf;","&uparrow;","&uparrowbar;","&uparrowdownarrow;","&updownarrow;","&upequilibrium;","&upharpoonleft;","&upharpoonright;","&uplus;","&upperleftarrow;","&upperrightarrow;","&upsi;","&upsih;","&upsilon;","&uptee;","&upteearrow;","&upuparrows;","&urcorn;","&urcorner;","&urcrop;","&uring;","&urtri;","&uscr;","&utdot;","&utilde;","&utri;","&utrif;","&uuarr;","&uuml;","&uwangle;","&vangrt;","&varepsilon;","&varkappa;","&varnothing;","&varphi;","&varpi;","&varpropto;","&varr;","&varrho;","&varsigma;","&varsubsetneq;","&varsubsetneqq;","&varsupsetneq;","&varsupsetneqq;","&vartheta;","&vartriangleleft;","&vartriangleright;","&vbar;","&vbarv;","&vcy;","&vdash;","&vdashl;","&vee;","&veebar;","&veeeq;","&vellip;","&verbar;","&vert;","&verticalbar;","&verticalline;","&verticalseparator;","&verticaltilde;","&verythinspace;","&vfr;","&vltri;","&vnsub;","&vnsup;","&vopf;","&vprop;","&vrtri;","&vscr;","&vsubne;","&vsupne;","&vvdash;","&vzigzag;","&wcirc;","&wedbar;","&wedge;","&wedgeq;","&weierp;","&wfr;","&wopf;","&wp;","&wr;","&wreath;","&wscr;","&xcap;","&xcirc;","&xcup;","&xdtri;","&xfr;","&xharr;","&xi;","&xlarr;","&xmap;","&xnis;","&xodot;","&xopf;","&xoplus;","&xotime;","&xrarr;","&xscr;","&xsqcup;","&xuplus;","&xutri;","&xvee;","&xwedge;","&yacute;","&yacy;","&ycirc;","&ycy;","&yen;","&yfr;","&yicy;","&yopf;","&yscr;","&yucy;","&yuml;","&zacute;","&zcaron;","&zcy;","&zdot;","&zeetrf;","&zerowidthspace;","&zeta;","&zfr;","&zhcy;","&zigrarr;","&zopf;","&zscr;","&zwj;","&zwnj;"];const Lr=/&([a-z0-9]+|#x?[0-9a-f]+);/gi;var Rr;!function(e){e[e.Any=0]="Any",e[e.AlwaysOmit=1]="AlwaysOmit",e[e.AlwaysSelfclose=2]="AlwaysSelfclose"}(Rr||(Rr={}));const Dr={style:"omit"};var Pr;!function(e){e[e.AlwaysOmit=1]="AlwaysOmit",e[e.AlwaysSelfclose=2]="AlwaysSelfclose"}(Pr||(Pr={}));const Mr={style:"omit"};function jr(e){const t=e.getAttribute("type");return Boolean(t&&t.valueMatches(/submit|image/))}function Fr(e){return e.querySelectorAll("button,input").filter(jr).filter((e=>!e.hasAttribute("form"))).length>0}function $r(e,t){const{id:r}=t;if(!r)return!1;const n=e.querySelectorAll("button[form],input[form]").filter(jr).filter((e=>function(e,t){const r=t.getAttribute("form");return Boolean(r&&r.valueMatches(e,!0))}(r,e)));return n.length>0}const zr={allowEmpty:!0,alias:[]};const _r={"wcag/h30":class extends je{documentation(){return{description:"WCAG 2.1 requires each `<a>` anchor link to have a text describing the purpose of the link using either plain text or an `<img>` with the `alt` attribute set.",url:Fe("@/rules/wcag/h30.ts")}}setup(){this.on("dom:ready",(e=>{const t=e.document.getElementsByTagName("a");for(const r of t){if(!Kt(r))continue;if(_t(r)!==zt.EMPTY_TEXT)continue;if(r.querySelectorAll("img").some((e=>Ar(e))))continue;const e=r.querySelectorAll("[aria-label]");qr(r)||e.some((e=>qr(e)))||this.report(r,"Anchor link must have a text describing its purpose")}}))}},"wcag/h32":class extends je{documentation(){return{description:"WCAG 2.1 requires each `<form>` element to have at least one submit button.",url:Fe("@/rules/wcag/h32.ts")}}setup(){const e=this.getTagsWithProperty("form").join(",");this.on("dom:ready",(t=>{const{document:r}=t,n=r.querySelectorAll(e);for(const e of n)Fr(e)||$r(r,e)||this.report(e,"<".concat(e.tagName,"> element must have a submit button"))}))}},"wcag/h36":class extends je{documentation(){return{description:'WCAG 2.1 requires all images used as submit buttons to have a textual description using the alt attribute. The alt text cannot be empty (`alt=""`).',url:Fe("@/rules/wcag/h36.ts")}}setup(){this.on("tag:end",(e=>{const t=e.previous;"input"===t.tagName&&"image"===t.getAttributeValue("type")&&(Ar(t)||this.report(t,"image used as submit button must have alt text"))}))}},"wcag/h37":class extends je{constructor(e){super({...zr,...e}),Array.isArray(this.options.alias)||(this.options.alias=[this.options.alias])}static schema(){return{alias:{anyOf:[{items:{type:"string"},type:"array"},{type:"string"}]},allowEmpty:{type:"boolean"}}}documentation(){return{description:"Both HTML5 and WCAG 2.0 requires images to have a alternative text for each image.",url:Fe("@/rules/wcag/h37.ts")}}setup(){this.on("tag:end",(e=>{const t=e.previous;if(!t||"img"!==t.tagName)return;if(!Kt(t))return;const r=t.getAttributeValue("alt");if(!(r||""===r&&this.options.allowEmpty)){for(const e of this.options.alias)if(t.getAttribute(e))return;this.report(t,'<img> is missing required "alt" attribute',t.location)}}))}},"wcag/h67":class extends je{documentation(){return{description:"A decorative image cannot have a title attribute. Either remove `title` or add a descriptive `alt` text.",url:Fe("@/rules/wcag/h67.ts")}}setup(){this.on("tag:end",(e=>{const t=e.target;if(!t||"img"!==t.tagName)return;const r=t.getAttribute("title");if(!r||""===r.value)return;const n=t.getAttributeValue("alt");n&&""!==n||this.report(t,"<img> with empty alt text cannot have title attribute",r.keyLocation)}))}},"wcag/h71":class extends je{documentation(){return{description:"H71: Providing a description for groups of form controls using fieldset and legend elements",url:Fe("@/rules/wcag/h71.ts")}}setup(){this.on("dom:ready",(e=>{const{document:t}=e,r=t.querySelectorAll(this.selector);for(const n of r)this.validate(n)}))}validate(e){0===e.querySelectorAll("> legend").length&&this.reportNode(e)}reportNode(e){super.report(e,"".concat(e.annotatedName," must have a <legend> as the first child"))}get selector(){return this.getTagsDerivedFrom("fieldset").join(",")}}},Br={"allowed-links":class extends je{constructor(e){super({...$e,...e}),this.allowExternal=Be(this.options.allowExternal),this.allowRelative=Be(this.options.allowRelative),this.allowAbsolute=Be(this.options.allowAbsolute)}static schema(){const e={anyOf:[{type:"boolean"},{type:"object",properties:{include:{type:"array",items:{type:"string"}},exclude:{type:"array",items:{type:"string"}}}}]};return{allowExternal:{...e},allowRelative:{...e},allowAbsolute:{...e},allowBase:{type:"boolean"}}}documentation(e){return{description:_e[e]||"This link type is not allowed by current configuration",url:Fe("@/rules/allowed-links.ts")}}setup(){this.on("attr",(e=>{if(!e.value||!this.isRelevant(e))return;const t=e.value.toString(),r=this.getStyle(t);switch(r){case"anchor":break;case"absolute":this.handleAbsolute(t,e,r);break;case"external":this.handleExternal(t,e,r);break;case"relative-base":this.handleRelativeBase(t,e,r);break;case"relative-path":this.handleRelativePath(t,e,r)}}))}isRelevant(e){const{target:t,key:r,value:n}=e;if(n instanceof H)return!1;const o=ze[t.tagName];return Boolean(o&&o===r)}getStyle(e){if(e.match(/^([a-z]+:)?\/\//g))return"external";switch(e[0]){case"/":return"absolute";case".":return"relative-path";case"#":return"anchor";default:return"relative-base"}}handleAbsolute(e,t,r){const{allowAbsolute:n}=this;!0!==n&&(!1===n?this.report(t.target,"Link destination must not be absolute url",t.valueLocation,r):Ue(e,n)||this.report(t.target,"Absolute link to this destination is not allowed by current configuration",t.valueLocation,r))}handleExternal(e,t,r){const{allowExternal:n}=this;!0!==n&&(!1===n?this.report(t.target,"Link destination must not be external url",t.valueLocation,r):Ue(e,n)||this.report(t.target,"External link to this destination is not allowed by current configuration",t.valueLocation,r))}handleRelativePath(e,t,r){const{allowRelative:n}=this;return!0!==n&&(!1===n?(this.report(t.target,"Link destination must not be relative url",t.valueLocation,r),!0):!Ue(e,n)&&(this.report(t.target,"Relative link to this destination is not allowed by current configuration",t.valueLocation,r),!0))}handleRelativeBase(e,t,r){const{allowBase:n}=this.options;this.handleRelativePath(e,t,r)||n||this.report(t.target,"Relative links must be relative to current folder",t.valueLocation,r)}},"aria-hidden-body":class extends je{documentation(){return{description:"`aria-hidden` must not be used on the `<body>` element as it makes the page inaccessible to assistive technology such as screenreaders",url:Fe("@/rules/aria-hidden-body.ts")}}setup(){this.on("tag:ready",this.isRelevant,(e=>{const{target:t}=e,r=t.getAttribute("aria-hidden");r&&r.valueMatches("true",!0)&&this.report(t,"aria-hidden must not be used on <body>",r.keyLocation)}))}isRelevant(e){return e.target.is("body")}},"aria-label-misuse":class extends je{documentation(){const e=["Interactive elements","Labelable elements","Landmark elements","Elements with roles inheriting from widget","`<area>`","`<form>` and `<fieldset>`","`<iframe>`","`<img>` and `<figure>`","`<summary>`","`<table>`, `<td>` and `<th>`"].map((e=>"- ".concat(e,"\n"))).join("");return{description:"`aria-label` can only be used on:\n\n".concat(e),url:Fe("@/rules/aria-label-misuse.ts")}}setup(){this.on("dom:ready",(e=>{const{document:t}=e;for(const r of t.querySelectorAll("[aria-label]"))this.validateElement(r)}))}validateElement(e){const t=e.getAttribute("aria-label");if(!t||!t.value||t.valueMatches("",!1))return;const r=e.meta;r&&(Ge.includes(e.tagName)||e.hasAttribute("role")||e.hasAttribute("tabindex")||r.interactive||r.labelable||this.report(e,'"aria-label" cannot be used on this element',t.keyLocation))}},"attr-case":class extends je{constructor(e){super({...He,...e}),this.style=new Xe(this.options.style,"attr-case")}static schema(){const e=["lowercase","uppercase","pascalcase","camelcase"];return{ignoreForeign:{type:"boolean"},style:{anyOf:[{enum:e,type:"string"},{items:{enum:e,type:"string"},type:"array"}]}}}documentation(){return{description:"Attribute name must be ".concat(this.options.style,"."),url:Fe("@/rules/attr-case.ts")}}setup(){this.on("attr",(e=>{if(this.isIgnored(e.target))return;if(e.originalAttribute)return;const t=e.key.replace(/[^a-z]+/gi,"");this.style.match(t)||this.report(e.target,'Attribute "'.concat(e.key,'" should be ').concat(this.style.name),e.keyLocation)}))}isIgnored(e){return!!this.options.ignoreForeign&&Boolean(e.meta&&e.meta.foreign)}},"attr-delimiter":class extends je{documentation(){return{description:"Attribute value should be separated by ",url:Fe("@/rules/attr-delimiter.ts")}}setup(){this.on("token",Et,(e=>{const t=e.data[1];if(Tt.exec(t)){const r=W(e.location,0,t.length);this.report(null,"Attribute value must not be delimited by whitespace",r)}}))}},"attr-pattern":class extends je{constructor(e){var t;super({...kt,...e}),this.pattern=(t=this.options.pattern,Array.isArray(t)?new RegExp("^(".concat(t.join("|"),")$"),"i"):new RegExp("^".concat(t,"$"),"i"))}static schema(){return{pattern:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},ignoreForeign:{type:"boolean"}}}documentation(e){let t;return t=e?function(e,t){return Array.isArray(t)?['Attribute "'.concat(e,'" should match one of the configured regular expressions:'),"",...t.map((e=>"- `/".concat(e,"/`")))].join("\n"):'Attribute "'.concat(e,'" should match the regular expression `/').concat(t,"/`")}(e.attr,e.pattern):"Attribute should match configured pattern",{description:t,url:Fe("@/rules/attr-pattern.ts")}}setup(){this.on("attr",(e=>{if(this.isIgnored(e.target))return;if(e.originalAttribute)return;if(this.pattern.test(e.key))return;const t=function(e,t){if(Array.isArray(t)){const r=t.map((e=>"/".concat(e,"/"))).join(", ");return'Attribute "'.concat(e,'" should match one of [').concat(r,"]")}return'Attribute "'.concat(e,'" should match /').concat(t,"/")}(e.key,this.options.pattern);this.report(e.target,t,e.keyLocation)}))}isIgnored(e){return!!this.options.ignoreForeign&&Boolean(e.meta&&e.meta.foreign)}},"attr-quotes":class extends je{constructor(e){super({...At,...e}),this.style=function(e){switch(e.toLowerCase()){case"auto":return xt.AUTO_QUOTE;case"double":return xt.DOUBLE_QUOTE;case"single":return xt.SINGLE_QUOTE;default:throw new Ve('Invalid style "'.concat(e,'" for "attr-quotes" rule'))}}(this.options.style)}static schema(){return{style:{enum:["auto","double","single"],type:"string"},unquoted:{type:"boolean"}}}documentation(){return"auto"===this.options.style?{description:"Attribute values are required to be quoted with doublequotes unless the attribute value itself contains doublequotes in which case singlequotes should be used.",url:Fe("@/rules/attr-quotes.ts")}:{description:"Attribute values are required to be quoted with ".concat(this.options.style,"quotes."),url:Fe("@/rules/attr-quotes.ts")}}setup(){this.on("attr",(e=>{if(null===e.value)return;if(!e.quote)return void(!1===this.options.unquoted&&this.report(e.target,'Attribute "'.concat(e.key,'" using unquoted value')));const t=this.resolveQuotemark(e.value.toString(),this.style);e.quote!==t&&this.report(e.target,'Attribute "'.concat(e.key,'" used ').concat(e.quote," instead of expected ").concat(t))}))}resolveQuotemark(e,t){return t===xt.AUTO_QUOTE?e.includes('"')?"'":'"':t}},"attr-spacing":class extends je{documentation(){return{description:"No space between attributes. At least one whitespace character (commonly space) must be used to separate attributes.",url:Fe("@/rules/attr-spacing.ts")}}setup(){let e;this.on("token",(r=>{r.type===t.TokenType.ATTR_NAME&&e!==t.TokenType.WHITESPACE&&this.report(null,"No space between attributes",r.location),e=r.type}))}},"attribute-allowed-values":class extends je{documentation(e){const t={description:"Attribute has invalid value.",url:Fe("@/rules/attribute-allowed-values.ts")};if(!e)return t;const{allowed:r,attribute:n,element:o,value:s}=e;if(r.enum){const e=r.enum.map((e=>"string"==typeof e?'- `"'.concat(e,'"`'):"- `".concat(e.toString(),"`")));t.description=["The `<".concat(o,">` element does not allow the attribute `").concat(n,'` to have the value `"').concat(s,'"`.'),"","It must match one of the following:","",...e].join("\n")}else r.boolean&&(t.description="The `<".concat(e.element,">` attribute `").concat(e.attribute,"` must be a boolean attribute, e.g. `<").concat(e.element," ").concat(e.attribute,">`"));return t}setup(){this.on("dom:ready",(e=>{e.document.visitDepthFirst((e=>{const t=e.meta;if(t&&t.attributes)for(const r of e.attributes){if(Te.validateAttribute(r,t.attributes))continue;const n=r.value?r.value.toString():"",o={element:e.tagName,attribute:r.key,value:n,allowed:t.attributes[r.key]},s=this.getMessage(r),i=this.getLocation(r);this.report(e,s,i,o)}}))}))}getMessage(e){const{key:t,value:r}=e;return null!==r?'Attribute "'.concat(t,'" has invalid value "').concat(r.toString(),'"'):'Attribute "'.concat(t,'" is missing value')}getLocation(e){return null!==e.value?e.valueLocation:e.keyLocation}},"attribute-boolean-style":class extends je{constructor(e){super({...qt,...e}),this.hasInvalidStyle=function(e){switch(e.toLowerCase()){case"omit":return e=>null!==e.value;case"empty":return e=>""!==e.value;case"name":return e=>e.value!==e.key;default:throw new Error('Invalid style "'.concat(e,'" for "attribute-boolean-style" rule'))}}(this.options.style)}static schema(){return{style:{enum:["empty","name","omit"],type:"string"}}}documentation(){return{description:"Require a specific style when writing boolean attributes.",url:Fe("@/rules/attribute-boolean-style.ts")}}setup(){this.on("dom:ready",(e=>{e.document.visitDepthFirst((e=>{const t=e.meta;if(t&&t.attributes)for(const r of e.attributes)this.isBoolean(r,t.attributes)&&(r.originalAttribute||this.hasInvalidStyle(r)&&this.report(e,Ct(r,this.options.style),r.keyLocation))}))}))}isBoolean(e,t){var r;return Boolean(null===(r=t[e.key])||void 0===r?void 0:r.boolean)}},"attribute-empty-style":class extends je{constructor(e){super({...Nt,...e}),this.hasInvalidStyle=function(e){switch(e.toLowerCase()){case"omit":return e=>null!==e.value;case"empty":return e=>""!==e.value;default:throw new Error('Invalid style "'.concat(e,'" for "attribute-empty-style" rule'))}}(this.options.style)}static schema(){return{style:{enum:["empty","omit"],type:"string"}}}documentation(){return{description:"Require a specific style for attributes with empty values.",url:Fe("@/rules/attribute-empty-style.ts")}}setup(){this.on("dom:ready",(e=>{e.document.visitDepthFirst((e=>{const t=e.meta;if(t&&t.attributes)for(const r of e.attributes)St(r,t.attributes)&&It(r)&&this.hasInvalidStyle(r)&&this.report(e,Ot(r,this.options.style),r.keyLocation)}))}))}},"class-pattern":class extends je{constructor(e){super({...Dt,...e}),this.pattern=Lt(this.options.pattern)}static schema(){return{pattern:{type:"string"}}}documentation(){const e=Rt(this.options.pattern);return{description:"For consistency all classes are required to match the pattern ".concat(e,"."),url:Fe("@/rules/class-pattern.ts")}}setup(){this.on("attr",(e=>{if("class"!==e.key.toLowerCase())return;const t=new ne(e.value,e.valueLocation);t.forEach(((r,n)=>{if(!r.match(this.pattern)){const o=t.location(n);this.report(e.target,'Class "'.concat(r,'" does not match required pattern "').concat(this.pattern,'"'),o)}}))}))}},"close-attr":class extends je{documentation(){return{description:"HTML disallows end tags to have attributes.",url:Fe("@/rules/close-attr.ts")}}setup(){this.on("tag:end",(e=>{if(!e.target)return;if(e.previous===e.target)return;const t=e.target;if(Object.keys(t.attributes).length>0){const e=t.attributes[0];this.report(null,"Close tags cannot have attributes",e.keyLocation)}}))}},"close-order":class extends je{documentation(){return{description:"HTML requires elements to be closed in the same order as they were opened.",url:Fe("@/rules/close-order.ts")}}setup(){this.on("tag:end",(e=>{const r=e.target,n=e.previous;if(r){if(!r.voidElement&&n.closed!==t.NodeClosed.ImplicitClosed)if(n&&!n.isRootElement())r.tagName!==n.tagName&&this.report(null,"Mismatched close-tag, expected '</".concat(n.tagName,">' but found '</").concat(r.tagName,">'."),r.location);else{const e={filename:r.location.filename,line:r.location.line,column:r.location.column,offset:r.location.offset,size:r.tagName.length+1};this.report(null,"Unexpected close-tag, expected opening tag.",e)}}else this.report(null,"Missing close-tag, expected '</".concat(n.tagName,">' but document ended before it was found."),e.location)}))}},deprecated:class extends je{constructor(e){super({...Pt,...e})}static schema(){return{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},include:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]}}}documentation(e){const t={description:"This element is deprecated and should not be used in new code.",url:Fe("@/rules/deprecated.ts")};if(e){const r=[];if(e.source){const t=function(e){const t=e.match(/html(\d)(\d)?/);if(t){const[,...e]=t,r=e.filter(Boolean).join(".");return"in HTML ".concat(r)}switch(e){case"whatwg":return"in HTML Living Standard";case"non-standard":return"and non-standard";default:return"by ".concat(e)}}(e.source),n="The `<$tagname>` element is deprecated ".concat(t," and should not be used in new code.");r.push(n)}else{const e="The `<$tagname>` element is deprecated and should not be used in new code.";r.push(e)}e.documentation&&r.push(e.documentation),t.description=r.map((t=>t.replace(/\$tagname/g,e.tagName))).join("\n\n")}return t}setup(){this.on("tag:start",(e=>{const t=e.target;if(null===t.meta)return;const r=t.meta.deprecated;if(!r)return;if(this.isKeywordIgnored(t.tagName))return;const n=W(e.location,1);"string"==typeof r?this.reportString(r,t,n):"boolean"==typeof r?this.reportBoolean(t,n):this.reportObject(r,t,n)}))}reportString(e,t,r){const n={tagName:t.tagName},o="<".concat(t.tagName,"> is deprecated: ").concat(e);this.report(t,o,r,n)}reportBoolean(e,t){const r={tagName:e.tagName},n="<".concat(e.tagName,"> is deprecated");this.report(e,n,t,r)}reportObject(e,t,r){const n={...e,tagName:t.tagName},o=e.message?": ".concat(e.message):"",s="<".concat(t.tagName,"> is deprecated").concat(o);this.report(t,s,r,n)}},"deprecated-rule":class extends je{documentation(e){const t=e?'The rule "'.concat(e,'"'):"This rule";return{description:"".concat(t," is deprecated and should not be used any longer, consult documentation for further information."),url:Fe("@/rules/deprecated-rule.ts")}}setup(){this.on("config:ready",(e=>{for(const r of this.getDeprecatedRules(e))r.getSeverity()>t.Severity.DISABLED&&this.report(null,'Usage of deprecated rule "'.concat(r.name,'"'),null,r.name)}))}getDeprecatedRules(e){return Object.values(e.rules).filter((e=>e.deprecated))}},"doctype-html":class extends je{documentation(){return{description:['HTML5 documents should use the "html" doctype (short `form`, not legacy string):',"","```html","<!DOCTYPE html>","```"].join("\n"),url:Fe("@/rules/doctype-html.ts")}}setup(){this.on("doctype",(e=>{"html"!==e.value.toLowerCase()&&this.report(null,'doctype should be "html"',e.valueLocation)}))}},"doctype-style":class extends je{constructor(e){super({...Mt,...e})}static schema(){return{style:{enum:["lowercase","uppercase"],type:"string"}}}documentation(e){const t={description:"While DOCTYPE is case-insensitive in the standard the current configuration requires a specific style.",url:Fe("@/rules/doctype-style.ts")};return e&&(t.description="While DOCTYPE is case-insensitive in the standard the current configuration requires it to be ".concat(e.style)),t}setup(){this.on("doctype",(e=>{"uppercase"===this.options.style&&"DOCTYPE"!==e.tag&&this.report(null,"DOCTYPE should be uppercase",e.location,this.options),"lowercase"===this.options.style&&"doctype"!==e.tag&&this.report(null,"DOCTYPE should be lowercase",e.location,this.options)}))}},"element-case":class extends je{constructor(e){super({...jt,...e}),this.style=new Xe(this.options.style,"element-case")}static schema(){const e=["lowercase","uppercase","pascalcase","camelcase"];return{style:{anyOf:[{enum:e,type:"string"},{items:{enum:e,type:"string"},type:"array"}]}}}documentation(){return{description:"Element tagname must be ".concat(this.options.style,"."),url:Fe("@/rules/element-case.ts")}}setup(){this.on("tag:start",(e=>{const{target:t,location:r}=e;this.validateCase(t,r)})),this.on("tag:end",(e=>{const{target:t,previous:r}=e;this.validateMatchingCase(r,t)}))}validateCase(e,t){const r=e.tagName.replace(/[^a-z]+/gi,"");if(!this.style.match(r)){const r=W(t,1);this.report(e,'Element "'.concat(e.tagName,'" should be ').concat(this.style.name),r)}}validateMatchingCase(e,t){e&&t&&e.tagName&&t.tagName&&e.tagName.toLowerCase()===t.tagName.toLowerCase()&&e.tagName!==t.tagName&&this.report(e,"Start and end tag must not differ in casing",t.location)}},"element-name":class extends je{constructor(e){super({...Ft,...e}),this.pattern=new RegExp(this.options.pattern)}static schema(){return{blacklist:{items:{type:"string"},type:"array"},pattern:{type:"string"},whitelist:{items:{type:"string"},type:"array"}}}documentation(e){return{description:this.documentationMessages(e).join("\n"),url:Fe("@/rules/element-name.ts")}}documentationMessages(e){return e?e.blacklist.includes(e.tagName)?["<".concat(e.tagName,"> is blacklisted by the project configuration."),"","The following names are blacklisted:",...e.blacklist.map((e=>"- ".concat(e)))]:e.pattern!==Ft.pattern?["<".concat(e.tagName,"> is not a valid element name. This project is configured to only allow names matching the following regular expression:"),"","- `".concat(e.pattern,"`")]:["<".concat(e.tagName,"> is not a valid element name. If this is a custom element HTML requires the name to follow these rules:"),"","- The name must begin with `a-z`","- The name must include a hyphen `-`","- It may include alphanumerical characters `a-z0-9` or hyphens `-`, dots `.` or underscores `_`."]:["This is not a valid element name."]}setup(){const e=/^(.+):.+$/;this.on("tag:start",(t=>{const r=t.target,n=r.tagName,o=W(t.location,1),s={tagName:n,pattern:this.options.pattern,blacklist:this.options.blacklist};this.options.blacklist.includes(n)&&this.report(r,"<".concat(n,"> element is blacklisted"),o,s),r.meta||n.match(e)||this.options.whitelist.includes(n)||n.match(this.pattern)||this.report(r,"<".concat(n,"> is not a valid element name"),o,s)}))}},"element-permitted-content":class extends je{documentation(){return{description:"Some elements has restrictions on what content is allowed. This can include both direct children or descendant elements.",url:Fe("@/rules/element-permitted-content.ts")}}setup(){this.on("dom:ready",(e=>{e.document.visitDepthFirst((e=>{const t=e.parent;t&&!t.isRootElement()&&[()=>this.validatePermittedContent(e,t),()=>this.validatePermittedDescendant(e,t),()=>this.validatePermittedAncestors(e)].some((e=>e()))}))}))}validatePermittedContent(e,t){var r;if(!t.meta)return!1;const n=null!==(r=t.meta.permittedContent)&&void 0!==r?r:null;return this.validatePermittedContentImpl(e,t,n)}validatePermittedContentImpl(e,t,r){if(!Te.validatePermitted(e,r))return this.report(e,"Element <".concat(e.tagName,"> is not permitted as content in ").concat(t.annotatedName)),!0;if(e.meta&&e.meta.transparent){return(n=e,"boolean"==typeof(o=e.meta.transparent)?n.childElements:n.childElements.filter((e=>o.some((t=>Te.validatePermittedCategory(e,t,!1)))))).map((e=>this.validatePermittedContentImpl(e,t,r))).some(Boolean)}var n,o;return!1}validatePermittedDescendant(e,t){var r;for(let n=t;n&&!n.isRootElement();n=null!==(r=null==n?void 0:n.parent)&&void 0!==r?r:null){const t=n.meta;if(!t)continue;const r=t.permittedDescendants;if(r&&!Te.validatePermitted(e,r))return this.report(e,"Element <".concat(e.tagName,"> is not permitted as descendant of ").concat(n.annotatedName)),!0}return!1}validatePermittedAncestors(e){if(!e.meta)return!1;const t=e.meta.requiredAncestors;return!!t&&(!Te.validateAncestors(e,t)&&(this.report(e,"Element <".concat(e.tagName,'> requires an "').concat(t[0],'" ancestor')),!0))}},"element-permitted-occurrences":class extends je{documentation(){return{description:"Some elements may only be used a fixed amount of times in given context.",url:Fe("@/rules/element-permitted-occurrences.ts")}}setup(){this.on("dom:ready",(e=>{e.document.visitDepthFirst((e=>{const t=e.parent;if(!t||!t.meta)return;const r=t.meta.permittedContent;if(!r)return;const n=t.childElements.filter((t=>t.tagName===e.tagName));e.unique===n[0].unique||t.meta&&!Te.validateOccurrences(e,r,n.length)&&this.report(e,"Element <".concat(e.tagName,"> can only appear once under ").concat(t.annotatedName))}))}))}},"element-permitted-order":class extends je{documentation(){return{description:"Some elements has a specific order the children must use.",url:Fe("@/rules/element-permitted-order.ts")}}setup(){this.on("dom:ready",(e=>{e.document.visitDepthFirst((e=>{if(!e.meta)return;const t=e.meta.permittedOrder;t&&Te.validateOrder(e.childElements,t,((e,t)=>{this.report(e,"Element <".concat(e.tagName,"> must be used before <").concat(t.tagName,"> in this context"))}))}))}))}},"element-required-attributes":class extends je{documentation(e){const t={description:"Element is missing a required attribute",url:Fe("@/rules/element-required-attributes.ts")};return e&&(t.description="The <".concat(e.element,'> element is required to have a "').concat(e.attribute,'" attribute.')),t}setup(){this.on("tag:end",(e=>{const t=e.previous,r=t.meta;if(r&&r.attributes)for(const[n,o]of Object.entries(r.attributes)){if(!o.required)continue;if(t.hasAttribute(n))continue;const e={element:t.tagName,attribute:n};this.report(t,"".concat(t.annotatedName,' is missing required "').concat(n,'" attribute'),t.location,e)}}))}},"element-required-content":class extends je{documentation(e){if(e){const{element:t,missing:r}=e;return{description:"The `".concat(t,"` element requires a `").concat(r,"` to be present as content."),url:Fe("@/rules/element-required-content.ts")}}return{description:"Some elements has requirements on content that must be present.",url:Fe("@/rules/element-required-content.ts")}}setup(){this.on("dom:ready",(e=>{e.document.visitDepthFirst((e=>{if(!e.meta)return;const t=e.meta.requiredContent;if(t)for(const r of Te.validateRequiredContent(e,t)){const t={element:e.annotatedName,missing:"<".concat(r,">")},n="".concat(e.annotatedName," element must have <").concat(r,"> as content");this.report(e,n,null,t)}}))}))}},"empty-heading":class extends je{documentation(){return{description:"Assistive technology such as screen readers require textual content in headings. Whitespace only is considered empty.",url:Fe("@/rules/empty-heading.ts")}}setup(){this.on("dom:ready",(e=>{let{document:t}=e;const r=t.querySelectorAll(Ut);for(const n of r)switch(_t(n)){case zt.DYNAMIC_TEXT:case zt.STATIC_TEXT:break;case zt.EMPTY_TEXT:this.report(n,"<".concat(n.tagName,"> cannot be empty, must have text content"))}}))}},"empty-title":class extends je{documentation(){return{description:["The `<title>` element cannot be empty, it must have textual content.","","It is used to describe the document and is shown in the browser tab and titlebar.","WCAG and SEO requires a descriptive title and preferably unique within the site.","","Whitespace is ignored."].join("\n"),url:Fe("@/rules/empty-title.ts")}}setup(){this.on("tag:end",(e=>{const t=e.previous;if("title"===t.tagName)switch(_t(t)){case zt.DYNAMIC_TEXT:case zt.STATIC_TEXT:break;case zt.EMPTY_TEXT:{const e="<".concat(t.tagName,"> cannot be empty, must have text content");this.report(t,e,t.location)}}}))}},"heading-level":class extends je{constructor(e){super({...Gt,...e}),this.stack=[],this.minInitialRank=function(e){if(!1===e||"any"===e)return 6;const t=e.match(/^h(\d)$/);return t?parseInt(t[1],10):1}(this.options.minInitialRank),this.sectionRoots=this.options.sectioningRoots.map((e=>new he(e))),this.stack.push({node:null,current:0,h1Count:0})}static schema(){return{allowMultipleH1:{type:"boolean"},minInitialRank:{enum:["h1","h2","h3","h4","h5","h6","any",!1]},sectioningRoots:{items:{type:"string"},type:"array"}}}documentation(){const e=[],t=this.minInitialRank>1?"should":"must";return e.push("Headings ".concat(t," start at <h1> and can only increase one level at a time.")),e.push("The headings should form a table of contents and make sense on its own."),this.options.allowMultipleH1||(e.push(""),e.push("Under the current configuration only a single <h1> can be present at a time in the document.")),{description:e.join("\n"),url:Fe("@/rules/heading-level.ts")}}setup(){this.on("tag:start",Vt,(e=>this.onTagStart(e))),this.on("tag:ready",(e=>this.onTagReady(e))),this.on("tag:close",(e=>this.onTagClose(e)))}onTagStart(e){const t=function(e){const t=e.tagName.match(/^[hH](\d)$/);return t?parseInt(t[1],10):null}(e.target);if(!t)return;const r=this.getCurrentRoot();if(!this.options.allowMultipleH1&&1===t){if(r.h1Count>=1){const t=W(e.location,1);return void this.report(e.target,"Multiple <h1> are not allowed",t)}r.h1Count++}t<=r.current||this.checkLevelIncrementation(r,e,t),r.current=t}checkLevelIncrementation(e,t,r){const n=e.current+1;if(r===n)return;if(1===this.stack.length&&1===n&&r<=this.minInitialRank)return;const o=W(t.location,1);if(e.current>0){const e="Heading level can only increase by one, expected <h".concat(n,"> but got <h").concat(r,">");this.report(t.target,e,o)}else this.checkInitialLevel(t,o,r,n)}checkInitialLevel(e,t,r,n){if(1===this.stack.length){const o=this.minInitialRank>1?"Initial heading level must be <h".concat(this.minInitialRank,"> or higher rank but got <h").concat(r,">"):"Initial heading level must be <h".concat(n,"> but got <h").concat(r,">");this.report(e.target,o,t)}else{const o=this.getPrevRoot().current+1;if(r>o)if(n===o){const o="Initial heading level for sectioning root must be <h".concat(n,"> but got <h").concat(r,">");this.report(e.target,o,t)}else{const s="Initial heading level for sectioning root must be between <h".concat(n,"> and <h").concat(o,"> but got <h").concat(r,">");this.report(e.target,s,t)}}}onTagReady(e){const{target:t}=e;this.isSectioningRoot(t)&&this.stack.push({node:t.unique,current:0,h1Count:0})}onTagClose(e){const{previous:t}=e,r=this.getCurrentRoot();t.unique===r.node&&this.stack.pop()}getPrevRoot(){return this.stack[this.stack.length-2]}getCurrentRoot(){return this.stack[this.stack.length-1]}isSectioningRoot(e){const t={scope:e};return this.sectionRoots.some((r=>r.match(e,t)))}},"id-pattern":class extends je{constructor(e){super({...Xt,...e}),this.pattern=Lt(this.options.pattern)}static schema(){return{pattern:{type:"string"}}}documentation(){const e=Rt(this.options.pattern);return{description:"For consistency all IDs are required to match the pattern ".concat(e,"."),url:Fe("@/rules/id-pattern.ts")}}setup(){this.on("attr",(e=>{"id"===e.key.toLowerCase()&&(e.value instanceof H||e.value&&e.value.match(this.pattern)||this.report(e.target,'ID "'.concat(e.value,'" does not match required pattern "').concat(this.pattern,'"'),e.valueLocation))}))}},"input-attributes":class extends je{documentation(e){var t,r;if(e){const{attribute:n,type:o}=e;return{description:["Attribute `".concat(n,'` is not allowed on `<input type="').concat(o,'">`\n'),"`".concat(n,"` can only be used when `type` is:"),...null!==(r=null===(t=Ht.get(n))||void 0===t?void 0:t.map((e=>"- `".concat(e,"`"))))&&void 0!==r?r:[]].join("\n"),url:Fe("@/rules/input-attributes.ts")}}return{description:"This attribute cannot be used with this input type.",url:Fe("@/rules/input-attributes.ts")}}setup(){this.on("tag:ready",Yt,(e=>{const{target:t}=e,r=t.getAttribute("type");if(!r||r.isDynamic||!r.value)return;const n=r.value.toString();for(const o of t.attributes){const e=Ht.get(o.key);if(!e)continue;if(e.includes(n))continue;const r={attribute:o.key,type:n},s='Attribute "'.concat(o.key,'" is not allowed on <input type="').concat(n,'">');this.report(t,s,o.keyLocation,r)}}))}},"input-missing-label":class extends je{documentation(){return{description:"Labels are associated with the input element and is required for a17y.",url:Fe("@/rules/input-missing-label.ts")}}setup(){this.on("dom:ready",(e=>{const t=e.document;for(const r of t.querySelectorAll("input, textarea, select"))this.validateInput(t,r)}))}validateInput(e,t){if(er(t)||Zt(t))return;if(t.is("input")){const e=t.getAttributeValue("type");if(e&&"hidden"===e.toLowerCase())return}let r=[];(r=function(e,t){return t?e.querySelectorAll('label[for="'.concat(t,'"]')):[]}(e,t.id)).length>0||(r=function(e){let t=e.parent;for(;t;){if(t.is("label"))return[t];t=t.parent}return[]}(t)).length>0?this.validateLabel(t,r):this.report(t,"<".concat(t.tagName,"> element does not have a <label>"))}validateLabel(e,t){0===t.filter(rr).length&&this.report(e,"<".concat(e.tagName,"> element has label but <label> element is hidden"))}},"long-title":class extends je{constructor(e){super({...nr,...e}),this.maxlength=this.options.maxlength}static schema(){return{maxlength:{type:"number"}}}documentation(){return{description:"Search engines truncates titles with long text, possibly down-ranking the page in the process.",url:Fe("@/rules/long-title.ts")}}setup(){this.on("tag:end",(e=>{const t=e.previous;if("title"!==t.tagName)return;t.textContent.length>this.maxlength&&this.report(t,"title text cannot be longer than ".concat(this.maxlength," characters"))}))}},"meta-refresh":class extends je{documentation(){return{description:"Meta refresh directive must use the `0;url=...` format. Non-zero values for time interval is disallowed as people with assistive technology might be unable to read and understand the page content before automatically reloading. For the same reason skipping the url is disallowed as it would put the browser in an infinite loop reloading the same page over and over again.",url:Fe("@/rules/meta-refresh.ts")}}setup(){this.on("element:ready",(e=>{let{target:t}=e;if(!t.is("meta"))return;if("refresh"!==t.getAttributeValue("http-equiv"))return;const r=t.getAttribute("content");if(!r||!r.value||r.isDynamic)return;const n=r.valueLocation,o=function(e){const t=e.match(/^(\d+)(?:\s*;\s*url=(.*))?/);return t?{delay:parseInt(t[1],10),url:t[2]}:null}(r.value.toString());o?(o.url||this.report(t,"Don't use meta refresh to reload the page",n),0!==o.delay&&this.report(t,"Meta refresh must use 0 second delay",n)):this.report(t,"Malformed meta refresh directive",n)}))}},"missing-doctype":class extends je{documentation(){return{description:"Requires that the document contains a doctype.",url:Fe("@/rules/missing-doctype.ts")}}setup(){this.on("dom:ready",(e=>{const t=e.document;t.doctype||this.report(t.root,"Document is missing doctype")}))}},"multiple-labeled-controls":class extends je{constructor(){super(...arguments),this.labelable=""}documentation(){return{description:"A `<label>` element can only be associated with one control at a time.",url:Fe("@/rules/multiple-labeled-controls.ts")}}setup(){this.labelable=this.getTagsWithProperty("labelable").join(","),this.on("element:ready",(e=>{const{target:t}=e;if("label"!==t.tagName)return;this.getNumLabledControls(t)<=1||this.report(t,"<label> is associated with multiple controls",t.location)}))}getNumLabledControls(e){const t=e.querySelectorAll(this.labelable).map((e=>e.id)),r=e.getAttribute("for");if(!r||r.isDynamic||!r.value)return t.length;return t.includes(r.value.toString())?t.length:t.length+1}},"no-autoplay":class extends je{constructor(e){super({...or,...e})}documentation(e){const t=e?" on <".concat(e.tagName,">"):"";return{description:["The autoplay attribute is not allowed".concat(t,"."),"Autoplaying content can be disruptive for users and has accessibilty concerns.","Prefer to let the user control playback."].join("\n"),url:Fe("@/rules/no-autoplay.ts")}}static schema(){return{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},include:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]}}}setup(){this.on("attr",(e=>{if("autoplay"!==e.key.toLowerCase())return;if(e.value&&e.value instanceof H)return;const t=e.target.tagName;if(this.isKeywordIgnored(t))return;const r={tagName:t},n=e.location;this.report(e.target,"The autoplay attribute is not allowed on <".concat(t,">"),n,r)}))}},"no-conditional-comment":class extends je{documentation(){return{description:"Microsoft Internet Explorer previously supported using special HTML comments (conditional comments) for targeting specific versions of IE but since IE 10 it is deprecated and not supported in standards mode.",url:Fe("@/rules/no-conditional-comment.ts")}}setup(){this.on("conditional",(e=>{this.report(e.parent,"Use of conditional comments are deprecated",e.location)}))}},"no-deprecated-attr":class extends je{documentation(){return{description:"HTML5 deprecated many old attributes.",url:Fe("@/rules/no-deprecated-attr.ts")}}setup(){this.on("attr",(e=>{const t=e.target,r=t.meta,n=e.key.toLowerCase();if(null===r)return;const o=r.attributes&&r.attributes[n];if(!o)return;o.deprecated&&this.report(t,'Attribute "'.concat(e.key,'" is deprecated on <').concat(t.tagName,"> element"),e.keyLocation)}))}},"no-dup-attr":class extends je{documentation(){return{description:"HTML disallows two or more attributes with the same (case-insensitive) name.",url:Fe("@/rules/no-dup-attr.ts")}}setup(){let e={};this.on("tag:start",(()=>{e={}})),this.on("attr",(t=>{if(t.originalAttribute)return;const r=t.key.toLowerCase();r in e&&this.report(t.target,'Attribute "'.concat(r,'" duplicated'),t.keyLocation),e[t.key]=!0}))}},"no-dup-class":class extends je{documentation(){return{description:"Prevents unnecessary duplication of class names.",url:Fe("@/rules/no-dup-class.ts")}}setup(){this.on("attr",(e=>{if("class"!==e.key.toLowerCase())return;const t=new ne(e.value,e.valueLocation),r=new Set;t.forEach(((n,o)=>{if(r.has(n)){const r=t.location(o);this.report(e.target,'Class "'.concat(n,'" duplicated'),r)}r.add(n)}))}))}},"no-dup-id":class extends je{documentation(){return{description:"The ID of an element must be unique.",url:Fe("@/rules/no-dup-id.ts")}}setup(){this.on("dom:ready",(e=>{const{document:t}=e,r=new Set,n=t.querySelectorAll("[id]").filter(sr);for(const o of n){const e=o.getAttribute("id");if(!e||!e.value)continue;const t=e.value.toString();r.has(t)&&this.report(o,'Duplicate ID "'.concat(t,'"'),e.valueLocation),r.add(t)}}))}},"no-implicit-close":class extends je{documentation(){return{description:"Some elements in HTML has optional end tags. When an optional tag is omitted a browser must handle it as if the end tag was present.\n\nOmitted end tags can be ambigious for humans to read and many editors have trouble formatting the markup.",url:Fe("@/rules/no-implicit-close.ts")}}setup(){this.on("tag:end",(e=>{const r=e.previous,n=e.target;if(!n)return;if(r.closed!==t.NodeClosed.ImplicitClosed)return;const o=r.parent&&r.parent.tagName===n.tagName,s=r.tagName===n.tagName;o?this.report(r,"Element <".concat(r.tagName,"> is implicitly closed by parent </").concat(n.tagName,">"),r.location):s?this.report(r,"Element <".concat(r.tagName,"> is implicitly closed by sibling"),r.location):this.report(r,"Element <".concat(r.tagName,"> is implicitly closed by adjacent <").concat(n.tagName,">"),r.location)}))}},"no-inline-style":class extends je{constructor(e){super({...ir,...e})}static schema(){return{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},include:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},allowedProperties:{items:{type:"string"},type:"array"}}}documentation(){const e=["Inline style is not allowed.\n","Inline style is a sign of unstructured CSS. Use class or ID with a separate stylesheet.\n"];return this.options.allowedProperties.length>0&&(e.push("Under the current configuration the following CSS properties are allowed:\n"),e.push(this.options.allowedProperties.map((e=>"- `".concat(e,"`"))).join("\n"))),{description:e.join("\n"),url:Fe("@/rules/no-inline-style.ts")}}setup(){this.on("attr",(e=>this.isRelevant(e)),(e=>{const{value:t}=e;this.allPropertiesAllowed(t)||this.report(e.target,"Inline style is not allowed")}))}isRelevant(e){if("style"!==e.key)return!1;const{include:t,exclude:r}=this.options,n=e.originalAttribute||e.key;return!(t&&!t.includes(n))&&(!r||!r.includes(n))}allPropertiesAllowed(e){if("string"!=typeof e)return!1;const t=this.options.allowedProperties;if(0===t.length)return!1;const r=function(e){return e.trim().split(";").filter(Boolean).map((e=>{const[t,r]=e.split(":",2);return{property:t.trim(),value:r?r.trim():void 0}}))}(e);return r.length>0&&r.every((e=>t.includes(e.property)))}},"no-missing-references":class extends je{documentation(e){return e?{description:'The element ID "'.concat(e.value,'" referenced by the ').concat(e.key," attribute must point to an existing element."),url:Fe("@/rules/no-missing-references.ts")}:{description:"The element ID referenced by the attribute must point to an existing element.",url:Fe("@/rules/no-missing-references.ts")}}setup(){this.on("dom:ready",(e=>{const t=e.document;for(const r of t.querySelectorAll("label[for]")){const e=r.getAttribute("for");this.validateReference(t,r,e,!1)}for(const r of t.querySelectorAll("input[list]")){const e=r.getAttribute("list");this.validateReference(t,r,e,!1)}for(const{property:r,isList:n}of ar)for(const e of t.querySelectorAll("[".concat(r,"]"))){const o=e.getAttribute(r);this.validateReference(t,e,o,n)}}))}validateReference(e,t,r,n){if(!r)return;const o=r.value;o instanceof H||null===o||""===o||(n?this.validateList(e,t,r,o):this.validateSingle(e,t,r,o))}validateSingle(e,t,r,n){if(lr(e,n)){const e={key:r.key,value:n};this.report(t,'Element references missing id "'.concat(n,'"'),r.valueLocation,e)}}validateList(e,t,r,n){const o=new ne(n,r.valueLocation);for(const s of o.iterator()){const n=s.item;if(lr(e,n)){const e={key:r.key,value:n};this.report(t,'Element references missing id "'.concat(n,'"'),s.location,e)}}}},"no-multiple-main":class extends je{documentation(){return{description:["Only a single visible `<main>` element can be present at in a document at a time.","","Multiple `<main>` can be present in the DOM as long the others are hidden using the HTML5 `hidden` attribute."].join("\n"),url:Fe("@/rules/no-multiple-main.ts")}}setup(){this.on("dom:ready",(e=>{const{document:t}=e,r=t.querySelectorAll("main").filter((e=>!e.hasAttribute("hidden")));r.shift();for(const n of r)this.report(n,"Multiple <main> elements present in document")}))}},"no-raw-characters":class extends je{constructor(e){super({...cr,...e}),this.relaxed=this.options.relaxed}static schema(){return{relaxed:{type:"boolean"}}}documentation(){return{description:"Some characters such as `<`, `>` and `&` hold special meaning in HTML and must be escaped using a character reference (html entity).",url:Fe("@/rules/no-raw-characters.ts")}}setup(){this.on("element:ready",(e=>{const t=e.target;for(const r of t.childNodes)r.nodeType===K.TEXT_NODE&&(r.textContent.match(mr)||this.findRawChars(t,r.textContent,r.location,ur))})),this.on("attr",(e=>{e.value&&(e.quote||this.findRawChars(e.target,e.value.toString(),e.valueLocation,dr))}))}findRawChars(e,t,r,n){let o;do{if(o=n.exec(t),o){const t=o[0];if(this.relaxed&&"&"===t)continue;const n=hr.get(t),s=W(r,o.index,o.index+1);this.report(e,'Raw "'.concat(t,'" must be encoded as "').concat(n,'"'),s)}}while(o)}},"no-redundant-for":class extends je{documentation(){return{description:"When the `<label>` element wraps the labelable control the `for` attribute is redundant and better left out.",url:Fe("@/rules/no-redundant-for.ts")}}setup(){this.on("element:ready",(e=>{const{target:t}=e;if("label"!==t.tagName)return;const r=t.getAttribute("for");if(!r||r.isDynamic)return;const n=r.value;if(!n)return;const o=ae(n);t.querySelector('[id="'.concat(o,'"]'))&&this.report(t,'Redundant "for" attribute',r.keyLocation)}))}},"no-redundant-role":class extends je{documentation(e){const t={description:"Using this role is redundant as it is already implied by the element.",url:Fe("@/rules/no-redundant-role.ts")};return e&&(t.description='Using the "'.concat(e.role,'" role is redundant as it is already implied by the <').concat(e.tagname,"> element.")),t}setup(){this.on("attr",(e=>{const{target:t}=e;if("role"!==e.key.toLowerCase())return;if(!e.value||e.value instanceof H)return;const r=pr[t.tagName];if(!r)return;if(!r.includes(e.value))return;const n={tagname:t.tagName,role:e.value};this.report(e.target,'Redundant role "'.concat(e.value,'" on <').concat(t.tagName,">"),e.valueLocation,n)}))}},"no-self-closing":class extends je{constructor(e){super({...gr,...e})}static schema(){return{ignoreForeign:{type:"boolean"},ignoreXML:{type:"boolean"}}}documentation(e){return{description:"Self-closing elements are disallowed. Use regular end tag <".concat(e=e||"element","></").concat(e,"> instead of self-closing <").concat(e,"/>."),url:Fe("@/rules/no-self-closing.ts")}}setup(){this.on("tag:end",(e=>{const t=e.previous;(function(e,t){if(e.tagName&&e.tagName.match(fr))return!t.ignoreXML;if(!e.meta)return!0;if(e.meta.void)return!1;if(e.meta.foreign)return!t.ignoreForeign;return!0})(t,this.options)&&this.validateElement(t)}))}validateElement(e){e.closed===t.NodeClosed.VoidSelfClosed&&this.report(e,"<".concat(e.tagName,"> must not be self-closed"),null,e.tagName)}},"no-style-tag":class extends je{documentation(){return{description:"Prefer to use external stylesheets with the `<link>` tag instead of inlining the styling.",url:Fe("@/rules/no-style-tag.ts")}}setup(){this.on("tag:start",(e=>{const t=e.target;"style"===t.tagName&&this.report(t,"Use external stylesheet with <link> instead of <style> tag")}))}},"no-trailing-whitespace":class extends je{documentation(){return{description:"Lines with trailing whitespace cause unnessecary diff when using version control and usually serve no special purpose in HTML.",url:Fe("@/rules/no-trailing-whitespace.ts")}}setup(){this.on("whitespace",(e=>{e.text.match(/^[ \t]+\r?\n$/)&&this.report(null,"Trailing whitespace",e.location)}))}},"no-unknown-elements":class extends je{documentation(e){const t=e?" <".concat(e,">"):"";return{description:"An unknown element".concat(t," was used. If this is a Custom Element you need to supply element metadata for it."),url:Fe("@/rules/no-unknown-elements.ts")}}setup(){this.on("tag:start",(e=>{const t=e.target;t.meta||this.report(t,"Unknown element <".concat(t.tagName,">"),null,t.tagName)}))}},"no-utf8-bom":class extends je{documentation(){return{description:"This file is saved with the UTF-8 byte order mark (BOM) present. It is neither required or recommended to use.\n\nInstead the document should be served with the `Content-Type: application/javascript; charset=utf-8` header.",url:Fe("@/rules/no-utf8-bom.ts")}}setup(){const e=this.on("token",(r=>{r.type===t.TokenType.UNICODE_BOM&&this.report(null,"File should be saved without UTF-8 BOM",r.location),this.setEnabled(!1),e()}))}},"prefer-button":class extends je{constructor(e){super({...vr,...e})}static schema(){return{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},include:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]}}}documentation(e){const t={description:"Prefer to use the generic `<button>` element instead of `<input>`.",url:Fe("@/rules/prefer-button.ts")};if(e){const r='<input type="'.concat(e.type,'">'),n=br[e.type]||"<button>";t.description="Prefer to use `".concat(n,'` instead of `"').concat(r,"`.")}return t}setup(){this.on("attr",(e=>{const t=e.target;if("input"!==t.tagName.toLowerCase())return;if("type"!==e.key.toLowerCase())return;if(!e.value||e.value instanceof H)return;const r=e.value.toLowerCase();if(this.isKeywordIgnored(r))return;if(!yr.includes(r))return;const n={type:r},o='Prefer to use <button> instead of <input type="'.concat(r,'"> when adding buttons');this.report(t,o,e.valueLocation,n)}))}},"prefer-native-element":class extends je{constructor(e){super({...wr,...e})}static schema(){return{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},include:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},mapping:{type:"object"}}}documentation(e){const t={description:"Instead of using WAI-ARIA roles prefer to use the native HTML elements.",url:Fe("@/rules/prefer-native-element.ts")};return e&&(t.description='Instead of using the WAI-ARIA role "'.concat(e.role,'" prefer to use the native <').concat(e.replacement,"> element.")),t}setup(){const{mapping:e}=this.options;this.on("attr",(t=>{if("role"!==t.key.toLowerCase())return;if(!t.value||t.value instanceof H)return;const r=t.value.toLowerCase();if(this.isIgnored(r))return;const n=e[r];if(t.target.is(n))return;const o={role:r,replacement:n},s=this.getLocation(t);this.report(t.target,"Prefer to use the native <".concat(n,"> element"),s,o)}))}isIgnored(e){const{mapping:t}=this.options;return!t[e]||this.isKeywordIgnored(e)}getLocation(e){const t=e.location,r=e.valueLocation,n=e.quote?1:0,o=r.offset+r.size-t.offset+n;return{filename:t.filename,line:t.line,column:t.column,offset:t.offset,size:o}}},"prefer-tbody":class extends je{documentation(){return{description:"While `<tbody>` is optional is relays semantic information about its contents. Where applicable it should also be combined with `<thead>` and `<tfoot>`.",url:Fe("@/rules/prefer-tbody.ts")}}setup(){this.on("dom:ready",(e=>{const t=e.document;for(const r of t.querySelectorAll("table")){if(r.querySelector("> tbody"))continue;const e=r.querySelectorAll("> tr");e.length>=1&&this.report(e[0],"Prefer to wrap <tr> elements in <tbody>")}}))}},"require-sri":class extends je{constructor(e){super({...Tr,...e}),this.target=this.options.target}static schema(){return{target:{enum:["all","crossorigin"],type:"string"}}}documentation(){return{description:"Subresource Integrity (SRI) `integrity` attribute is required to prevent manipulation from Content Delivery Networks or other third-party hosting.",url:Fe("@/rules/require-sri.ts")}}setup(){this.on("tag:end",(e=>{const t=e.previous;this.supportSri(t)&&this.needSri(t)&&(t.hasAttribute("integrity")||this.report(t,'SRI "integrity" attribute is required on <'.concat(t.tagName,"> element"),t.location))}))}supportSri(e){return Object.keys(kr).includes(e.tagName)}needSri(e){if("all"===this.target)return!0;const t=this.elementSourceAttr(e);if(!t||null===t.value||t.isDynamic)return!1;const r=t.value.toString();return Er.test(r)}elementSourceAttr(e){const t=kr[e.tagName];return e.getAttribute(t)}},"script-element":class extends je{documentation(){return{description:"The end tag for `<script>` is a hard requirement and must never be omitted even when using the `src` attribute.",url:Fe("@/rules/script-element.ts")}}setup(){this.on("tag:end",(e=>{const r=e.target;r&&"script"===r.tagName&&r.closed!==t.NodeClosed.EndTag&&this.report(r,"End tag for <".concat(r.tagName,"> must not be omitted"))}))}},"script-type":class extends je{documentation(){return{description:"While valid the HTML5 standard encourages authors to omit the type element for JavaScript resources.",url:Fe("@/rules/script-type.ts")}}setup(){this.on("tag:end",(e=>{const t=e.previous;if(!t||"script"!==t.tagName)return;const r=t.getAttribute("type");if(!r||r.isDynamic)return;const n=r.value?r.value.toString():"";this.isJavascript(n)&&this.report(t,'"type" attribute is unnecessary for javascript resources',r.keyLocation)}))}isJavascript(e){const t=e.replace(/;.*/,"");return xr.includes(t)}},"svg-focusable":class extends je{documentation(){return{description:"Inline SVG elements in IE are focusable by default which may cause issues with tab-ordering. The `focusable` attribute should explicitly be set to avoid unintended behaviour.",url:Fe("@/rules/svg-focusable.ts")}}setup(){this.on("element:ready",(e=>{e.target.is("svg")&&this.validate(e.target)}))}validate(e){e.hasAttribute("focusable")||this.report(e,"<".concat(e.tagName,'> is missing required "focusable" attribute'))}},"text-content":Ir,"unrecognized-char-ref":class extends je{documentation(e){return{description:"HTML defines a set of valid character references but ".concat(e||"this"," is not a valid one."),url:Fe("@/rules/unrecognized-char-ref.ts")}}setup(){this.on("element:ready",(e=>{const t=e.target;for(const r of t.childNodes)r.nodeType===K.TEXT_NODE&&this.findCharacterReferences(r.textContent,r.location)})),this.on("attr",(e=>{e.value&&this.findCharacterReferences(e.value.toString(),e.valueLocation)}))}findCharacterReferences(e,t){let r;do{if(r=Lr.exec(e),r){const e=r[0];if(e.startsWith("&#"))continue;if(Or.includes(e))continue;const n=W(t,r.index,r.index+e.length);this.report(null,'Unrecognized character reference "'.concat(e,'"'),n,e)}}while(r)}},void:class extends je{constructor(e){super({...Dr,...e}),this.style=function(e){switch(e){case"any":return Rr.Any;case"omit":return Rr.AlwaysOmit;case"selfclose":case"selfclosing":return Rr.AlwaysSelfclose;default:throw new Error('Invalid style "'.concat(e,'" for "void" rule'))}}(this.options.style)}get deprecated(){return!0}static schema(){return{style:{enum:["any","omit","selfclose","selfclosing"],type:"string"}}}documentation(){return{description:"HTML void elements cannot have any content and must not have an end tag.",url:Fe("@/rules/void.ts")}}setup(){this.on("tag:end",(e=>{const t=e.target,r=e.previous;t&&t.meta&&this.validateCurrent(t),r&&r.meta&&this.validateActive(r,r.meta)}))}validateCurrent(e){e.voidElement&&e.closed===t.NodeClosed.EndTag&&this.report(null,"End tag for <".concat(e.tagName,"> must be omitted"),e.location)}validateActive(e,r){if(r.foreign)return;const n=e.closed===t.NodeClosed.VoidOmitted||e.closed===t.NodeClosed.VoidSelfClosed;e.voidElement&&(this.style===Rr.AlwaysOmit&&e.closed===t.NodeClosed.VoidSelfClosed&&this.report(e,"Expected omitted end tag <".concat(e.tagName,"> instead of self-closing element <").concat(e.tagName,"/>")),this.style===Rr.AlwaysSelfclose&&e.closed===t.NodeClosed.VoidOmitted&&this.report(e,"Expected self-closing element <".concat(e.tagName,"/> instead of omitted end-tag <").concat(e.tagName,">"))),n&&!1===e.voidElement&&this.report(e,"End tag for <".concat(e.tagName,"> must not be omitted"))}},"void-content":class extends je{documentation(e){const t={description:"HTML void elements cannot have any content and must not have content or end tag.",url:Fe("@/rules/void-content.ts")};return e&&(t.description="<".concat(e,"> is a void element and must not have content or end tag.")),t}setup(){this.on("tag:end",(e=>{const r=e.target;r&&r.voidElement&&r.closed===t.NodeClosed.EndTag&&this.report(null,"End tag for <".concat(r.tagName,"> must be omitted"),r.location,r.tagName)}))}},"void-style":class extends je{constructor(e){super({...Mr,...e}),this.style=function(e){switch(e){case"omit":return Pr.AlwaysOmit;case"selfclose":case"selfclosing":return Pr.AlwaysSelfclose;default:throw new Error('Invalid style "'.concat(e,'" for "void-style" rule'))}}(this.options.style)}static schema(){return{style:{enum:["omit","selfclose","selfclosing"],type:"string"}}}documentation(e){const t={description:"The current configuration requires a specific style for ending void elements.",url:Fe("@/rules/void-style.ts")};if(e){const[r,n]=function(e){switch(e){case Pr.AlwaysOmit:return["omit end tag",""];case Pr.AlwaysSelfclose:return["be self-closed","/"];default:throw new Error("Unknown style")}}(e.style);t.description="The current configuration requires void elements to ".concat(r,", use <").concat(e.tagName).concat(n,"> instead.")}return t}setup(){this.on("tag:end",(e=>{const t=e.previous;t&&t.meta&&this.validateActive(t)}))}validateActive(e){e.voidElement&&(this.shouldBeOmitted(e)&&this.report(e,"Expected omitted end tag <".concat(e.tagName,"> instead of self-closing element <").concat(e.tagName,"/>")),this.shouldBeSelfClosed(e)&&this.report(e,"Expected self-closing element <".concat(e.tagName,"/> instead of omitted end-tag <").concat(e.tagName,">")))}report(e,t){const r={style:this.style,tagName:e.tagName};super.report(e,t,null,r)}shouldBeOmitted(e){return this.style===Pr.AlwaysOmit&&e.closed===t.NodeClosed.VoidSelfClosed}shouldBeSelfClosed(e){return this.style===Pr.AlwaysSelfclose&&e.closed===t.NodeClosed.VoidOmitted}},..._r};var Ur={};const Gr={rules:{"input-missing-label":"error","heading-level":"error","missing-doctype":"error","no-missing-references":"error","require-sri":"error"}},Vr={rules:{"aria-hidden-body":"error","aria-label-misuse":"error","attr-case":"error","attr-delimiter":"error","attr-quotes":"error","attr-spacing":"error","attribute-allowed-values":"error","attribute-boolean-style":"error","attribute-empty-style":"error","close-attr":"error","close-order":"error",deprecated:"error","deprecated-rule":"warn","doctype-html":"error","doctype-style":"error","element-case":"error","element-name":"error","element-permitted-content":"error","element-permitted-occurrences":"error","element-permitted-order":"error","element-required-attributes":"error","element-required-content":"error","empty-heading":"error","empty-title":"error","input-attributes":"error","long-title":"error","meta-refresh":"error","multiple-labeled-controls":"error","no-autoplay":["error",{include:["audio","video"]}],"no-conditional-comment":"error","no-deprecated-attr":"error","no-dup-attr":"error","no-dup-class":"error","no-dup-id":"error","no-implicit-close":"error","no-inline-style":"error","no-multiple-main":"error","no-raw-characters":"error","no-redundant-for":"error","no-redundant-role":"error","no-self-closing":"error","no-trailing-whitespace":"error","no-utf8-bom":"error","prefer-button":"error","prefer-native-element":"error","prefer-tbody":"error","script-element":"error","script-type":"error","svg-focusable":"error","text-content":"error","unrecognized-char-ref":"error",void:"off","void-content":"error","void-style":"error","wcag/h30":"error","wcag/h32":"error","wcag/h36":"error","wcag/h37":"error","wcag/h67":"error","wcag/h71":"error"}},Xr={"html-validate:a17y":{rules:{"aria-hidden-body":"error","aria-label-misuse":"error","deprecated-rule":"warn","empty-heading":"error","empty-title":"error","meta-refresh":"error","multiple-labeled-controls":"error","no-autoplay":["error",{include:["audio","video"]}],"no-dup-id":"error","no-redundant-for":"error","no-redundant-role":"error","prefer-native-element":"error","svg-focusable":"error","text-content":"error","wcag/h30":"error","wcag/h32":"error","wcag/h36":"error","wcag/h37":"error","wcag/h67":"error","wcag/h71":"error"}},"html-validate:document":Gr,"html-validate:recommended":Vr,"html-validate:standard":{rules:{"attr-spacing":"error","attribute-allowed-values":"error","close-attr":"error","close-order":"error",deprecated:"error","deprecated-rule":"warn","doctype-html":"error","element-name":"error","element-permitted-content":"error","element-permitted-occurrences":"error","element-permitted-order":"error","element-required-attributes":"error","element-required-content":"error","multiple-labeled-controls":"error","no-deprecated-attr":"error","no-dup-attr":"error","no-dup-id":"error","no-multiple-main":"error","no-raw-characters":["error",{relaxed:!0}],"script-element":"error","unrecognized-char-ref":"error","void-content":"error"}},"htmlvalidate:recommended":Vr,"htmlvalidate:document":Gr};class Hr{constructor(e){let{metaTable:t,plugins:r,rules:n,transformers:o}=e;this.metaTable=t,this.plugins=r,this.rules=n,this.transformers=o}getMetaTable(){return this.metaTable}getPlugins(){return this.plugins}getRules(){return this.rules}transformSource(e,t){const r=this.findTransformer(t||e.filename),n={hasChain:e=>!!this.findTransformer(e),chain:(e,t)=>this.transformSource(e,t)};if(!r)return[e];try{return Array.from(r.fn.call(n,e),(e=>(e.transformedBy=e.transformedBy||[],e.transformedBy.push(r.name),e)))}catch(o){throw new k('When transforming "'.concat(e.filename,'": ').concat(o.message),o)}}transformFilename(e){const t="/dev/stdin"!==e?e:0,r=p.default.readFileSync(t,{encoding:"utf8"}),n={data:r,filename:e,line:1,column:1,offset:0,originalData:r};return this.transformSource(n)}canTransform(e){return!!this.findTransformer(e)}findTransformer(e){const t=this.transformers.find((t=>t.pattern.test(e)));return null!=t?t:null}}let Yr=null;const Wr=new g.default({strict:!0,strictTuples:!0,strictTypes:!0});Wr.addMetaSchema(E);const Jr=Wr.compile(Ee);function Qr(e,t){return t}function Kr(e,t){const r=y.default(e,{...t,rules:{}});t.rules&&(r.rules=y.default(r.rules,t.rules,{arrayMerge:Qr}));const n=e.root||t.root;return n&&(r.root=n),r}class Zr{constructor(e){var t;this.transformers=[];this.config=Kr({extends:[],plugins:[],rules:{},transform:{}},e||{}),this.metaTable=null,this.rootDir=this.findRootDir(),this.initialized=!1,this.plugins=this.loadPlugins(this.config.plugins||[]),this.configurations=this.loadConfigurations(this.plugins),this.extendMeta(this.plugins),this.config=this.extendConfig(null!==(t=this.config.extends)&&void 0!==t?t:[]),this.config.extends=[],e&&e.rules&&(this.config=Kr(this.config,{rules:e.rules}))}static empty(){return new Zr({extends:[],rules:{},plugins:[],transform:{}})}static fromObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Zr.validate(e,t),new Zr(e)}static fromFile(e){const t=function(e){let t;try{t=N(e)}catch(r){throw new Ve('Failed to read configuration from "'.concat(e,'"'),r)}for(const n of["extends","elements","plugins"])t[n]&&(t[n]=t[n].map((t=>Zr.expandRelative(t,b.default.dirname(e)))));return t}(e);return Zr.fromObject(t,e)}static validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r;if(!Jr(e))throw new A(t,"Invalid configuration",e,Ee,null!==(r=Jr.errors)&&void 0!==r?r:[]);if(e.rules){const r=Zr.getRulesObject(e.rules);for(const[n,[,o]]of r.entries()){const r=Br[n],s="/rules/".concat(n,"/1");je.validateOptions(r,n,s,o,t,e)}}}static defaultConfig(){return new Zr(Ur)}init(){this.initialized||(this.transformers=this.precompileTransformers(this.config.transform||{}),this.initialized=!0)}isRootFound(){return Boolean(this.config.root)}merge(e){return new Zr(Kr(this.config,e.config))}extendConfig(e){if(0===e.length)return this.config;let t={};for(let r=0;r<e.length;r++){const n=e[r];let o;o=this.configurations.has(n)?this.configurations.get(n):Zr.fromFile(n).config,t=Kr(t,o)}return Kr(t,this.config)}getMetaTable(){if(this.metaTable)return this.metaTable;const e=new U,t=this.config.elements||["html5"];for(const r of this.getPlugins())r.elementSchema&&e.extendValidationSchema(r.elementSchema);for(const o of t){if("string"!=typeof o){e.loadFromObject(o);continue}let t;if(t=b.default.join(q,"elements","".concat(o,".json")),p.default.existsSync(t))e.loadFromFile(t);else if(t=o.replace("<rootDir>",this.rootDir),p.default.existsSync(t))e.loadFromFile(t);else try{e.loadFromObject(r(42366)(o))}catch(n){throw new Ve('Failed to load elements from "'.concat(o,'": ').concat(n.message),n)}}return e.init(),this.metaTable=e}static expandRelative(e,t){return"."===e[0]?b.default.normalize("".concat(t,"/").concat(e)):e}get(){const e={...this.config};return e.elements&&(e.elements=e.elements.map((e=>"string"==typeof e?e.replace(this.rootDir,"<rootDir>"):e))),delete e.extends,e}getRules(){var e;return Zr.getRulesObject(null!==(e=this.config.rules)&&void 0!==e?e:{})}static getRulesObject(e){const t=new Map;for(const[r,n]of Object.entries(e)){let e=n;Array.isArray(e)?1===e.length&&(e=[e[0],{}]):e=[e,{}];const o=Le(e[0]);t.set(r,[o,e[1]])}return t}getPlugins(){return this.plugins}loadPlugins(e){return e.map((e=>{try{const t=r(42366)(e.replace("<rootDir>",this.rootDir));return t.name=t.name||e,t.originalName=e,t}catch(t){throw new Ve('Failed to load plugin "'.concat(e,'": ').concat(t),t)}}))}loadConfigurations(e){const t=new Map;for(const[r,n]of Object.entries(Xr))Zr.validate(n,r),t.set(r,n);for(const r of e)for(const[e,n]of Object.entries(r.configs||{}))n&&(Zr.validate(n,e),t.set("".concat(r.name,":").concat(e),n),r.name!==r.originalName&&t.set("".concat(r.originalName,":").concat(e),n));return t}extendMeta(e){for(const t of e){if(!t.elementSchema)continue;const{properties:e}=t.elementSchema;if(e)for(const[t,r]of Object.entries(e)){const e=t;r.copyable&&!O.includes(e)&&O.push(e)}}}resolve(){return new Hr(this.resolveData())}resolveData(){return{metaTable:this.getMetaTable(),plugins:this.getPlugins(),rules:this.getRules(),transformers:this.transformers}}precompileTransformers(e){return Object.entries(e).map((e=>{let[t,r]=e;try{const e=this.getTransformFunction(r),n=e.api||0;if(n!==Se.VERSION)throw new Ve("Transformer uses API version ".concat(n," but only version ").concat(Se.VERSION," is supported"));return{pattern:new RegExp(t),name:r,fn:e}}catch(n){throw new Ve(n instanceof Ve?'Failed to load transformer "'.concat(r,'": ').concat(n.message):'Failed to load transformer "'.concat(r,'"'),n)}}))}getTransformFunction(e){const t=e.match(/(.*):(.*)/);if(t){const[,r,n]=t;return this.getNamedTransformerFromPlugin(e,r,n)}const r=this.plugins.find((t=>t.name===e));return r?this.getUnnamedTransformerFromPlugin(e,r):this.getTransformerFromModule(e)}getNamedTransformerFromPlugin(e,t,r){const n=this.plugins.find((e=>e.name===t));if(!n)throw new Ve('No plugin named "'.concat(t,'" has been loaded'));if(!n.transformer)throw new Ve("Plugin does not expose any transformer");if("function"==typeof n.transformer)throw new Ve('Transformer "'.concat(e,'" refers to named transformer but plugin exposes only unnamed, use "').concat(t,'" instead.'));const o=n.transformer[r];if(!o)throw new Ve('Plugin "'.concat(t,'" does not expose a transformer named "').concat(r,'".'));return o}getUnnamedTransformerFromPlugin(e,t){if(!t.transformer)throw new Ve("Plugin does not expose any transformer");if("function"!=typeof t.transformer){if(t.transformer.default)return t.transformer.default;throw new Ve('Transformer "'.concat(e,'" refers to unnamed transformer but plugin exposes only named.'))}return t.transformer}getTransformerFromModule(e){const t=e.replace("<rootDir>",this.rootDir),n=r(42366)(t);if("function"!=typeof n){if(n.transformer)throw new Ve("Module is not a valid transformer. This looks like a plugin, did you forget to load the plugin first?");throw new Ve("Module is not a valid transformer.")}return n}get rootDirCache(){return Yr}set rootDirCache(e){Yr=e}findRootDir(){const e=this.rootDirCache;if(null!==e)return e;let t=n.cwd();for(;;){const e=b.default.join(t,"package.json");if(p.default.existsSync(e))return this.rootDirCache=t;const r=t;if(t=b.default.dirname(t),t===r)break}return this.rootDirCache=n.cwd()}}class en{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zr;const r=t.empty();this.configFactory=t,this.globalConfig=r.merge(e?this.loadFromObject(e):this.defaultConfig())}empty(){return this.configFactory.empty()}loadFromObject(e,t){return this.configFactory.fromObject(e,t)}loadFromFile(e){return this.configFactory.fromFile(e)}}class tn{constructor(){this.listeners={}}on(e,t){const r=e.split(",").map((e=>e.trim()));for(const n of r)this.listeners[n]=this.listeners[n]||[],this.listeners[n].push(t);return()=>{for(const e of r)this.listeners[e]=this.listeners[e].filter((e=>e!==t))}}once(e,t){const r=this.on(e,((e,n)=>{t(e,n),r()}));return r}trigger(e,t){var r,n;[...null!==(r=this.listeners[e])&&void 0!==r?r:[],...null!==(n=this.listeners["*"])&&void 0!==n?n:[]].forEach((r=>{r.call(null,e,t)}))}}const rn=/<!(?:--)?\[(.*?)\](?:--)?>/g;class nn extends Error{constructor(e,t){super(t),this.location=e}}class on{constructor(e){this.event=new tn,this.dom=null,this.metaTable=e.getMetaTable()}parseHtml(e){var r,n,o,s;"string"==typeof e&&(e={data:e,filename:"inline",line:1,column:1,offset:0}),this.dom=new ve({filename:null!==(r=e.filename)&&void 0!==r?r:"",offset:null!==(n=e.offset)&&void 0!==n?n:0,line:null!==(o=e.line)&&void 0!==o?o:1,column:null!==(s=e.column)&&void 0!==s?s:1,size:0}),this.trigger("dom:load",{source:e,location:null});const i=(new wt).tokenize(e);let a=this.next(i);for(;!a.done;){const r=a.value;switch(r.type){case t.TokenType.UNICODE_BOM:break;case t.TokenType.TAG_OPEN:this.consumeTag(e,r,i);break;case t.TokenType.WHITESPACE:this.trigger("whitespace",{text:r.data[0],location:r.location}),this.appendText(r.data[0],r.location);break;case t.TokenType.DIRECTIVE:this.consumeDirective(r);break;case t.TokenType.CONDITIONAL:this.consumeConditional(r);break;case t.TokenType.COMMENT:this.consumeComment(r);break;case t.TokenType.DOCTYPE_OPEN:this.consumeDoctype(r,i);break;case t.TokenType.TEXT:case t.TokenType.TEMPLATING:this.appendText(r.data[0],r.location);break;case t.TokenType.EOF:this.closeTree(e,r.location)}a=this.next(i)}return this.dom.resolveMeta(this.metaTable),this.trigger("dom:ready",{document:this.dom,source:e,location:null}),this.dom.root}closeOptional(e){const t=this.dom.getActive();if(!t.meta||!t.meta.implicitClosed)return!1;const r=e.data[2],n=!e.data[1],o=t.meta.implicitClosed;return n?o.includes(r):!t.is(r)&&Boolean(t.parent&&t.parent.is(r)&&o.includes(t.tagName))}consumeTag(e,r,n){const o=Array.from(this.consumeUntil(n,t.TokenType.TAG_CLOSE,r.location)),s=o.slice(-1)[0],i=this.closeOptional(r),a=i?this.dom.getActive().parent:this.dom.getActive(),l=be.fromTokens(r,s,a,this.metaTable),c=!r.data[1],u=!c||l.closed!==t.NodeClosed.Open,d=l.meta&&l.meta.foreign;if(i){const n=this.dom.getActive();n.closed=t.NodeClosed.ImplicitClosed,this.closeElement(e,l,n,r.location),this.dom.popActive()}c&&(this.dom.pushActive(l),this.trigger("tag:start",{target:l,location:r.location}));for(let m=0;m<o.length;m++){const r=o[m];switch(r.type){case t.TokenType.WHITESPACE:break;case t.TokenType.ATTR_NAME:this.consumeAttribute(e,l,r,o[m+1])}}if(c&&this.trigger("tag:ready",{target:l,location:s.location}),u){const r=this.dom.getActive();c||(l.closed=t.NodeClosed.EndTag),this.closeElement(e,l,r,s.location);!c&&l.voidElement||this.dom.popActive()}else d&&this.discardForeignBody(e,l.tagName,n,r.location)}closeElement(e,t,r,n){this.processElement(r,e);const o={target:t,previous:r,location:n};this.trigger("tag:end",o),r&&!r.isRootElement()&&this.trigger("element:ready",{target:r,location:r.location})}processElement(e,t){if(e.cacheEnable(),t.hooks&&t.hooks.processElement){const r=t.hooks.processElement,n=this.metaTable,o={getMetaFor(e){return n.getMetaFor(e)}};r.call(o,e)}}discardForeignBody(e,r,n,o){let s,i,a=1;do{const e=Array.from(this.consumeUntil(n,t.TokenType.TAG_OPEN,o)),[l]=e.slice(-1),[,c,u]=l.data;if(u!==r)continue;i=Array.from(this.consumeUntil(n,t.TokenType.TAG_CLOSE,l.location)).slice(-1)[0];const d="/>"===i.data[0];c?(s=l,a--):d||a++}while(a>0);if(!s||!i)return;const l=this.dom.getActive(),c=be.fromTokens(s,i,l,this.metaTable);this.closeElement(e,c,l,i.location),this.dom.popActive()}consumeAttribute(e,r,n,o){const s=this.getAttributeKeyLocation(n),i=this.getAttributeValueLocation(o),a=this.getAttributeLocation(n,o),l=function(e){return Boolean(e&&e.type===t.TokenType.ATTR_VALUE)}(o),c={key:n.data[1],value:null,quote:null};if(l){const[,,e,t]=o.data;c.value=e,c.quote=null!=t?t:null}let u,d=e=>[e];e.hooks&&e.hooks.processAttribute&&(d=e.hooks.processAttribute);const m=d.call({},c);u="function"!=typeof m[Symbol.iterator]?[c]:m;for(const t of u){const e={target:r,key:t.key,value:t.value,quote:t.quote,originalAttribute:t.originalAttribute,location:a,keyLocation:s,valueLocation:i};this.trigger("attr",e),r.setAttribute(t.key,t.value,s,i,t.originalAttribute)}}getAttributeKeyLocation(e){return e.location}getAttributeValueLocation(e){if(!e||e.type!==t.TokenType.ATTR_VALUE||""===e.data[2])return null;return e.data[3]?W(e.location,2,-1):W(e.location,1)}getAttributeLocation(e,r){var n;const o=e.location,s=r&&r.type===t.TokenType.ATTR_VALUE?r.location:void 0;return{filename:o.filename,line:o.line,column:o.column,size:o.size+(null!==(n=null==s?void 0:s.size)&&void 0!==n?n:0),offset:o.offset}}consumeDirective(e){const[t,,r,n,o]=e.data;if(""===o)throw new Error('Missing end bracket "]" on directive "'.concat(t,'"'));const s=n.match(/^(.*?)(?:\s*(?:--|:)\s*(.*))?$/);if(!s)throw new Error('Failed to parse directive "'.concat(t,'"'));const[,i,a]=s;this.trigger("directive",{action:r,data:i,comment:a||"",location:e.location})}consumeConditional(e){const t=this.dom.getActive();this.trigger("conditional",{condition:e.data[1],location:e.location,parent:t})}consumeComment(e){const t=e.data[0],r=this.dom.getActive();for(const n of function*(e,t){let r;for(;null!==(r=rn.exec(e));){const n=r[1],o=r.index,s=W(t,o,o+r[0].length,e);yield{expression:n,location:s}}}(t,e.location))this.trigger("conditional",{condition:n.expression,location:n.location,parent:r})}consumeDoctype(e,r){const n=Array.from(this.consumeUntil(r,t.TokenType.DOCTYPE_CLOSE,e.location)),o=n[0].data[0];this.dom.doctype=o,this.trigger("doctype",{tag:e.data[1],value:o,valueLocation:n[0].location,location:e.location})}*consumeUntil(e,r,n){let o=this.next(e);for(;!o.done;){const t=o.value;if(yield t,t.type===r)return;o=this.next(e)}throw new nn(n,"stream ended before ".concat(t.TokenType[r]," token was found"))}next(e){const t=e.next();if(!t.done){const e=t.value;this.trigger("token",{location:e.location,type:e.type,data:Array.from(e.data)})}return t}on(e,t){return this.event.on(e,t)}once(e,t){return this.event.once(e,t)}defer(e){this.event.once("*",e)}trigger(e,t){if(void 0===t.location)throw new Error("Triggered event must contain location");this.event.trigger(e,t)}getEventHandler(){return this.event}appendText(e,t){this.dom.getActive().appendText(e,t)}closeTree(e,t){let r;for(;(r=this.dom.getActive())&&!r.isRootElement();)this.closeElement(e,null,r,t),this.dom.popActive()}}class sn{constructor(){this.result={}}static merge(e){const t=e.every((e=>e.valid)),r={};e.forEach((e=>{e.results.forEach((e=>{const t=e.filePath;t in r?r[t].messages=[...r[t].messages,...e.messages]:r[t]={...e}}))}));const n=Object.values(r).map((e=>(e.errorCount=an(e.messages),e.warningCount=ln(e.messages),e)));return{valid:t,results:n,errorCount:cn(n),warningCount:un(n)}}add(e,t,r,n,o,s){var i;o.filename in this.result||(this.result[o.filename]=[]),this.result[o.filename].push({ruleId:e.name,ruleUrl:null===(i=e.documentation(s))||void 0===i?void 0:i.url,severity:r,message:t,offset:o.offset,line:o.line,column:o.column,size:o.size||0,selector:n?n.generateSelector():null,context:s})}addManual(e,t){e in this.result||(this.result[e]=[]),this.result[e].push(t)}save(e){const t={valid:this.isValid(),results:Object.keys(this.result).map((t=>{const r=Array.from(this.result[t]).sort(dn),n=(e||[]).find((e=>{var r;return t===(null!==(r=e.filename)&&void 0!==r?r:"")}));return{filePath:t,messages:r,errorCount:an(r),warningCount:ln(r),source:n?n.originalData||n.data:null}})),errorCount:0,warningCount:0};return t.errorCount=cn(t.results),t.warningCount=un(t.results),t}isValid(){return 0===Object.values(this.result).reduce(((e,t)=>e+an(t)),0)}}function an(e){return e.filter((e=>e.severity===t.Severity.ERROR)).length}function ln(e){return e.filter((e=>e.severity===t.Severity.WARN)).length}function cn(e){return e.reduce(((e,t)=>e+t.errorCount),0)}function un(e){return e.reduce(((e,t)=>e+t.warningCount),0)}function dn(e,t){return e.line<t.line?-1:e.line>t.line?1:e.column<t.column?-1:e.column>t.column?1:0}class mn{constructor(e,t){this.report=new sn,this.config=e,this.ParserClass=t;const r=this.initPlugins(this.config);this.availableRules={...Br,...r.availableRules}}lint(e){for(const r of e){const e=this.instantiateParser(),{rules:n}=this.setupPlugins(r,this.config,e),o={filename:r.filename,line:1,column:1,offset:0,size:1},s={location:o,config:this.config,rules:n};e.trigger("config:ready",s);const{hooks:i,...a}=r,l={location:o,source:a};e.trigger("source:ready",l),e.on("directive",((t,r)=>{this.processDirective(r,e,n)}));try{e.parseHtml(r)}catch(t){if(!(t instanceof vt||t instanceof nn))throw t;this.reportError("parser-error",t.message,t.location)}}return this.report.save(e)}dumpEvents(e){const t=this.instantiateParser(),r=[];return t.on("*",((e,t)=>{"token"!==e&&r.push({event:e,data:t})})),e.forEach((e=>t.parseHtml(e))),r}dumpTokens(e){var r;const n=new wt,o=[];for(const s of e)for(const e of n.tokenize(s)){const n=null!==(r=e.data[0])&&void 0!==r?r:"";o.push({token:t.TokenType[e.type],data:n,location:"".concat(e.location.filename,":").concat(e.location.line,":").concat(e.location.column)})}return o}dumpTree(e){const t=this.instantiateParser().parseHtml(e[0]),r=[];return function e(t,n,o){if(t.parent){const e="  ".repeat(n-1),s=t.childElements.length>0?"":"",i=o<t.parent.childElements.length-1?"":"";r.push("".concat(e).concat(i,"").concat(s," ").concat(t.tagName).concat(function(e){let t="";return e.hasAttribute("id")&&(t+="#".concat(e.id)),e.hasAttribute("class")&&(t+=".".concat(e.classList.join("."))),t}(t)))}else r.push("(root)");t.childElements.forEach(((t,r)=>e(t,n+1,r)))}(t,0,0),r}getRuleDocumentation(e,t){const r=this.config.getRules();if(r.has(e)){const[,n]=r.get(e);return this.instantiateRule(e,n).documentation(t)}return null}instantiateParser(){return new this.ParserClass(this.config)}processDirective(e,t,r){const n=e.data.split(",").map((e=>e.trim())).map((e=>r[e])).filter((e=>e));switch(e.action){case"enable":this.processEnableDirective(n,t);break;case"disable":this.processDisableDirective(n,t);break;case"disable-block":this.processDisableBlockDirective(n,t);break;case"disable-next":this.processDisableNextDirective(n,t);break;default:this.reportError("parser-error",'Unknown directive "'.concat(e.action,'"'),e.location)}}processEnableDirective(e,r){for(const n of e)n.setEnabled(!0),n.getSeverity()===t.Severity.DISABLED&&n.setServerity(t.Severity.ERROR);r.on("tag:start",((t,r)=>{r.target.enableRules(e.map((e=>e.name)))}))}processDisableDirective(e,t){for(const r of e)r.setEnabled(!1);t.on("tag:start",((t,r)=>{r.target.disableRules(e.map((e=>e.name)))}))}processDisableBlockDirective(e,t){let r=null;for(const s of e)s.setEnabled(!1);const n=t.on("tag:start",((t,n)=>{var o,s;null===r&&(r=null!==(s=null===(o=n.target.parent)||void 0===o?void 0:o.unique)&&void 0!==s?s:null),n.target.disableRules(e.map((e=>e.name)))})),o=t.on("tag:end",((t,s)=>{const i=null===r,a=r===s.previous.unique;if(i||a){o(),n();for(const t of e)t.setEnabled(!0)}}))}processDisableNextDirective(e,t){for(const n of e)n.setEnabled(!1);const r=t.on("tag:start",((t,r)=>{r.target.disableRules(e.map((e=>e.name)))}));t.once("tag:ready, tag:end, attr",(()=>{r(),t.defer((()=>{for(const t of e)t.setEnabled(!0)}))}))}initPlugins(e){for(const t of e.getPlugins())t.init&&t.init();return{availableRules:this.initRules(e)}}initRules(e){const t={};for(const r of e.getPlugins())for(const[e,n]of Object.entries(r.rules||{}))n&&(t[e]=n);return t}setupPlugins(e,t,r){const n=r.getEventHandler();for(const o of t.getPlugins())o.setup&&o.setup(e,n);return{rules:this.setupRules(t,r)}}setupRules(e,t){const r={};for(const[n,[o,s]]of e.getRules().entries())r[n]=this.loadRule(n,e,o,s,t,this.report);return r}loadRule(e,t,r,n,o,s){const i=t.getMetaTable(),a=this.instantiateRule(e,n);return a.name=e,a.init(o,s,r,i),a.setup&&a.setup(),a}instantiateRule(e,t){if(this.availableRules[e]){return new(0,this.availableRules[e])(t)}return this.missingRule(e)}missingRule(e){return new class extends je{setup(){this.on("dom:load",(()=>{this.report(null,"Definition for rule '".concat(e,"' was not found"))}))}}}reportError(e,r,n){this.report.addManual(n.filename,{ruleId:e,severity:t.Severity.ERROR,message:r,offset:n.offset,line:n.line,column:n.column,size:n.size||0,selector:null})}}class hn extends en{getConfigFor(e,t){const r=this.loadFromObject(t||{});if(r.isRootFound())return r.init(),r;const n=this.globalConfig.merge(r);return n.init(),n}flushCache(){}defaultConfig(){return this.loadFromObject({extends:["html-validate:recommended"],elements:["html5"]})}}function pn(e){return!(!e||"string"==typeof e)&&Boolean(e.processAttribute||e.processElement)}function fn(e){return!(!e||"string"==typeof e)&&!(e.processAttribute||e.processElement)}const gn={silent:!1,version:Ie,logger(e){console.error(w.default.red(e))}};const yn=new Set(Object.keys(Br));function bn(e){return["json","cjs","js"].map((t=>b.default.join(e,".htmlvalidate.".concat(t)))).filter((e=>p.default.existsSync(e)))}const vn={">":"&gt;","<":"&lt;","'":"&apos;",'"':"&quot;","&":"&amp;"};function wn(e){return e.toString().replace(/[><'"&]/g,(e=>vn[e]))}function Tn(e){switch(e.severity){case 2:default:return"error";case 1:return"warning"}}const En={showLink:!0};function kn(e,t){return 1===t?e:"".concat(e,"s")}function xn(e){return{line:e.line,column:e.column}}function An(e,t){let r=e.line,n=e.column;for(let o=0;o<e.size;o++)"\n"===t.charAt(e.offset+o)?(r++,n=0):n++;return{line:r,column:n}}function qn(e,t,r){const o=2===e.severity?w.default.red("error"):w.default.yellow("warning"),s="".concat(w.default.bold(e.message.replace(/([^ ])\.$/,"$1"))),i=w.default.dim("(".concat(e.ruleId,")")),a=function(e,t,r){let o=b.default.relative(n.cwd(),e);return t&&r&&(o+=":".concat(t,":").concat(r)),w.default.green(o)}(t.filePath,e.line,e.column),l=t.source,c=[["".concat(o,":"),"".concat(s),i?"".concat(i):"",l?"at ".concat(a,":"):"at ".concat(a)].filter(String).join(" ")];return l&&c.push(d.codeFrameColumns(l,{start:xn(e),end:An(e,l)},{highlightCode:!1})),r.showLink&&e.ruleUrl&&c.push("".concat(w.default.bold("Details:")," ").concat(e.ruleUrl)),c.join("\n")}const Cn={checkstyle:function(e){let t="";return t+='<?xml version="1.0" encoding="utf-8"?>\n',t+='<checkstyle version="4.3">\n',e.forEach((e=>{const r=e.messages;t+='  <file name="'.concat(wn(e.filePath),'">\n'),r.forEach((e=>{const r=wn("htmlvalidate.rules.".concat(e.ruleId));t+="    ",t+=['<error line="'.concat(wn(e.line),'"'),'column="'.concat(wn(e.column),'"'),'severity="'.concat(wn(Tn(e)),'"'),'message="'.concat(wn(e.message)," (").concat(e.ruleId,')"'),'source="'.concat(r,'" />')].join(" "),t+="\n"})),t+="  </file>\n"})),t+="</checkstyle>\n",t},codeframe:function(e,t){const r={...En,...t};let n=0,o=0,s=e.filter((e=>e.messages.length>0)).reduce(((e,t)=>{const s=t.messages.map((e=>"".concat(qn(e,t,r),"\n\n")));return n+=t.errorCount,o+=t.warningCount,e.concat(s)}),[]).join("\n");return s+="\n",s+=function(e,t){const r=e>0?"red":"yellow",n=[];return e>0&&n.push("".concat(e," ").concat(kn("error",e))),t>0&&n.push("".concat(t," ").concat(kn("warning",t))),w.default[r]().bold("".concat(n.join(" and ")," found."))}(n,o),s+="\n",n+o>0?s:""},json:function(e){return JSON.stringify(e)},stylish:function(e){const t=T.default(e.map((e=>({...e,fixableErrorCount:0,fixableWarningCount:0})))),r=function(e){const t=e.reduce(((e,t)=>[...e,...t.messages.map((e=>e.ruleUrl)).filter((e=>Boolean(e)))]),[]),r=Array.from(new Set(t));if(0===r.length)return"";const n=r.map((e=>"  ".concat(e,"\n")));return"\n".concat(w.default.bold("More information"),":\n").concat(n.join(""),"\n")}(e);return"".concat(t).concat(r)},text:function(e){let t="",r=0;return e.forEach((e=>{const n=e.messages;0!==n.length&&(r+=n.length,t+=n.map((t=>{let r;r=2===t.severity?"error":"warning";const n="".concat(e.filePath,":").concat(t.line,":").concat(t.column);return"".concat(n,": ").concat(r," [").concat(t.ruleId,"] ").concat(t.message,"\n")})).join(""))})),r>0?t:""}};t.Config=Zr,t.ConfigError=Ve,t.ConfigLoader=en,t.DynamicValue=H,t.EventHandler=tn,t.FileSystemConfigLoader=class extends en{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zr),this.cache=new Map}getConfigFor(e,t){const r=this.loadFromObject(t||{});if(r.isRootFound())return r.init(),r;if(this.globalConfig.isRootFound()){const e=this.globalConfig.merge(r);return e.init(),e}const n=this.fromFilename(e),o=n?n.merge(r):this.globalConfig.merge(r);return o.init(),o}flushCache(e){e?this.cache.delete(e):this.cache.clear()}fromFilename(e){var t;if("inline"===e)return null;if(this.cache.has(e))return null!==(t=this.cache.get(e))&&void 0!==t?t:null;let r=!1,n=b.default.resolve(b.default.dirname(e)),o=this.empty();for(;;){for(const t of bn(n)){r=!0,o=this.loadFromFile(t).merge(o)}if(o.isRootFound())break;const e=n;if(n=b.default.dirname(n),n===e)break}return r?(this.cache.set(e,o),o):(this.cache.set(e,null),null)}defaultConfig(){return this.configFactory.defaultConfig()}},t.HtmlElement=be,t.HtmlValidate=class{constructor(e){const[t,r]=e instanceof en?[e,void 0]:[void 0,e];this.configLoader=null!=t?t:new hn(r)}validateString(e,t,r,n){const o="string"==typeof t?t:"inline",s=fn(t)?t:fn(r)?r:void 0,i={data:e,filename:o,line:1,column:1,offset:0,hooks:pn(t)?t:pn(r)?r:n};return this.validateSource(i,s)}validateSource(e,t){const r=this.getConfigFor(e.filename,t).resolve(),n=r.transformSource(e);return new mn(r,on).lint(n)}validateFile(e){const t=this.getConfigFor(e).resolve(),r=t.transformFilename(e);return new mn(t,on).lint(r)}validateMultipleFiles(e){return sn.merge(e.map((e=>this.validateFile(e))))}canValidate(e){if(".html"===b.default.extname(e).toLowerCase())return!0;return this.getConfigFor(e).resolve().canTransform(e)}dumpTokens(e){const t=this.getConfigFor(e).resolve(),r=t.transformFilename(e);return new mn(t,on).dumpTokens(r)}dumpEvents(e){const t=this.getConfigFor(e).resolve(),r=t.transformFilename(e);return new mn(t,on).dumpEvents(r)}dumpTree(e){const t=this.getConfigFor(e).resolve(),r=t.transformFilename(e);return new mn(t,on).dumpTree(r)}dumpSource(e){return this.getConfigFor(e).resolve().transformFilename(e).reduce(((e,t)=>{if(e.push("Source ".concat(t.filename,"@").concat(t.line,":").concat(t.column," (offset: ").concat(t.offset,")")),t.transformedBy&&(e.push("Transformed by:"),e=e.concat(t.transformedBy.reverse().map((e=>" - ".concat(e))))),t.hooks&&Object.keys(t.hooks).length>0){e.push("Hooks");for(const[r,n]of Object.entries(t.hooks))n&&e.push(" - ".concat(r))}return e.push("---"),(e=e.concat(t.data.split("\n"))).push("---"),e}),[])}getConfigurationSchema(){return Ee}getElementsSchema(e){return this.getConfigFor(null!=e?e:"inline").getMetaTable().getJSONSchema()}getRuleDocumentation(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||this.getConfigFor("inline");return new mn(r.resolve(),on).getRuleDocumentation(e,t)}getParserFor(e){const t=this.getConfigFor(e.filename);return new on(t.resolve())}getConfigFor(e,t){return this.configLoader.getConfigFor(e,t)}flushConfigCache(e){this.configLoader.flushCache(e)}},t.MetaCopyableProperty=O,t.MetaTable=U,t.Parser=on,t.Reporter=sn,t.Rule=je,t.SchemaValidationError=A,t.StaticConfigLoader=hn,t.TemplateExtractor=Ne,t.TextNode=fe,t.UserError=x,t.bugs="https://gitlab.com/html-validate/html-validate/issues/new",t.compatibilityCheck=function(e,t,r){const{silent:n,version:o,logger:s}={...gn,...r},i=v.default.satisfies(o,t);return i||n?i:(s(["-----------------------------------------------------------------------------------------------------","".concat(e,' requires html-validate version "').concat(t,'" but current installed version is ').concat(o),"This is not a supported configuration. Please install a supported version before reporting bugs.","-----------------------------------------------------------------------------------------------------"].join("\n")),!1)},t.getFormatter=function(e){var t;return null!==(t=Cn[e])&&void 0!==t?t:null},t.legacyRequire=r(42366),t.name="html-validate",t.presets=Xr,t.ruleExists=function(e){return yn.has(e)},t.version=Ie}}]);
//# sourceMappingURL=a3186c56-4457a8894b1710d7b152.js.map