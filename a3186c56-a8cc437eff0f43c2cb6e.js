"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[4923],{9303:function(e,t,n){var r,a=n(36886),i=n(70215),o=n(41588),s=n(51589),u=n(64687),l=n(861),c=n(38416),f=n(27424),d=n(89728),h=n(56690),p=n(66115),m=n(61655),v=n(94993),g=n(73808),y=n(33496),b=["hooks"],k=u.mark(_a);function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}n(38559);var q=n(54849),C=n(31974),N=n(17913),S=n(96843),O=n(60455),I=n(32540),L=n(93362),R=n(53455),D=n(92279);function P(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var j=P(q),M=P(C),F=P(N),$=P(S),z=P(O),_=P(I),B=P(L),U=P(D),Y={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}},G=function(e){m(n,e);var t=x(n);function n(e,r){var a;return h(this,n),a=t.call(this,e),Error.captureStackTrace(p(a),n),r&&(a.stack+="\nCaused by: ".concat(r.stack)),a}return d(n)}(y(Error)),V=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n)}(G);var X=function(e){m(n,e);var t=x(n);function n(e,r,a,i,o){var s;h(this,n);var u=function(e,t,n){var r=M.default(e,t,n,{format:"js"});return r.length>0?r[0].error:"unknown validation error"}(i,a,o);return(s=t.call(this,"".concat(r,": ").concat(u))).filename=e,s.obj=a,s.schema=i,s.errors=o,s}return d(n,[{key:"prettyError",value:function(){var e=this.getRawJSON();return M.default(this.schema,this.obj,this.errors,{format:"cli",indent:2,json:e})}},{key:"getRawJSON",value:function(){return this.filename&&j.default.existsSync(this.filename)?j.default.readFileSync(this.filename,"utf-8"):null}}]),n}(V),H=z.default.resolve("/","../../"),W=z.default.resolve(H,"dist/cjs");function J(e){var t=n(42366).resolve(e),r=n.c[t];if(r&&r.parent)for(var a=r.parent,i=a.children.length-1;i>=0;i--)a.children[i].id===t&&a.children.splice(i,1);return delete n.c[t],n(42366)(t)}var Q,K={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://html-validate.org/schemas/elements.json",type:"object",properties:{$schema:{type:"string"}},patternProperties:{"^[^$].*$":{type:"object",properties:{inherit:{title:"Inherit from another element",description:"Most properties from the parent element will be copied onto this one",type:"string"},embedded:{title:"Mark this element as belonging in the embedded content category",$ref:"#/definitions/contentCategory"},flow:{title:"Mark this element as belonging in the flow content category",$ref:"#/definitions/contentCategory"},heading:{title:"Mark this element as belonging in the heading content category",$ref:"#/definitions/contentCategory"},interactive:{title:"Mark this element as belonging in the interactive content category",$ref:"#/definitions/contentCategory"},metadata:{title:"Mark this element as belonging in the metadata content category",$ref:"#/definitions/contentCategory"},phrasing:{title:"Mark this element as belonging in the phrasing content category",$ref:"#/definitions/contentCategory"},sectioning:{title:"Mark this element as belonging in the sectioning content category",$ref:"#/definitions/contentCategory"},deprecated:{title:"Mark element as deprecated",description:"Deprecated elements should not be used. If a message is provided it will be included in the error",anyOf:[{type:"boolean"},{type:"string"},{$ref:"#/definitions/deprecatedElement"}]},foreign:{title:"Mark element as foreign",description:"Foreign elements are elements which have a start and end tag but is otherwize not parsed",type:"boolean"},void:{title:"Mark element as void",description:"Void elements are elements which cannot have content and thus must not use an end tag",type:"boolean"},transparent:{title:"Mark element as transparent",description:"Transparent elements follows the same content model as its parent, i.e. the content must be allowed in the parent.",anyOf:[{type:"boolean"},{type:"array",items:{type:"string"}}]},implicitClosed:{title:"List of elements which implicitly closes this element",description:"Some elements are automatically closed when another start tag occurs",type:"array",items:{type:"string"}},scriptSupporting:{title:"Mark element as script-supporting",description:"Script-supporting elements are elements which can be inserted where othersise not permitted to assist in templating",type:"boolean"},form:{title:"Mark element as a submittable form element",type:"boolean"},labelable:{title:"Mark this element as labelable",description:"This element may contain an associated label element.",anyOf:[{type:"boolean"},{$ref:"#/definitions/expression"}]},deprecatedAttributes:{title:"List of deprecated attributes",type:"array",items:{type:"string"}},requiredAttributes:{title:"List of required attributes",type:"array",items:{type:"string"}},attributes:{title:"List of known attributes and allowed values",$ref:"#/definitions/PermittedAttribute"},permittedContent:{title:"List of elements or categories allowed as content in this element",$ref:"#/definitions/Permitted"},permittedDescendants:{title:"List of elements or categories allowed as descendants in this element",$ref:"#/definitions/Permitted"},permittedOrder:{title:"Required order of child elements",$ref:"#/definitions/PermittedOrder"},requiredAncestors:{title:"List of required ancestor elements",$ref:"#/definitions/RequiredAncestors"},requiredContent:{title:"List of required content elements",$ref:"#/definitions/RequiredContent"},textContent:{title:"Allow, disallow or require textual content",description:"This property controls whenever an element allows, disallows or requires text. Text from any descendant counts, not only direct children",default:"default",type:"string",enum:["none","default","required","accessible"]}},additionalProperties:!1}},definitions:{contentCategory:{anyOf:[{type:"boolean"},{$ref:"#/definitions/expression"}]},expression:{type:"array",minItems:2,maxItems:2,items:[{type:"string",enum:["isDescendant","hasAttribute","matchAttribute"]},{anyOf:[{type:"string"},{$ref:"#/definitions/operation"}]}]},operation:{type:"array",minItems:3,maxItems:3,items:[{type:"string"},{type:"string",enum:["!=","="]},{type:"string"}]},deprecatedElement:{type:"object",additionalProperties:!1,properties:{message:{type:"string",title:"A short text message shown next to the regular error message."},documentation:{type:"string",title:"An extended markdown formatted message shown with the contextual rule documentation."},source:{type:"string",title:"Element source, e.g. what standard or library deprecated this element.",default:"html5"}}},Permitted:{type:"array",items:{anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/definitions/PermittedGroup"}]}},{$ref:"#/definitions/PermittedGroup"}]}},PermittedAttribute:{type:"object",patternProperties:{"^.*$":{anyOf:[{type:"object",additionalProperties:!1,properties:{boolean:{type:"boolean",title:"Set to true if this is a boolean attribute"},deprecated:{title:"Set to true or string if this attribute is deprecated",oneOf:[{type:"boolean"},{type:"string"}]},list:{type:"boolean",title:"Set to true if this attribute is a list of space-separated tokens, each which must be valid by itself"},enum:{type:"array",title:"Exhaustive list of values (string or regex) this attribute accepts",uniqueItems:!0,items:{anyOf:[{type:"string"},{regexp:!0}]}},omit:{type:"boolean",title:"Set to true if this attribute can optionally omit its value"},required:{type:"boolean",title:"Set to true if this attribute is required"}}},{type:"array",uniqueItems:!0,items:{type:"string"}}]}}},PermittedGroup:{type:"object",additionalProperties:!1,properties:{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"string"}]}}},PermittedOrder:{type:"array",items:{type:"string"}},RequiredAncestors:{type:"array",items:{type:"string"}},RequiredContent:{type:"array",items:{type:"string"}}}};!function(e){e.NONE="none",e.DEFAULT="default",e.REQUIRED="required",e.ACCESSIBLE="accessible"}(Q||(Q={}));var Z=["metadata","flow","sectioning","heading","phrasing","embedded","interactive","transparent","form","labelable","attributes","permittedContent","permittedDescendants","permittedOrder","requiredAncestors","requiredContent"];function ee(e,t,n){e[t]=n}function te(e){return!!e||void 0}function ne(e){var t=Object.entries(e).filter((function(e){return function(e){return void 0!==e}(f(e,2)[1])}));return Object.fromEntries(t)}function re(e,t){var n,r,a={};a.deprecated=te(null===(n=e.deprecatedAttributes)||void 0===n?void 0:n.includes(t)),a.required=te(null===(r=e.requiredAttributes)||void 0===r?void 0:r.includes(t)),a.omit=void 0;var i=e.attributes?e.attributes[t]:void 0;return void 0===i?ne(a):null===i?(a.delete=!0,ne(a)):Array.isArray(i)?(0===i.length?a.boolean=!0:(a.enum=i.filter((function(e){return""!==e})),i.includes("")&&(a.omit=!0)),ne(a)):ne(A(A({},a),i))}function ae(e){var t,n,r,a=[].concat(l(Object.keys(null!==(t=e.attributes)&&void 0!==t?t:{})),l(null!==(n=e.requiredAttributes)&&void 0!==n?n:[]),l(null!==(r=e.deprecatedAttributes)&&void 0!==r?r:[])).sort().map((function(t){return[t,re(e,t)]}));return Object.fromEntries(a)}var ie=["metadata","flow","sectioning","heading","phrasing","embedded","interactive","labelable"],oe={isDescendant:function(e,t){if("string"!=typeof t)throw new Error('Property expression "isDescendant" must take string argument when evaluating metadata for <'.concat(e.tagName,">"));var n=e.parent;for(;n&&!n.isRootElement();){if(n.is(t))return!0;n=n.parent}return!1},hasAttribute:function(e,t){if("string"!=typeof t)throw new Error('Property expression "hasAttribute" must take string argument when evaluating metadata for <'.concat(e.tagName,">"));return e.hasAttribute(t)},matchAttribute:function(e,t){if(!Array.isArray(t)||3!==t.length)throw new Error('Property expression "matchAttribute" must take [key, op, value] array as argument when evaluating metadata for <'.concat(e.tagName,">"));var n=t.map((function(e){return e.toLowerCase()})),r=f(n,3),a=r[0],i=r[1],o=r[2],s=(e.getAttributeValue(a)||"").toLowerCase();switch(i){case"!=":return s!==o;case"=":return s===o;default:throw new Error('Property expression "matchAttribute" has invalid operator "'.concat(i,'" when evaluating metadata for <').concat(e.tagName,">"))}}};function se(e,t){return t}var ue={keyword:"regexp",schema:!1,errors:!0,validate:function e(t,n){var r=t instanceof RegExp;return r||(e.errors=[{instancePath:null==n?void 0:n.instancePath,schemaPath:void 0,keyword:"type",message:"should be regexp",params:{keyword:"type"}}]),r}},le=function(){function e(){var t;h(this,e),this.elements={},this.schema=(t=K,JSON.parse(JSON.stringify(t)))}return d(e,[{key:"init",value:function(){this.resolveGlobal()}},{key:"extendValidationSchema",value:function(e){e.properties&&(this.schema=$.default(this.schema,{patternProperties:{"^[^$].*$":{properties:e.properties}}})),e.definitions&&(this.schema=$.default(this.schema,{definitions:e.definitions}))}},{key:"loadFromObject",value:function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.getSchemaValidator();if(!i(e))throw new X(a,"Element metadata is not valid",e,this.schema,null!==(t=i.errors)&&void 0!==t?t:[]);for(var o=0,s=Object.entries(e);o<s.length;o++){var u=f(s[o],2),l=u[0],c=u[1];"$schema"!==l&&this.addEntry(l,(r=void 0,delete(r=A(A({},n=c),{},{attributes:ae(n)})).deprecatedAttributes,delete r.requiredAttributes,r))}}},{key:"loadFromFile",value:function(e){try{var t=J(e);this.loadFromObject(t,e)}catch(n){if(n instanceof X)throw n;throw new V('Failed to load element metadata from "'.concat(e,'"'),n)}}},{key:"getMetaFor",value:function(e){return e=e.toLowerCase(),this.elements[e]?A({},this.elements[e]):this.elements["*"]?A({},this.elements["*"]):null}},{key:"getTagsWithProperty",value:function(e){return Object.entries(this.elements).filter((function(t){return f(t,2)[1][e]})).map((function(e){return f(e,1)[0]}))}},{key:"getTagsDerivedFrom",value:function(e){return Object.entries(this.elements).filter((function(t){var n=f(t,2),r=n[0],a=n[1];return r===e||a.inherit===e})).map((function(e){return f(e,1)[0]}))}},{key:"addEntry",value:function(e,t){var n=this.elements[e]||{};if(t.inherit){var r=t.inherit;if(!(n=this.elements[r]))throw new V("Element <".concat(e,"> cannot inherit from <").concat(r,">: no such element"))}var a=this.mergeElement(n,A(A({},t),{},{tagName:e}));!function(e){for(var t=0,n=Object.entries(e.attributes);t<n.length;t++){var r=f(n[t],2),a=r[0],i=r[1];i.enum&&(e.attributes[a].enum=i.enum.map(ce))}}(a),this.elements[e]=a}},{key:"getSchemaValidator",value:function(){var e=new F.default({strict:!0,strictTuples:!0,strictTypes:!0});return e.addMetaSchema(Y),e.addKeyword(ue),e.addKeyword({keyword:"copyable"}),e.compile(this.schema)}},{key:"getJSONSchema",value:function(){return this.schema}},{key:"resolveGlobal",value:function(){if(this.elements["*"]){var e=this.elements["*"];delete this.elements["*"],delete e.tagName,delete e.void;for(var t=0,n=Object.entries(this.elements);t<n.length;t++){var r=f(n[t],2),a=r[0],i=r[1];this.elements[a]=this.mergeElement(e,i)}}}},{key:"mergeElement",value:function(e,t){var n=$.default(e,t,{arrayMerge:se}),r=Object.entries(n.attributes).filter((function(e){var t=f(e,2)[1],n=!t.delete;return delete t.delete,n}));return n.attributes=Object.fromEntries(r),n}},{key:"resolve",value:function(e){e.meta&&function(e,t){for(var n=0,r=ie;n<r.length;n++){var a=r[n],i=t[a];i&&"boolean"!=typeof i&&ee(t,a,fe(e,i))}}(e,e.meta)}}]),e}();function ce(e){if(e instanceof RegExp)return e;var t=e.match(/^\/\^?([^/$]*)\$?\/([i]*)$/);if(t){var n=f(t,3),r=n[1],a=n[2];return new RegExp("^".concat(r,"$"),a)}return e}function fe(e,t){var n=de(t),r=f(n,2);return(0,r[0])(e,r[1])}function de(e){if("string"==typeof e)return de([e,{}]);var t=f(e,2),n=t[0],r=t[1],a=oe[n];if(!a)throw new Error('Failed to find function "'.concat(n,'" when evaluating property expression'));return[a,r]}var he,pe,me=function(){function e(t){h(this,e),this.expr=t}return d(e,[{key:"toString",value:function(){return this.expr}}]),e}(),ve=function(){function e(t,n,r,a,i){h(this,e),this.key=t,this.value=n,this.keyLocation=r,this.valueLocation=a,this.originalAttribute=i,void 0===this.value&&(this.value=null)}return d(e,[{key:"isStatic",get:function(){return!this.isDynamic}},{key:"isDynamic",get:function(){return this.value instanceof me}},{key:"valueMatches",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!==this.value&&(this.value instanceof me?t:e instanceof RegExp?null!==this.value.match(e):this.value===e)}}]),e}();function ge(e,t,n,r){if(!e)return null;var a=function(e,t,n){return"number"!=typeof e?e:"number"!=typeof n?e-t:(n<0&&(n=e+n),Math.min(e,n-t))}(e.size,t,n),i={filename:e.filename,offset:e.offset+t,line:e.line,column:e.column+t,size:a};if(r)for(var o=-1,s=i.column;;){if(!((o=r.indexOf("\n",o+1))>=0&&o<t))break;i.column=s-(o+1),i.line++}return i}!function(e){e[e.INITIAL=1]="INITIAL",e[e.DOCTYPE=2]="DOCTYPE",e[e.TEXT=3]="TEXT",e[e.TAG=4]="TAG",e[e.ATTR=5]="ATTR",e[e.CDATA=6]="CDATA",e[e.SCRIPT=7]="SCRIPT",e[e.STYLE=8]="STYLE"}(he||(he={})),function(e){e[e.TEXT=1]="TEXT",e[e.SCRIPT=2]="SCRIPT",e[e.STYLE=3]="STYLE"}(pe||(pe={}));var ye,be=function(){function e(t){var n,r,a,i;h(this,e),this.state=he.INITIAL,this.string=t.data,this.filename=null!==(n=t.filename)&&void 0!==n?n:"",this.offset=null!==(r=t.offset)&&void 0!==r?r:0,this.line=null!==(a=t.line)&&void 0!==a?a:1,this.column=null!==(i=t.column)&&void 0!==i?i:1,this.contentModel=pe.TEXT}return d(e,[{key:"getTruncatedLine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:13;return JSON.stringify(this.string.length>e?"".concat(this.string.slice(0,10),"..."):this.string)}},{key:"consume",value:function(e,t){"number"!=typeof e&&(e=e[0].length);for(var n,r=this.string.slice(0,e);(n=r.indexOf("\n"))>=0;)this.line++,this.column=1,r=r.substr(n+1);this.column+=r.length,this.offset+=e,this.string=this.string.substr(e),this.state=t}},{key:"getLocation",value:function(e){return{filename:this.filename,offset:this.offset,line:this.line,column:this.column,size:e}}}]),e}();!function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE"}(ye||(ye={}));var ke=Symbol("textContent"),we=0,Te=function(){function e(t,n,r){h(this,e),this.nodeType=t,this.nodeName=null!=n?n:"#document",this.location=r,this.disabledRules=new Set,this.childNodes=[],this.unique=we++,this.cache=null}return d(e,[{key:"cacheEnable",value:function(){this.cache=new Map}},{key:"cacheGet",value:function(e){return this.cache?this.cache.get(e):void 0}},{key:"cacheSet",value:function(e,t){return this.cache&&this.cache.set(e,t),t}},{key:"cacheRemove",value:function(e){return!!this.cache&&this.cache.delete(e)}},{key:"cacheExists",value:function(e){return Boolean(this.cache&&this.cache.has(e))}},{key:"textContent",get:function(){var e=this.cacheGet(ke);if(e)return e;var t=this.childNodes.map((function(e){return e.textContent})).join("");return this.cacheSet(ke,t),t}},{key:"append",value:function(e){this.childNodes.push(e)}},{key:"isRootElement",value:function(){return this.nodeType===ye.DOCUMENT_NODE}},{key:"isSameNode",value:function(e){return this.unique===e.unique}},{key:"firstChild",get:function(){return this.childNodes[0]||null}},{key:"lastChild",get:function(){return this.childNodes[this.childNodes.length-1]||null}},{key:"disableRule",value:function(e){this.disabledRules.add(e)}},{key:"disableRules",value:function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.disableRule(r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"enableRule",value:function(e){this.disabledRules.delete(e)}},{key:"enableRules",value:function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.enableRule(r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"ruleEnabled",value:function(e){return!this.disabledRules.has(e)}},{key:"generateSelector",value:function(){return null}}]),e}();var Ee,Ae=function(e){m(n,e);var t=x(n);function n(e,r){var a;if(h(this,n),e&&"string"==typeof e){var i=function(e,t){for(var n=[],r=t?[]:null,a=0;a<e.length;){var i=e.indexOf(" ",a);-1===i&&(i=e.length);var o=i-a;if(0!==o){var s=e.substring(a,i);if(n.push(s),r&&t){var u=ge(t,a,i);r.push(u)}a+=o+1}else a++}return{tokens:n,locations:r}}(e.replace(/[\t\r\n]/g," "),r),o=i.tokens,s=i.locations;(a=t.call.apply(t,[this].concat(l(o)))).locations=s}else(a=t.call(this,0)).locations=null;return a.value=e instanceof me?e.expr:e||"",v(a)}return d(n,[{key:"item",value:function(e){return this[e]}},{key:"location",value:function(e){if(this.locations)return this.locations[e];throw new Error("Trying to access DOMTokenList location when base location isn't set")}},{key:"contains",value:function(e){return this.includes(e)}},{key:"iterator",value:u.mark((function e(){var t,n,r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.length)){e.next=9;break}return n=this.item(t),r=this.location(t),e.next=6,{index:t,item:n,location:r};case 6:t++,e.next=1;break;case 9:case"end":return e.stop()}}),e,this)}))}]),n}(y(Array));!function(e){e[e.DESCENDANT=1]="DESCENDANT",e[e.CHILD=2]="CHILD",e[e.ADJACENT_SIBLING=3]="ADJACENT_SIBLING",e[e.GENERAL_SIBLING=4]="GENERAL_SIBLING",e[e.SCOPE=5]="SCOPE"}(Ee||(Ee={}));var xe={};var qe={"first-child":function(e){return null===e.previousSibling},"last-child":function(e){return null===e.nextSibling},"nth-child":function(e,t){if(!t)throw new Error("Missing argument to nth-child");var n=parseInt(t.trim(),10);return function(e){if(!e.parent)return-1;if(!xe[e.unique]){var t=e.parent.childElements.findIndex((function(t){return t.unique===e.unique}));xe[e.unique]=t+1}return xe[e.unique]}(e)===n},scope:function(e){return e.isSameNode(this.scope)}};function Ce(e){return e.toString().replace(/([:[\] ])/g,"\\$1")}var Ne=d((function e(){h(this,e)})),Se=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).classname=e,r}return d(n,[{key:"match",value:function(e){return e.classList.contains(this.classname)}}]),n}(Ne),Oe=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).id=e.replace(/\\(.)/g,"$1"),r}return d(n,[{key:"match",value:function(e){return e.id===this.id}}]),n}(Ne),Ie=function(e){m(n,e);var t=x(n);function n(e){var r;h(this,n),r=t.call(this);var a=e.match(/^(.+?)(?:([~^$*|]?=)"([^"]+?)")?$/),i=f(a,4),o=i[1],s=i[2],u=i[3];return r.key=o,r.op=s,r.value=u,r}return d(n,[{key:"match",value:function(e){var t=this;return(e.getAttribute(this.key,!0)||[]).some((function(e){switch(t.op){case void 0:return!0;case"=":return e.value===t.value;default:throw new Error("Attribute selector operator ".concat(t.op," is not implemented yet"))}}))}}]),n}(Ne),Le=function(e){m(n,e);var t=x(n);function n(e,r){var a;h(this,n),a=t.call(this);var i=e.match(/^([^(]+)(?:\((.*)\))?$/);if(!i)throw new Error('Missing pseudo-class after colon in selector pattern "'.concat(r,'"'));var o=f(i,3),s=o[1],u=o[2];return a.name=s,a.args=u,a}return d(n,[{key:"match",value:function(e,t){var n=function(e,t){var n=qe[e];if(n)return n.bind(t);throw new Error('Pseudo-class "'.concat(e,'" is not implemented'))}(this.name,t);return n(e,this.args)}}]),n}(Ne),Re=function(){function e(t){var n=this;h(this,e);var r=t.match(/^([~+\->]?)((?:[*]|[^.#[:]+)?)(.*)$/);r.shift(),this.selector=t,this.combinator=function(e,t){if(":scope"===t)return Ee.SCOPE;switch(e){case void 0:case null:case"":return Ee.DESCENDANT;case">":return Ee.CHILD;case"+":return Ee.ADJACENT_SIBLING;case"~":return Ee.GENERAL_SIBLING;default:throw new Error('Unknown combinator "'.concat(e,'"'))}}(r.shift(),t),this.tagName=r.shift()||"*";var a=r[0]?r[0].split(/(?=(?<!\\)[.#[:])/):[];this.pattern=a.map((function(e){return n.createMatcher(e)}))}return d(e,[{key:"match",value:function(e,t){return e.is(this.tagName)&&this.pattern.every((function(n){return n.match(e,t)}))}},{key:"createMatcher",value:function(e){switch(e[0]){case".":return new Se(e.slice(1));case"#":return new Oe(e.slice(1));case"[":return new Ie(e.slice(1,-1));case":":return new Le(e.slice(1),this.selector);default:throw new Error('Failed to create matcher for "'.concat(e,'"'))}}}]),e}(),De=function(){function e(t){h(this,e),this.pattern=e.parse(t)}return d(e,[{key:"match",value:u.mark((function e(t){var n;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={scope:t},e.delegateYield(this.matchInternal(t,0,n),"t0",2);case 2:case"end":return e.stop()}}),e,this)}))},{key:"matchInternal",value:u.mark((function t(n,r,a){var i,o,s,l,c;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r>=this.pattern.length)){t.next=4;break}return t.next=3,n;case 3:return t.abrupt("return");case 4:i=this.pattern[r],o=e.findCandidates(n,i),s=w(o),t.prev=7,s.s();case 9:if((l=s.n()).done){t.next=16;break}if(c=l.value,i.match(c,a)){t.next=13;break}return t.abrupt("continue",14);case 13:return t.delegateYield(this.matchInternal(c,r+1,a),"t0",14);case 14:t.next=9;break;case 16:t.next=21;break;case 18:t.prev=18,t.t1=t.catch(7),s.e(t.t1);case 21:return t.prev=21,s.f(),t.finish(21);case 24:case"end":return t.stop()}}),t,this,[[7,18,21,24]])}))}],[{key:"parse",value:function(e){return(e=e.replace(/([+~>]) /g,"$1")).split(/(?:(?<!\\) )+/).map((function(e){return new Re(e)}))}},{key:"findCandidates",value:function(t,n){switch(n.combinator){case Ee.DESCENDANT:return t.getElementsByTagName(n.tagName);case Ee.CHILD:return t.childElements.filter((function(e){return e.is(n.tagName)}));case Ee.ADJACENT_SIBLING:return e.findAdjacentSibling(t);case Ee.GENERAL_SIBLING:return e.findGeneralSibling(t);case Ee.SCOPE:return[t]}return[]}},{key:"findAdjacentSibling",value:function(e){var t=!1;return e.siblings.filter((function(n){return t?(t=!1,!0):(n===e&&(t=!0),!1)}))}},{key:"findGeneralSibling",value:function(e){var t=!1;return e.siblings.filter((function(n){return!!t||(n===e&&(t=!0),!1)}))}}]),e}();var Pe,je=function(e){m(n,e);var t=x(n);function n(e,r){var a;return h(this,n),(a=t.call(this,ye.TEXT_NODE,"#text",r)).text=e,a}return d(n,[{key:"textContent",get:function(){return this.text.toString()}},{key:"isStatic",get:function(){return!this.isDynamic}},{key:"isDynamic",get:function(){return this.text instanceof me}}]),n}(Te);function Me(e){return e.nodeType===ye.ELEMENT_NODE}t.NodeClosed=void 0,(Pe=t.NodeClosed||(t.NodeClosed={}))[Pe.Open=0]="Open",Pe[Pe.EndTag=1]="EndTag",Pe[Pe.VoidOmitted=2]="VoidOmitted",Pe[Pe.VoidSelfClosed=3]="VoidSelfClosed",Pe[Pe.ImplicitClosed=4]="ImplicitClosed";var Fe=function(e){m(r,e);var n=x(r);function r(e,t,a,i,o){var s;h(this,r);var u=e?ye.ELEMENT_NODE:ye.DOCUMENT_NODE;if(s=n.call(this,u,e,o),!function(e){return Boolean(""!==e&&"*"!==e)}(e))throw new Error("The tag name provided ('".concat(e||"","') is not a valid name"));if(s.tagName=e||"#document",s.parent=null!=t?t:null,s.attr={},s.metaElement=null!=i?i:null,s.closed=a,s.voidElement=!!i&&Boolean(i.void),s.depth=0,s.annotation=null,t){t.childNodes.push(p(s));for(var l=t;l.parent;)s.depth++,l=l.parent}return s}return d(r,[{key:"annotatedName",get:function(){return this.annotation?this.annotation:"<".concat(this.tagName,">")}},{key:"childElements",get:function(){return this.childNodes.filter(Me)}},{key:"closest",value:function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parent}return null}},{key:"generateSelector",value:function(){if(this.isRootElement())return null;var e,t=[];for(e=this;e.parent;e=e.parent);for(var n=function(n){if(n.id){var r=Ce(n.id);if(1===e.querySelectorAll("#".concat(r)).length)return t.push("#".concat(r)),"break"}var a=n.parent.childElements,i=a.findIndex((function(e){return e.unique===n.unique}));if(1===a.filter((function(e){return e.is(n.tagName)})).length)return t.push(n.tagName.toLowerCase()),"continue";t.push("".concat(n.tagName.toLowerCase(),":nth-child(").concat(i+1,")"))},r=this;r.parent;r=r.parent){var a=n(r);if("break"===a)break}return t.reverse().join(" > ")}},{key:"is",value:function(e){return"*"===e||this.tagName.toLowerCase()===e.toLowerCase()}},{key:"loadMeta",value:function(e){this.metaElement||(this.metaElement={});for(var t=0,n=Z;t<n.length;t++){var r=n[t],a=e[r];void 0!==a?ee(this.metaElement,r,a):delete this.metaElement[r]}}},{key:"matches",value:function(e){for(var t=this;t.parent;)t=t.parent;var n,r=w(t.querySelectorAll(e));try{for(r.s();!(n=r.n()).done;){if(n.value.unique===this.unique)return!0}}catch(a){r.e(a)}finally{r.f()}return!1}},{key:"meta",get:function(){return this.metaElement}},{key:"setAnnotation",value:function(e){this.annotation=e}},{key:"setAttribute",value:function(e,t,n,r,a){e=e.toLowerCase(),this.attr[e]||(this.attr[e]=[]),this.attr[e].push(new ve(e,t,n,r,a))}},{key:"attributes",get:function(){return Object.values(this.attr).reduce((function(e,t){return e.concat(t)}),[])}},{key:"hasAttribute",value:function(e){return(e=e.toLowerCase())in this.attr}},{key:"getAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e=e.toLowerCase())in this.attr){var n=this.attr[e];return t?n:n[0]}return null}},{key:"getAttributeValue",value:function(e){var t=this.getAttribute(e);return t&&null!==t.value?t.value.toString():null}},{key:"appendText",value:function(e,t){this.childNodes.push(new je(e,t))}},{key:"classList",get:function(){if(!this.hasAttribute("class"))return new Ae(null,null);var e=this.getAttribute("class",!0).filter((function(e){return e.isStatic})).map((function(e){return e.value})).join(" ");return new Ae(e,null)}},{key:"id",get:function(){return this.getAttributeValue("id")}},{key:"firstElementChild",get:function(){var e=this.childElements;return e.length>0?e[0]:null}},{key:"lastElementChild",get:function(){var e=this.childElements;return e.length>0?e[e.length-1]:null}},{key:"siblings",get:function(){return this.parent?this.parent.childElements:[this]}},{key:"previousSibling",get:function(){var e=this,t=this.siblings.findIndex((function(t){return t.unique===e.unique}));return t>=1?this.siblings[t-1]:null}},{key:"nextSibling",get:function(){var e=this,t=this.siblings.findIndex((function(t){return t.unique===e.unique}));return t<=this.siblings.length-2?this.siblings[t+1]:null}},{key:"getElementsByTagName",value:function(e){return this.childElements.reduce((function(t,n){return t.concat(n.is(e)?[n]:[],n.getElementsByTagName(e))}),[])}},{key:"querySelector",value:function(e){return this.querySelectorImpl(e).next().value||null}},{key:"querySelectorAll",value:function(e){var t=this.querySelectorImpl(e),n=new Set(t);return Array.from(n.values())}},{key:"querySelectorImpl",value:u.mark((function e(t){var n,r,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:n=w(t.split(/,\s*/)),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=11;break}return a=r.value,i=new De(a),e.delegateYield(i.match(this),"t0",9);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(3),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])}))},{key:"visitDepthFirst",value:function(e){!function t(n){n.childElements.forEach(t),n.isRootElement()||e(n)}(this)}},{key:"someChildren",value:function(e){return this.childElements.some((function t(n){return!!e(n)||n.childElements.some(t)}))}},{key:"everyChildren",value:function(e){return this.childElements.every((function t(n){if(!e(n))return!1;return n.childElements.every(t)}))}},{key:"find",value:function(e){return function(t){if(e(t))return t;var n,r=w(t.childElements);try{for(r.s();!(n=r.n()).done;){var a=n.value.find(e);if(a)return a}}catch(i){r.e(i)}finally{r.f()}return null}(this)}}],[{key:"rootNode",value:function(e){return new r(void 0,null,t.NodeClosed.EndTag,null,e)}},{key:"fromTokens",value:function(e,n,a,i){var o=e.data[2];if(!o)throw new Error("tagName cannot be empty");var s=i?i.getMetaFor(o):null,u="/"!==e.data[1],l=function(e,n){var r=t.NodeClosed.Open;n&&n.void&&(r=t.NodeClosed.VoidOmitted);"/>"===e.data[0]&&(r=t.NodeClosed.VoidSelfClosed);return r}(n,s);return new r(o,u?a:null,l,s,ge(e.location,1))}}]),r}(Te);var $e=function(){function e(t){h(this,e),this.root=Fe.rootNode(t),this.active=this.root,this.doctype=null}return d(e,[{key:"pushActive",value:function(e){this.active=e}},{key:"popActive",value:function(){this.active.isRootElement()||(this.active=this.active.parent||this.root)}},{key:"getActive",value:function(){return this.active}},{key:"resolveMeta",value:function(e){this.visitDepthFirst((function(t){return e.resolve(t)}))}},{key:"getElementsByTagName",value:function(e){return this.root.getElementsByTagName(e)}},{key:"visitDepthFirst",value:function(e){this.root.visitDepthFirst(e)}},{key:"find",value:function(e){return this.root.find(e)}},{key:"querySelector",value:function(e){return this.root.querySelector(e)}},{key:"querySelectorAll",value:function(e){return this.root.querySelectorAll(e)}}]),e}(),ze=["exclude"],_e=function(){function e(){h(this,e)}return d(e,null,[{key:"validatePermitted",value:function(t,n){return!n||n.some((function(n){return e.validatePermittedRule(t,n)}))}},{key:"validateOccurrences",value:function(e,t,n){if(!t)return!0;var r=function(e){if(!e)return null;var t=e.match(/^.*?([?*]?)$/),n=f(t,2)[1];switch(n){case"?":return 1;case"":case"*":return null;default:throw new Error('Invalid amount qualifier "'.concat(n,'" used'))}}(t.find((function(t){if("string"!=typeof t)return!1;var n=t.match(/^(.*?)[?*]?$/);return n&&n[1]===e.tagName})));return null===r||n<=r}},{key:"validateOrder",value:function(t,n,r){if(!n)return!0;var a,i=0,o=null,s=w(t);try{var u=function(){for(var t=a.value,s=i;n[i]&&!e.validatePermittedCategory(t,n[i],!0);)i++;if(i>=n.length){if(n.find((function(n){return e.validatePermittedCategory(t,n,!0)})))return r(t,o),{v:!1};i=s}o=t};for(s.s();!(a=s.n()).done;){var l=u();if("object"==typeof l)return l.v}}catch(c){s.e(c)}finally{s.f()}return!0}},{key:"validateAncestors",value:function(e,t){return!t||0===t.length||t.some((function(t){return e.closest(t)}))}},{key:"validateRequiredContent",value:function(e,t){return t&&0!==t.length?t.filter((function(t){return!e.childElements.some((function(e){return e.is(t)}))})):[]}},{key:"validateAttribute",value:function(e,t){var n=this,r=t[e.key];if(!r)return!0;var a=e.value;if(a instanceof me)return!0;var i=null===a||""===a;return r.boolean?i||a===e.key:!(!r.omit||!i)||(r.list?new Ae(a,e.valueLocation).every((function(e){return n.validateAttributeValue(e,r)})):this.validateAttributeValue(a,r))}},{key:"validateAttributeValue",value:function(e,t){return!t.enum||null!=e&&t.enum.some((function(t){return t instanceof RegExp?!!e.match(t):e===t}))}},{key:"validatePermittedRule",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"string"==typeof n?e.validatePermittedCategory(t,n,!r):Array.isArray(n)?n.every((function(n){return e.validatePermittedRule(t,n,r)})):(function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(!ze.includes(r)){var a=JSON.stringify(e);throw new Error('Permitted rule "'.concat(a,'" contains unknown property "').concat(r,'"'))}}}(n),!n.exclude||(Array.isArray(n.exclude)?!n.exclude.some((function(n){return e.validatePermittedRule(t,n,!0)})):!e.validatePermittedRule(t,n.exclude,!0)))}},{key:"validatePermittedCategory",value:function(e,t,n){if("@"!==t[0]){var r=t.match(/^(.*?)[?*]?$/),a=f(r,2)[1];return e.tagName===a}if(!e.meta)return n;switch(t){case"@meta":return e.meta.metadata;case"@flow":return e.meta.flow;case"@sectioning":return e.meta.sectioning;case"@heading":return e.meta.heading;case"@phrasing":return e.meta.phrasing;case"@embedded":return e.meta.embedded;case"@interactive":return e.meta.interactive;case"@script":return e.meta.scriptSupporting;case"@form":return e.meta.form;default:throw new Error('Invalid content category "'.concat(t,'"'))}}}]),e}();var Be={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://html-validate.org/schemas/config.json",type:"object",additionalProperties:!1,properties:{$schema:{type:"string"},root:{type:"boolean",title:"Mark as root configuration",description:"If this is set to true no further configurations will be searched.",default:!1},extends:{type:"array",items:{type:"string"},title:"Configurations to extend",description:"Array of shareable or builtin configurations to extend."},elements:{type:"array",items:{anyOf:[{type:"string"},{type:"object"}]},title:"Element metadata to load",description:"Array of modules, plugins or files to load element metadata from. Use <rootDir> to refer to the folder with the package.json file.",examples:[["html-validate:recommended","plugin:recommended","module","./local-file.json"]]},plugins:{type:"array",items:{type:"string"},title:"Plugins to load",description:"Array of plugins load. Use <rootDir> to refer to the folder with the package.json file.",examples:[["my-plugin","./local-plugin"]]},transform:{type:"object",additionalProperties:{type:"string"},title:"File transformations to use.",description:"Object where key is regular expression to match filename and value is name of transformer.",examples:[{"^.*\\.foo$":"my-transformer","^.*\\.bar$":"my-plugin","^.*\\.baz$":"my-plugin:named"}]},rules:{type:"object",patternProperties:{".*":{anyOf:[{enum:[0,1,2,"off","warn","error"]},{type:"array",minItems:1,maxItems:1,items:[{enum:[0,1,2,"off","warn","error"]}]},{type:"array",minItems:2,maxItems:2,items:[{enum:[0,1,2,"off","warn","error"]},{}]}]}},title:"Rule configuration.",description:"Enable/disable rules, set severity. Some rules have additional configuration like style or patterns to use.",examples:[{foo:"error",bar:"off",baz:["error",{style:"camelcase"}]}]}}},Ue=n(88789),Ye=n(66767);function Ge(e){var t,n=e[0].start+1,r="",a=w(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;r+=" ".repeat(i.start+1-n),r+=i.value.raw,n=i.end-2}}catch(o){a.e(o)}finally{a.f()}return r}function Ve(e,t){for(var n=e.line,r=e.column+1,a=0;a<t.length;a++)if(n>1)"\n"===t[a]&&n--;else{if(!(r>1))return a;r--}throw new Error("Failed to compute location offset from position")}function Xe(e,t,n){switch(e.type){case"FunctionExpression":case"Identifier":return null;case"Literal":return"string"!=typeof e.value?null:{data:e.value.toString(),filename:t,line:e.loc.start.line,column:e.loc.start.column+1,offset:Ve(e.loc.start,n)+1};case"TemplateLiteral":return{data:Ge(e.quasis),filename:t,line:e.loc.start.line,column:e.loc.start.column+1,offset:Ve(e.loc.start,n)+1};case"TaggedTemplateExpression":return{data:Ge(e.quasi.quasis),filename:t,line:e.quasi.loc.start.line,column:e.quasi.loc.start.column+1,offset:Ve(e.quasi.loc.start,n)+1};case"ArrowFunctionExpression":return["Literal","TemplateLiteral"].includes(e.body.type)?Xe(e.body,t,n):null;default:var r=e.loc.start,a="".concat(t,":").concat(r.line,":").concat(r.column);throw new Error('Unhandled node type "'.concat(e.type,'" at "').concat(a,'" in extractLiteral'))}}var He,We=function(){function e(t,n,r){h(this,e),this.ast=t,this.filename=n,this.data=r}return d(e,[{key:"extractObjectProperty",value:function(e){var t=[],n=this.filename,r=this.data;return Ye.simple(this.ast,{Property:function(a){if(function(e,t,n){switch(e.type){case"Identifier":return e.name===t;case"Literal":return e.value===t;default:var r=e.loc.start,a="".concat(n,":").concat(r.line,":").concat(r.column);throw new Error('Unhandled node type "'.concat(e.type,'" at "').concat(a,'" in compareKey'))}}(a.key,e,n)){var i=Xe(a.value,n,r);i&&(i.filename=n,t.push(i))}}}),t}}],[{key:"fromFilename",value:function(t){var n=j.default.readFileSync(t,"utf-8");return new e(Ue.parse(n,{ecmaVersion:2017,sourceType:"module",loc:!0}),t,n)}},{key:"fromString",value:function(t,n){return new e(Ue.parse(t,{ecmaVersion:2017,sourceType:"module",loc:!0}),n||"inline",t)}},{key:"createSource",value:function(e){return[{column:1,data:j.default.readFileSync(e,"utf-8"),filename:e,line:1,offset:0}]}}]),e}();!function(e){e[e.VERSION=1]="VERSION"}(He||(He={}));var Je,Qe="6.5.0",Ke="https://html-validate.org";function Ze(e){switch(e){case 0:case"off":return t.Severity.DISABLED;case"disable":return console.warn('Deprecated alias "disabled" will be removed, replace with severity "off"'),t.Severity.DISABLED;case 1:case"warn":return t.Severity.WARN;case 2:case"error":return t.Severity.ERROR;default:throw new Error('Invalid severity "'.concat(e,'"'))}}function et(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e)return"null";if("number"==typeof e)return e.toString();if("string"==typeof e)return t?"'".concat(function(e){return e.replace(/'/g,"\\'")}(e),"'"):e;if(Array.isArray(e)){var n=e.map((function(e){return et(e,!0)})).join(", ");return"[ ".concat(n," ]")}if("object"==typeof e){var r=Object.entries(e).map((function(e){var t=f(e,2),n=t[0],r=t[1];return"".concat(n,": ").concat(et(r,!0))})).join(", ");return"{ ".concat(r," }")}return String(e)}function tt(e,t){return e.replace(/{{\s*([^\s]+)\s*}}/g,(function(e,n){return void 0!==t[n]?et(t[n]):e}))}t.Severity=void 0,(Je=t.Severity||(t.Severity={}))[Je.DISABLED=0]="DISABLED",Je[Je.WARN=1]="WARN",Je[Je.ERROR=2]="ERROR";var nt={"tag:open":"tag:start","tag:close":"tag:end"},rt=new F.default({strict:!0,strictTuples:!0,strictTypes:!0});rt.addMetaSchema(Y);var at=function(){function e(t){h(this,e),this.reporter=null,this.parser=null,this.meta=null,this.event=null,this.options=t,this.enabled=!0,this.severity=0,this.name=""}return d(e,[{key:"getSeverity",value:function(){return this.severity}},{key:"setServerity",value:function(e){this.severity=e}},{key:"setEnabled",value:function(e){this.enabled=e}},{key:"deprecated",get:function(){return!1}},{key:"isEnabled",value:function(){return this.enabled&&this.severity>=t.Severity.WARN}},{key:"isKeywordIgnored",value:function(e){var t=this.options,n=t.include,r=t.exclude;return!(!n||n.includes(e))||!(!r||!r.includes(e))}},{key:"getTagsWithProperty",value:function(e){return this.meta.getTagsWithProperty(e)}},{key:"getTagsDerivedFrom",value:function(e){return this.meta.getTagsDerivedFrom(e)}},{key:"report",value:function(e,t,n,r){if(this.isEnabled()&&(!e||e.ruleEnabled(this.name))){var a=this.findLocation({node:e,location:n,event:this.event}),i=tt(t,null!=r?r:{});this.reporter.add(this,i,this.severity,e,a,r)}}},{key:"findLocation",value:function(e){return e.location?e.location:e.event&&e.event.location?e.event.location:e.node&&e.node.location?e.node.location:{}}},{key:"on",value:function(e){var t,n=this,r=nt[e];r&&(e=r);for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];var s=i.pop(),u=null!==(t=i.pop())&&void 0!==t?t:function(){return!0};return this.parser.on(e,(function(e,t){n.isEnabled()&&u(t)&&(n.event=t,s(t))}))}},{key:"init",value:function(e,t,n,r){this.parser=e,this.reporter=t,this.severity=n,this.meta=r}},{key:"documentation",value:function(e){return null}}],[{key:"schema",value:function(){return null}},{key:"validateOptions",value:function(e,t,n,r,a,i){var o;if(e){var s=e.schema();if(s){var u=function(e,t){var n="rule/".concat(e),r=rt.getSchema(n);if(r)return r;var a={$id:n,type:"object",additionalProperties:!1,properties:t};return rt.compile(a)}(t,s);if(!u(r)){var l=(null!==(o=u.errors)&&void 0!==o?o:[]).map((function(e){return e.instancePath="".concat(n).concat(e.instancePath),e}));throw new X(a,"Rule configuration error",i,s,l)}}}}}]),e}();function it(e){e=e.replace("@",W);var t=z.default.parse(e),n=z.default.join(W,"rules"),r=z.default.relative(n,z.default.join(t.dir,t.name)).replace(/\\/g,"/");return"".concat(Ke,"/rules/").concat(r,".html")}var ot={allowExternal:!0,allowRelative:!0,allowAbsolute:!0,allowBase:!0},st={a:"href",img:"src",link:"href",script:"src"},ut=(c(r={},"external","External links are not allowed by current configuration."),c(r,"relative-base","Links relative to <base> are not allowed by current configuration."),c(r,"relative-path","Relative links are not allowed by current configuration."),c(r,"absolute","Absolute links are not allowed by current configuration."),c(r,"anchor",null),r);function lt(e){return"boolean"==typeof e?e:{include:e.include?e.include.map((function(e){return new RegExp(e)})):null,exclude:e.exclude?e.exclude.map((function(e){return new RegExp(e)})):null}}function ct(e,t){return!(t.include&&!t.include.some((function(t){return t.test(e)})))&&(!t.exclude||!t.exclude.some((function(t){return t.test(e)})))}var ft,dt=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},ot),e))).allowExternal=lt(r.options.allowExternal),r.allowRelative=lt(r.options.allowRelative),r.allowAbsolute=lt(r.options.allowAbsolute),r}return d(n,[{key:"documentation",value:function(e){return{description:ut[e]||"This link type is not allowed by current configuration",url:it("@/rules/allowed-links.ts")}}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){if(t.value&&e.isRelevant(t)){var n=t.value.toString(),r=e.getStyle(n);switch(r){case"anchor":break;case"absolute":e.handleAbsolute(n,t,r);break;case"external":e.handleExternal(n,t,r);break;case"relative-base":e.handleRelativeBase(n,t,r);break;case"relative-path":e.handleRelativePath(n,t,r)}}}))}},{key:"isRelevant",value:function(e){var t=e.target,n=e.key;if(e.value instanceof me)return!1;var r=st[t.tagName];return Boolean(r&&r===n)}},{key:"getStyle",value:function(e){if(e.match(/^([a-z]+:)?\/\//g))return"external";switch(e[0]){case"/":return"absolute";case".":return"relative-path";case"#":return"anchor";default:return"relative-base"}}},{key:"handleAbsolute",value:function(e,t,n){var r=this.allowAbsolute;!0!==r&&(!1===r?this.report(t.target,"Link destination must not be absolute url",t.valueLocation,n):ct(e,r)||this.report(t.target,"Absolute link to this destination is not allowed by current configuration",t.valueLocation,n))}},{key:"handleExternal",value:function(e,t,n){var r=this.allowExternal;!0!==r&&(!1===r?this.report(t.target,"Link destination must not be external url",t.valueLocation,n):ct(e,r)||this.report(t.target,"External link to this destination is not allowed by current configuration",t.valueLocation,n))}},{key:"handleRelativePath",value:function(e,t,n){var r=this.allowRelative;return!0!==r&&(!1===r?(this.report(t.target,"Link destination must not be relative url",t.valueLocation,n),!0):!ct(e,r)&&(this.report(t.target,"Relative link to this destination is not allowed by current configuration",t.valueLocation,n),!0))}},{key:"handleRelativeBase",value:function(e,t,n){var r=this.options.allowBase;this.handleRelativePath(e,t,n)||r||this.report(t.target,"Relative links must be relative to current folder",t.valueLocation,n)}}],[{key:"schema",value:function(){var e={anyOf:[{type:"boolean"},{type:"object",properties:{include:{type:"array",items:{type:"string"}},exclude:{type:"array",items:{type:"string"}}}}]};return{allowExternal:A({},e),allowRelative:A({},e),allowAbsolute:A({},e),allowBase:{type:"boolean"}}}}]),n}(at),ht=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"`aria-hidden` must not be used on the `<body>` element as it makes the page inaccessible to assistive technology such as screenreaders",url:it("@/rules/aria-hidden-body.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:ready",this.isRelevant,(function(t){var n=t.target,r=n.getAttribute("aria-hidden");r&&r.valueMatches("true",!0)&&e.report(n,"aria-hidden must not be used on <body>",r.keyLocation)}))}},{key:"isRelevant",value:function(e){return e.target.is("body")}}]),n}(at),pt=["main","nav","table","td","th","aside","header","footer","section","article","form","img","area","fieldset","summary","figure"],mt=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){var e=["Interactive elements","Labelable elements","Landmark elements","Elements with roles inheriting from widget","`<area>`","`<form>` and `<fieldset>`","`<iframe>`","`<img>` and `<figure>`","`<summary>`","`<table>`, `<td>` and `<th>`"].map((function(e){return"- ".concat(e,"\n")})).join("");return{description:"`aria-label` can only be used on:\n\n".concat(e),url:it("@/rules/aria-label-misuse.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){var n,r=w(t.document.querySelectorAll("[aria-label]"));try{for(r.s();!(n=r.n()).done;){var a=n.value;e.validateElement(a)}}catch(i){r.e(i)}finally{r.f()}}))}},{key:"validateElement",value:function(e){var t=e.getAttribute("aria-label");if(t&&t.value&&!t.valueMatches("",!1)){var n=e.meta;n&&(pt.includes(e.tagName)||e.hasAttribute("role")||e.hasAttribute("tabindex")||n.interactive||n.labelable||this.report(e,'"aria-label" cannot be used on this element',t.keyLocation))}}}]),n}(at),vt=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n)}(V),gt=function(){function e(t,n){if(h(this,e),Array.isArray(t)||(t=[t]),0===t.length)throw new vt("Missing style for ".concat(n," rule"));this.styles=this.parseStyle(t,n)}return d(e,[{key:"match",value:function(e){return this.styles.some((function(t){return e.match(t.pattern)}))}},{key:"name",get:function(){var e=this.styles.map((function(e){return e.name}));switch(this.styles.length){case 1:return e[0];case 2:return e.join(" or ");default:var t=e.slice(-1),n=e.slice(0,-1);return"".concat(n.join(", ")," or ").concat(t)}}},{key:"parseStyle",value:function(e,t){return e.map((function(n){switch(n.toLowerCase()){case"lowercase":return{pattern:/^[a-z]*$/,name:"lowercase"};case"uppercase":return{pattern:/^[A-Z]*$/,name:"uppercase"};case"pascalcase":return{pattern:/^[A-Z][A-Za-z]*$/,name:"PascalCase"};case"camelcase":return{pattern:/^[a-z][A-Za-z]*$/,name:"camelCase"};default:throw new vt('Invalid style "'.concat(e,'" for ').concat(t," rule"))}}))}}]),e}(),yt={style:"lowercase",ignoreForeign:!0},bt=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},yt),e))).style=new gt(r.options.style,"attr-case"),r}return d(n,[{key:"documentation",value:function(){return{description:"Attribute name must be ".concat(this.options.style,"."),url:it("@/rules/attr-case.ts")}}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){if(!e.isIgnored(t.target)&&!t.originalAttribute){var n=t.key.replace(/[^a-z]+/gi,"");e.style.match(n)||e.report(t.target,'Attribute "'.concat(t.key,'" should be ').concat(e.style.name),t.keyLocation)}}))}},{key:"isIgnored",value:function(e){return!!this.options.ignoreForeign&&Boolean(e.meta&&e.meta.foreign)}}],[{key:"schema",value:function(){var e=["lowercase","uppercase","pascalcase","camelcase"];return{ignoreForeign:{type:"boolean"},style:{anyOf:[{enum:e,type:"string"},{items:{enum:e,type:"string"},type:"array"}]}}}}]),n}(at);t.TokenType=void 0,(ft=t.TokenType||(t.TokenType={}))[ft.UNICODE_BOM=1]="UNICODE_BOM",ft[ft.WHITESPACE=2]="WHITESPACE",ft[ft.DOCTYPE_OPEN=3]="DOCTYPE_OPEN",ft[ft.DOCTYPE_VALUE=4]="DOCTYPE_VALUE",ft[ft.DOCTYPE_CLOSE=5]="DOCTYPE_CLOSE",ft[ft.TAG_OPEN=6]="TAG_OPEN",ft[ft.TAG_CLOSE=7]="TAG_CLOSE",ft[ft.ATTR_NAME=8]="ATTR_NAME",ft[ft.ATTR_VALUE=9]="ATTR_VALUE",ft[ft.TEXT=10]="TEXT",ft[ft.TEMPLATING=11]="TEMPLATING",ft[ft.SCRIPT=12]="SCRIPT",ft[ft.STYLE=13]="STYLE",ft[ft.COMMENT=14]="COMMENT",ft[ft.CONDITIONAL=15]="CONDITIONAL",ft[ft.DIRECTIVE=16]="DIRECTIVE",ft[ft.EOF=17]="EOF";var kt=/^\uFEFF/,wt=/^(?:\r\n|\r|\n|[ \t]+(?:\r\n|\r|\n)?)/,Tt=/^<!(DOCTYPE)\s/i,Et=/^[^>]+/,At=/^>/,xt=/^<\?xml.*?\?>\s+/,qt=/^<(\/?)([a-zA-Z0-9\-:]+)/,Ct=/^\/?>/,Nt=/^[^]*?(?=(?:[ \t]*(?:\r\n|\r|\n)|<[^ ]|$))/,St=/^(?:<%[\s\S]*?%>|<\?[\s\S]*?\?>|<\$[\s\S]*?\$>)/,Ot=/^[^]*?(?=<|$)/,It=/^([^\t\r\n\f \/><"'=]+)/,Lt=/^(\s*=\s*)'([^']*?)(')/,Rt=/^(\s*=\s*)"([^"]*?)(")/,Dt=/^(\s*=\s*)([^\t\r\n\f "'<>][^\t\r\n\f <>]*)/,Pt=/^<!\[CDATA\[/,jt=/^[^]*?]]>/,Mt=/^[^]*?(?=<\/script)/,Ft=/^<(\/)(script)/,$t=/^[^]*?(?=<\/style)/,zt=/^<(\/)(style)/,_t=/^<!--\s*(\[)html-validate-([a-z0-9-]+)\s*(.*?)(]?)\s*-->/,Bt=/^<!--([^]*?)-->/,Ut=/^<!\[([^\]]*?)\]>/,Yt=function(e){m(n,e);var t=x(n);function n(e,r){var a;return h(this,n),(a=t.call(this,r)).location=e,a}return d(n)}(y(Error)),Gt=function(){function e(){h(this,e)}return d(e,[{key:"tokenize",value:u.mark((function e(n){var r,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new be(n),a=r.state,i=r.string.length;case 3:if(!(r.string.length>0)){e.next=29;break}e.t0=r.state,e.next=e.t0===he.INITIAL?7:e.t0===he.DOCTYPE?9:e.t0===he.TAG?11:e.t0===he.ATTR?13:e.t0===he.TEXT?15:e.t0===he.CDATA?17:e.t0===he.SCRIPT?19:e.t0===he.STYLE?21:23;break;case 7:return e.delegateYield(this.tokenizeInitial(r),"t1",8);case 8:return e.abrupt("break",24);case 9:return e.delegateYield(this.tokenizeDoctype(r),"t2",10);case 10:return e.abrupt("break",24);case 11:return e.delegateYield(this.tokenizeTag(r),"t3",12);case 12:return e.abrupt("break",24);case 13:return e.delegateYield(this.tokenizeAttr(r),"t4",14);case 14:return e.abrupt("break",24);case 15:return e.delegateYield(this.tokenizeText(r),"t5",16);case 16:return e.abrupt("break",24);case 17:return e.delegateYield(this.tokenizeCDATA(r),"t6",18);case 18:return e.abrupt("break",24);case 19:return e.delegateYield(this.tokenizeScript(r),"t7",20);case 20:return e.abrupt("break",24);case 21:return e.delegateYield(this.tokenizeStyle(r),"t8",22);case 22:return e.abrupt("break",24);case 23:this.unhandled(r);case 24:r.state===a&&r.string.length===i&&this.errorStuck(r),a=r.state,i=r.string.length,e.next=3;break;case 29:return e.next=31,this.token(r,t.TokenType.EOF,[]);case 31:case"end":return e.stop()}}),e,this)}))},{key:"token",value:function(e,t,n){var r=n.length>0?n[0].length:0;return{type:t,location:e.getLocation(r),data:Array.from(n)}}},{key:"unhandled",value:function(e){var t=JSON.stringify(e.string.length>13?"".concat(e.string.slice(0,15),"..."):e.string),n=he[e.state],r="failed to tokenize ".concat(t,", unhandled state ").concat(n,".");throw new Yt(e.getLocation(1),r)}},{key:"errorStuck",value:function(e){var t=he[e.state],n="failed to tokenize ".concat(e.getTruncatedLine(),", state ").concat(t," failed to consume data or change state.");throw new Yt(e.getLocation(1),n)}},{key:"evalNextState",value:function(e,t){return"function"==typeof e?e(t):e}},{key:"match",value:u.mark((function e(t,n,r){var a,i,o,s,l,c,d,h,p,m;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.length,i=0;case 2:if(!(i<a)){e.next=18;break}if(o=f(n[i],3),s=o[0],l=o[1],c=o[2],!(d=s?t.string.match(s):[""])){e.next=15;break}if(h=null,!1===c){e.next=11;break}return h=this.token(t,c,d),e.next=11,h;case 11:return p=this.evalNextState(l,h),t.consume(d,p),this.enter(t,p,d),e.abrupt("return");case 15:i++,e.next=2;break;case 18:throw m="failed to tokenize ".concat(t.getTruncatedLine(),", ").concat(r,"."),new Yt(t.getLocation(1),m);case 20:case"end":return e.stop()}}),e,this)}))},{key:"enter",value:function(e,t,n){t===he.TAG&&n&&"<"===n[0][0]&&("<script"===n[0]?e.contentModel=pe.SCRIPT:"<style"===n[0]?e.contentModel=pe.STYLE:e.contentModel=pe.TEXT)}},{key:"tokenizeInitial",value:u.mark((function e(n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.match(n,[[kt,he.INITIAL,t.TokenType.UNICODE_BOM],[xt,he.INITIAL,!1],[Tt,he.DOCTYPE,t.TokenType.DOCTYPE_OPEN],[wt,he.INITIAL,t.TokenType.WHITESPACE],[_t,he.INITIAL,t.TokenType.DIRECTIVE],[Ut,he.INITIAL,t.TokenType.CONDITIONAL],[Bt,he.INITIAL,t.TokenType.COMMENT],[!1,he.TEXT,!1]],"expected doctype"),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"tokenizeDoctype",value:u.mark((function e(n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.match(n,[[wt,he.DOCTYPE,t.TokenType.WHITESPACE],[Et,he.DOCTYPE,t.TokenType.DOCTYPE_VALUE],[At,he.TEXT,t.TokenType.DOCTYPE_CLOSE]],"expected doctype name"),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"tokenizeTag",value:u.mark((function e(n){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){var t=e;switch(n.contentModel){case pe.TEXT:return he.TEXT;case pe.SCRIPT:return t&&"/"!==t.data[0][0]?he.SCRIPT:he.TEXT;case pe.STYLE:return t&&"/"!==t.data[0][0]?he.STYLE:he.TEXT}},e.delegateYield(this.match(n,[[Ct,r,t.TokenType.TAG_CLOSE],[It,he.ATTR,t.TokenType.ATTR_NAME],[wt,he.TAG,t.TokenType.WHITESPACE]],'expected attribute, ">" or "/>"'),"t0",2);case 2:case"end":return e.stop()}}),e,this)}))},{key:"tokenizeAttr",value:u.mark((function e(n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.match(n,[[Lt,he.TAG,t.TokenType.ATTR_VALUE],[Rt,he.TAG,t.TokenType.ATTR_VALUE],[Dt,he.TAG,t.TokenType.ATTR_VALUE],[!1,he.TAG,!1]],'expected attribute, ">" or "/>"'),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"tokenizeText",value:u.mark((function e(n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.match(n,[[wt,he.TEXT,t.TokenType.WHITESPACE],[Pt,he.CDATA,!1],[_t,he.TEXT,t.TokenType.DIRECTIVE],[Ut,he.TEXT,t.TokenType.CONDITIONAL],[Bt,he.TEXT,t.TokenType.COMMENT],[St,he.TEXT,t.TokenType.TEMPLATING],[qt,he.TAG,t.TokenType.TAG_OPEN],[Nt,he.TEXT,t.TokenType.TEXT],[Ot,he.TEXT,t.TokenType.TEXT]],'expected text or "<"'),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"tokenizeCDATA",value:u.mark((function e(t){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.match(t,[[jt,he.TEXT,!1]],"expected ]]>"),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"tokenizeScript",value:u.mark((function e(n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.match(n,[[Ft,he.TAG,t.TokenType.TAG_OPEN],[Mt,he.SCRIPT,t.TokenType.SCRIPT]],"expected <\/script>"),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"tokenizeStyle",value:u.mark((function e(n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.match(n,[[zt,he.TAG,t.TokenType.TAG_OPEN],[$t,he.STYLE,t.TokenType.STYLE]],"expected </style>"),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))}]),e}(),Vt=/(\s+)/;function Xt(e){return e.type===t.TokenType.ATTR_VALUE}var Ht=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Attribute value should be separated by ",url:it("@/rules/attr-delimiter.ts")}}},{key:"setup",value:function(){var e=this;this.on("token",Xt,(function(t){var n=t.data[1];if(Vt.exec(n)){var r=ge(t.location,0,n.length);e.report(null,"Attribute value must not be delimited by whitespace",r)}}))}}]),n}(at),Wt={pattern:"[a-z0-9-:]+",ignoreForeign:!0};var Jt,Qt=function(e){m(n,e);var t=x(n);function n(e){var r,a;return h(this,n),(r=t.call(this,A(A({},Wt),e))).pattern=(a=r.options.pattern,Array.isArray(a)?new RegExp("^(".concat(a.join("|"),")$"),"i"):new RegExp("^".concat(a,"$"),"i")),r}return d(n,[{key:"documentation",value:function(e){var t;return t=e?function(e,t){return Array.isArray(t)?['Attribute "'.concat(e,'" should match one of the configured regular expressions:'),""].concat(l(t.map((function(e){return"- `/".concat(e,"/`")})))).join("\n"):'Attribute "'.concat(e,'" should match the regular expression `/').concat(t,"/`")}(e.attr,e.pattern):"Attribute should match configured pattern",{description:t,url:it("@/rules/attr-pattern.ts")}}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){if(!e.isIgnored(t.target)&&!t.originalAttribute&&!e.pattern.test(t.key)){var n=function(e,t){if(Array.isArray(t)){var n=t.map((function(e){return"/".concat(e,"/")})).join(", ");return'Attribute "'.concat(e,'" should match one of [').concat(n,"]")}return'Attribute "'.concat(e,'" should match /').concat(t,"/")}(t.key,e.options.pattern);e.report(t.target,n,t.keyLocation)}}))}},{key:"isIgnored",value:function(e){return!!this.options.ignoreForeign&&Boolean(e.meta&&e.meta.foreign)}}],[{key:"schema",value:function(){return{pattern:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},ignoreForeign:{type:"boolean"}}}}]),n}(at);!function(e){e.SINGLE_QUOTE="'",e.DOUBLE_QUOTE='"',e.AUTO_QUOTE="auto"}(Jt||(Jt={}));var Kt={style:"auto",unquoted:!1},Zt=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},Kt),e))).style=function(e){switch(e.toLowerCase()){case"auto":return Jt.AUTO_QUOTE;case"double":return Jt.DOUBLE_QUOTE;case"single":return Jt.SINGLE_QUOTE;default:throw new vt('Invalid style "'.concat(e,'" for "attr-quotes" rule'))}}(r.options.style),r}return d(n,[{key:"documentation",value:function(){return"auto"===this.options.style?{description:"Attribute values are required to be quoted with doublequotes unless the attribute value itself contains doublequotes in which case singlequotes should be used.",url:it("@/rules/attr-quotes.ts")}:{description:"Attribute values are required to be quoted with ".concat(this.options.style,"quotes."),url:it("@/rules/attr-quotes.ts")}}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){if(null!==t.value)if(t.quote){var n=e.resolveQuotemark(t.value.toString(),e.style);t.quote!==n&&e.report(t.target,'Attribute "'.concat(t.key,'" used ').concat(t.quote," instead of expected ").concat(n))}else!1===e.options.unquoted&&e.report(t.target,'Attribute "'.concat(t.key,'" using unquoted value'))}))}},{key:"resolveQuotemark",value:function(e,t){return t===Jt.AUTO_QUOTE?e.includes('"')?"'":'"':t}}],[{key:"schema",value:function(){return{style:{enum:["auto","double","single"],type:"string"},unquoted:{type:"boolean"}}}}]),n}(at);var en=function(e){m(r,e);var n=x(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"documentation",value:function(){return{description:"No space between attributes. At least one whitespace character (commonly space) must be used to separate attributes.",url:it("@/rules/attr-spacing.ts")}}},{key:"setup",value:function(){var e,n=this;this.on("token",(function(r){r.type===t.TokenType.ATTR_NAME&&e!==t.TokenType.WHITESPACE&&n.report(null,"No space between attributes",r.location),e=r.type}))}}]),r}(at),tn=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(e){var t={description:"Attribute has invalid value.",url:it("@/rules/attribute-allowed-values.ts")};if(!e)return t;var n=e.allowed,r=e.attribute,a=e.element,i=e.value;if(n.enum){var o=n.enum.map((function(e){return"string"==typeof e?'- `"'.concat(e,'"`'):"- `".concat(e.toString(),"`")}));t.description=["The `<".concat(a,">` element does not allow the attribute `").concat(r,'` to have the value `"').concat(i,'"`.'),"","It must match one of the following:",""].concat(l(o)).join("\n")}else n.boolean&&(t.description="The `<".concat(e.element,">` attribute `").concat(e.attribute,"` must be a boolean attribute, e.g. `<").concat(e.element," ").concat(e.attribute,">`"));return t}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){t.document.visitDepthFirst((function(t){var n=t.meta;if(n&&n.attributes){var r,a=w(t.attributes);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(!_e.validateAttribute(i,n.attributes)){var o=i.value?i.value.toString():"",s={element:t.tagName,attribute:i.key,value:o,allowed:n.attributes[i.key]},u=e.getMessage(i),l=e.getLocation(i);e.report(t,u,l,s)}}}catch(c){a.e(c)}finally{a.f()}}}))}))}},{key:"getMessage",value:function(e){var t=e.key,n=e.value;return null!==n?'Attribute "'.concat(t,'" has invalid value "').concat(n.toString(),'"'):'Attribute "'.concat(t,'" is missing value')}},{key:"getLocation",value:function(e){return null!==e.value?e.valueLocation:e.keyLocation}}]),n}(at),nn={style:"omit"},rn=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},nn),e))).hasInvalidStyle=function(e){switch(e.toLowerCase()){case"omit":return function(e){return null!==e.value};case"empty":return function(e){return""!==e.value};case"name":return function(e){return e.value!==e.key};default:throw new Error('Invalid style "'.concat(e,'" for "attribute-boolean-style" rule'))}}(r.options.style),r}return d(n,[{key:"documentation",value:function(){return{description:"Require a specific style when writing boolean attributes.",url:it("@/rules/attribute-boolean-style.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){t.document.visitDepthFirst((function(t){var n=t.meta;if(n&&n.attributes){var r,a=w(t.attributes);try{for(a.s();!(r=a.n()).done;){var i=r.value;e.isBoolean(i,n.attributes)&&(i.originalAttribute||e.hasInvalidStyle(i)&&e.report(t,an(i,e.options.style),i.keyLocation))}}catch(o){a.e(o)}finally{a.f()}}}))}))}},{key:"isBoolean",value:function(e,t){var n;return Boolean(null===(n=t[e.key])||void 0===n?void 0:n.boolean)}}],[{key:"schema",value:function(){return{style:{enum:["empty","name","omit"],type:"string"}}}}]),n}(at);function an(e,t){var n=e.key;switch(t.toLowerCase()){case"omit":return'Attribute "'.concat(n,'" should omit value');case"empty":return'Attribute "'.concat(n,'" value should be empty string');case"name":return'Attribute "'.concat(n,'" should be set to ').concat(n,'="').concat(n,'"')}return""}var on={style:"omit"},sn=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},on),e))).hasInvalidStyle=function(e){switch(e.toLowerCase()){case"omit":return function(e){return null!==e.value};case"empty":return function(e){return""!==e.value};default:throw new Error('Invalid style "'.concat(e,'" for "attribute-empty-style" rule'))}}(r.options.style),r}return d(n,[{key:"documentation",value:function(){return{description:"Require a specific style for attributes with empty values.",url:it("@/rules/attribute-empty-style.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){t.document.visitDepthFirst((function(t){var n=t.meta;if(n&&n.attributes){var r,a=w(t.attributes);try{for(a.s();!(r=a.n()).done;){var i=r.value;un(i,n.attributes)&&(ln(i)&&e.hasInvalidStyle(i)&&e.report(t,cn(i,e.options.style),i.keyLocation))}}catch(o){a.e(o)}finally{a.f()}}}))}))}}],[{key:"schema",value:function(){return{style:{enum:["empty","omit"],type:"string"}}}}]),n}(at);function un(e,t){var n;return Boolean(null===(n=t[e.key])||void 0===n?void 0:n.omit)}function ln(e){return!e.isDynamic&&(null===e.value||""===e.value)}function cn(e,t){var n=e.key;switch(t.toLowerCase()){case"omit":return'Attribute "'.concat(n,'" should omit value');case"empty":return'Attribute "'.concat(n,'" value should be empty string')}return""}function fn(e){switch(e){case"kebabcase":return/^[a-z0-9-]+$/;case"camelcase":return/^[a-z][a-zA-Z0-9]+$/;case"underscore":return/^[a-z0-9_]+$/;default:return new RegExp(e)}}function dn(e){var t=fn(e).toString();switch(e){case"kebabcase":case"camelcase":case"underscore":return"".concat(t," (").concat(e,")");default:return t}}var hn={pattern:"kebabcase"},pn=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},hn),e))).pattern=fn(r.options.pattern),r}return d(n,[{key:"documentation",value:function(){var e=dn(this.options.pattern);return{description:"For consistency all classes are required to match the pattern ".concat(e,"."),url:it("@/rules/class-pattern.ts")}}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){if("class"===t.key.toLowerCase()){var n=new Ae(t.value,t.valueLocation);n.forEach((function(r,a){if(!r.match(e.pattern)){var i=n.location(a);e.report(t.target,'Class "'.concat(r,'" does not match required pattern "').concat(e.pattern,'"'),i)}}))}}))}}],[{key:"schema",value:function(){return{pattern:{type:"string"}}}}]),n}(at),mn=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"HTML disallows end tags to have attributes.",url:it("@/rules/close-attr.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){if(t.target&&t.previous!==t.target){var n=t.target;if(Object.keys(n.attributes).length>0){var r=n.attributes[0];e.report(null,"Close tags cannot have attributes",r.keyLocation)}}}))}}]),n}(at),vn=function(e){m(r,e);var n=x(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"documentation",value:function(){return{description:"HTML requires elements to be closed in the same order as they were opened.",url:it("@/rules/close-order.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(n){var r=n.target,a=n.previous;if(r){if(!r.voidElement&&a.closed!==t.NodeClosed.ImplicitClosed)if(a&&!a.isRootElement())r.tagName!==a.tagName&&e.report(null,"Mismatched close-tag, expected '</".concat(a.tagName,">' but found '</").concat(r.tagName,">'."),r.location);else{var i={filename:r.location.filename,line:r.location.line,column:r.location.column,offset:r.location.offset,size:r.tagName.length+1};e.report(null,"Unexpected close-tag, expected opening tag.",i)}}else e.report(null,"Missing close-tag, expected '</".concat(a.tagName,">' but document ended before it was found."),n.location)}))}}]),r}(at),gn={include:null,exclude:null},yn=function(e){m(n,e);var t=x(n);function n(e){return h(this,n),t.call(this,A(A({},gn),e))}return d(n,[{key:"documentation",value:function(e){var t={description:"This element is deprecated and should not be used in new code.",url:it("@/rules/deprecated.ts")};if(e){var n=[];if(e.source){var r=function(e){var t=e.match(/html(\d)(\d)?/);if(t){var n=s(t).slice(1).filter(Boolean).join(".");return"in HTML ".concat(n)}switch(e){case"whatwg":return"in HTML Living Standard";case"non-standard":return"and non-standard";default:return"by ".concat(e)}}(e.source),a="The `<$tagname>` element is deprecated ".concat(r," and should not be used in new code.");n.push(a)}else{n.push("The `<$tagname>` element is deprecated and should not be used in new code.")}e.documentation&&n.push(e.documentation),t.description=n.map((function(t){return t.replace(/\$tagname/g,e.tagName)})).join("\n\n")}return t}},{key:"setup",value:function(){var e=this;this.on("tag:start",(function(t){var n=t.target;if(null!==n.meta){var r=n.meta.deprecated;if(r&&!e.isKeywordIgnored(n.tagName)){var a=ge(t.location,1);"string"==typeof r?e.reportString(r,n,a):"boolean"==typeof r?e.reportBoolean(n,a):e.reportObject(r,n,a)}}}))}},{key:"reportString",value:function(e,t,n){var r={tagName:t.tagName},a="<".concat(t.tagName,"> is deprecated: ").concat(e);this.report(t,a,n,r)}},{key:"reportBoolean",value:function(e,t){var n={tagName:e.tagName},r="<".concat(e.tagName,"> is deprecated");this.report(e,r,t,n)}},{key:"reportObject",value:function(e,t,n){var r=A(A({},e),{},{tagName:t.tagName}),a=e.message?": ".concat(e.message):"",i="<".concat(t.tagName,"> is deprecated").concat(a);this.report(t,i,n,r)}}],[{key:"schema",value:function(){return{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},include:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]}}}}]),n}(at);var bn=function(e){m(r,e);var n=x(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"documentation",value:function(e){var t=e?'The rule "'.concat(e,'"'):"This rule";return{description:"".concat(t," is deprecated and should not be used any longer, consult documentation for further information."),url:it("@/rules/deprecated-rule.ts")}}},{key:"setup",value:function(){var e=this;this.on("config:ready",(function(n){var r,a=w(e.getDeprecatedRules(n));try{for(a.s();!(r=a.n()).done;){var i=r.value;i.getSeverity()>t.Severity.DISABLED&&e.report(null,'Usage of deprecated rule "'.concat(i.name,'"'),null,i.name)}}catch(o){a.e(o)}finally{a.f()}}))}},{key:"getDeprecatedRules",value:function(e){return Object.values(e.rules).filter((function(e){return e.deprecated}))}}]),r}(at),kn=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:['HTML5 documents should use the "html" doctype (short `form`, not legacy string):',"","```html","<!DOCTYPE html>","```"].join("\n"),url:it("@/rules/doctype-html.ts")}}},{key:"setup",value:function(){var e=this;this.on("doctype",(function(t){"html"!==t.value.toLowerCase()&&e.report(null,'doctype should be "html"',t.valueLocation)}))}}]),n}(at),wn={style:"uppercase"},Tn=function(e){m(n,e);var t=x(n);function n(e){return h(this,n),t.call(this,A(A({},wn),e))}return d(n,[{key:"documentation",value:function(e){var t={description:"While DOCTYPE is case-insensitive in the standard the current configuration requires a specific style.",url:it("@/rules/doctype-style.ts")};return e&&(t.description="While DOCTYPE is case-insensitive in the standard the current configuration requires it to be ".concat(e.style)),t}},{key:"setup",value:function(){var e=this;this.on("doctype",(function(t){"uppercase"===e.options.style&&"DOCTYPE"!==t.tag&&e.report(null,"DOCTYPE should be uppercase",t.location,e.options),"lowercase"===e.options.style&&"doctype"!==t.tag&&e.report(null,"DOCTYPE should be lowercase",t.location,e.options)}))}}],[{key:"schema",value:function(){return{style:{enum:["lowercase","uppercase"],type:"string"}}}}]),n}(at),En={style:"lowercase"},An=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},En),e))).style=new gt(r.options.style,"element-case"),r}return d(n,[{key:"documentation",value:function(){return{description:"Element tagname must be ".concat(this.options.style,"."),url:it("@/rules/element-case.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:start",(function(t){var n=t.target,r=t.location;e.validateCase(n,r)})),this.on("tag:end",(function(t){var n=t.target,r=t.previous;e.validateMatchingCase(r,n)}))}},{key:"validateCase",value:function(e,t){var n=e.tagName.replace(/[^a-z]+/gi,"");if(!this.style.match(n)){var r=ge(t,1);this.report(e,'Element "'.concat(e.tagName,'" should be ').concat(this.style.name),r)}}},{key:"validateMatchingCase",value:function(e,t){e&&t&&e.tagName&&t.tagName&&e.tagName.toLowerCase()===t.tagName.toLowerCase()&&e.tagName!==t.tagName&&this.report(e,"Start and end tag must not differ in casing",t.location)}}],[{key:"schema",value:function(){var e=["lowercase","uppercase","pascalcase","camelcase"];return{style:{anyOf:[{enum:e,type:"string"},{items:{enum:e,type:"string"},type:"array"}]}}}}]),n}(at),xn={pattern:"^[a-z][a-z0-9\\-._]*-[a-z0-9\\-._]*$",whitelist:[],blacklist:[]},qn=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},xn),e))).pattern=new RegExp(r.options.pattern),r}return d(n,[{key:"documentation",value:function(e){return{description:this.documentationMessages(e).join("\n"),url:it("@/rules/element-name.ts")}}},{key:"documentationMessages",value:function(e){return e?e.blacklist.includes(e.tagName)?["<".concat(e.tagName,"> is blacklisted by the project configuration."),"","The following names are blacklisted:"].concat(l(e.blacklist.map((function(e){return"- ".concat(e)})))):e.pattern!==xn.pattern?["<".concat(e.tagName,"> is not a valid element name. This project is configured to only allow names matching the following regular expression:"),"","- `".concat(e.pattern,"`")]:["<".concat(e.tagName,"> is not a valid element name. If this is a custom element HTML requires the name to follow these rules:"),"","- The name must begin with `a-z`","- The name must include a hyphen `-`","- It may include alphanumerical characters `a-z0-9` or hyphens `-`, dots `.` or underscores `_`."]:["This is not a valid element name."]}},{key:"setup",value:function(){var e=this,t=/^(.+):.+$/;this.on("tag:start",(function(n){var r=n.target,a=r.tagName,i=ge(n.location,1),o={tagName:a,pattern:e.options.pattern,blacklist:e.options.blacklist};e.options.blacklist.includes(a)&&e.report(r,"<".concat(a,"> element is blacklisted"),i,o),r.meta||a.match(t)||e.options.whitelist.includes(a)||a.match(e.pattern)||e.report(r,"<".concat(a,"> is not a valid element name"),i,o)}))}}],[{key:"schema",value:function(){return{blacklist:{items:{type:"string"},type:"array"},pattern:{type:"string"},whitelist:{items:{type:"string"},type:"array"}}}}]),n}(at);var Cn,Nn=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Some elements has restrictions on what content is allowed. This can include both direct children or descendant elements.",url:it("@/rules/element-permitted-content.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){t.document.visitDepthFirst((function(t){var n=t.parent;n&&!n.isRootElement()&&[function(){return e.validatePermittedContent(t,n)},function(){return e.validatePermittedDescendant(t,n)},function(){return e.validatePermittedAncestors(t)}].some((function(e){return e()}))}))}))}},{key:"validatePermittedContent",value:function(e,t){var n;if(!t.meta)return!1;var r=null!==(n=t.meta.permittedContent)&&void 0!==n?n:null;return this.validatePermittedContentImpl(e,t,r)}},{key:"validatePermittedContentImpl",value:function(e,t,n){var r,a,i=this;return _e.validatePermitted(e,n)?!(!e.meta||!e.meta.transparent)&&(r=e,"boolean"==typeof(a=e.meta.transparent)?r.childElements:r.childElements.filter((function(e){return a.some((function(t){return _e.validatePermittedCategory(e,t,!1)}))}))).map((function(e){return i.validatePermittedContentImpl(e,t,n)})).some(Boolean):(this.report(e,"Element <".concat(e.tagName,"> is not permitted as content in ").concat(t.annotatedName)),!0)}},{key:"validatePermittedDescendant",value:function(e,t){for(var n,r=t;r&&!r.isRootElement();r=null!==(n=null==r?void 0:r.parent)&&void 0!==n?n:null){var a=r.meta;if(a){var i=a.permittedDescendants;if(i&&!_e.validatePermitted(e,i))return this.report(e,"Element <".concat(e.tagName,"> is not permitted as descendant of ").concat(r.annotatedName)),!0}}return!1}},{key:"validatePermittedAncestors",value:function(e){if(!e.meta)return!1;var t=e.meta.requiredAncestors;return!!t&&(!_e.validateAncestors(e,t)&&(this.report(e,"Element <".concat(e.tagName,'> requires an "').concat(t[0],'" ancestor')),!0))}}]),n}(at),Sn=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Some elements may only be used a fixed amount of times in given context.",url:it("@/rules/element-permitted-occurrences.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){t.document.visitDepthFirst((function(t){var n=t.parent;if(n&&n.meta){var r=n.meta.permittedContent;if(r){var a=n.childElements.filter((function(e){return e.tagName===t.tagName}));t.unique===a[0].unique||n.meta&&!_e.validateOccurrences(t,r,a.length)&&e.report(t,"Element <".concat(t.tagName,"> can only appear once under ").concat(n.annotatedName))}}}))}))}}]),n}(at),On=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Some elements has a specific order the children must use.",url:it("@/rules/element-permitted-order.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){t.document.visitDepthFirst((function(t){if(t.meta){var n=t.meta.permittedOrder;n&&_e.validateOrder(t.childElements,n,(function(t,n){e.report(t,"Element <".concat(t.tagName,"> must be used before <").concat(n.tagName,"> in this context"))}))}}))}))}}]),n}(at),In=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(e){var t={description:"Element is missing a required attribute",url:it("@/rules/element-required-attributes.ts")};return e&&(t.description="The <".concat(e.element,'> element is required to have a "').concat(e.attribute,'" attribute.')),t}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.previous,r=n.meta;if(r&&r.attributes)for(var a=0,i=Object.entries(r.attributes);a<i.length;a++){var o=f(i[a],2),s=o[0];if(o[1].required&&!n.hasAttribute(s)){var u={element:n.tagName,attribute:s};e.report(n,"".concat(n.annotatedName,' is missing required "').concat(s,'" attribute'),n.location,u)}}}))}}]),n}(at),Ln=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(e){if(e){var t=e.element,n=e.missing;return{description:"The `".concat(t,"` element requires a `").concat(n,"` to be present as content."),url:it("@/rules/element-required-content.ts")}}return{description:"Some elements has requirements on content that must be present.",url:it("@/rules/element-required-content.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){t.document.visitDepthFirst((function(t){if(t.meta){var n=t.meta.requiredContent;if(n){var r,a=w(_e.validateRequiredContent(t,n));try{for(a.s();!(r=a.n()).done;){var i=r.value,o={element:t.annotatedName,missing:"<".concat(i,">")},s="".concat(t.annotatedName," element must have <").concat(i,"> as content");e.report(t,s,null,o)}}catch(u){a.e(u)}finally{a.f()}}}}))}))}}]),n}(at),Rn=Symbol(Dn.name);function Dn(e){if(e.cacheExists(Rn))return e.cacheGet(Rn);var t=Pn(e);return t.some((function(e){return e.isDynamic}))?e.cacheSet(Rn,Cn.DYNAMIC_TEXT):t.some((function(e){return null!==e.textContent.match(/\S/)}))?e.cacheSet(Rn,Cn.STATIC_TEXT):e.cacheSet(Rn,Cn.EMPTY_TEXT)}function Pn(e){var t,n=[],r=w(e.childNodes);try{for(r.s();!(t=r.n()).done;){var a=t.value;switch(a.nodeType){case ye.TEXT_NODE:n.push(a);break;case ye.ELEMENT_NODE:n=n.concat(Pn(a))}}}catch(i){r.e(i)}finally{r.f()}return n}!function(e){e[e.EMPTY_TEXT=0]="EMPTY_TEXT",e[e.DYNAMIC_TEXT=1]="DYNAMIC_TEXT",e[e.STATIC_TEXT=2]="STATIC_TEXT"}(Cn||(Cn={}));var jn=["h1","h2","h3","h4","h5","h6"].join(","),Mn=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Assistive technology such as screen readers require textual content in headings. Whitespace only is considered empty.",url:it("@/rules/empty-heading.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){var n,r=w(t.document.querySelectorAll(jn));try{for(r.s();!(n=r.n()).done;){var a=n.value;switch(Dn(a)){case Cn.DYNAMIC_TEXT:case Cn.STATIC_TEXT:break;case Cn.EMPTY_TEXT:e.report(a,"<".concat(a.tagName,"> cannot be empty, must have text content"))}}}catch(i){r.e(i)}finally{r.f()}}))}}]),n}(at),Fn=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:["The `<title>` element cannot be empty, it must have textual content.","","It is used to describe the document and is shown in the browser tab and titlebar.","WCAG and SEO requires a descriptive title and preferably unique within the site.","","Whitespace is ignored."].join("\n"),url:it("@/rules/empty-title.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.previous;if("title"===n.tagName)switch(Dn(n)){case Cn.DYNAMIC_TEXT:case Cn.STATIC_TEXT:break;case Cn.EMPTY_TEXT:var r="<".concat(n.tagName,"> cannot be empty, must have text content");e.report(n,r,n.location)}}))}}]),n}(at),$n={allowMultipleH1:!1,minInitialRank:"h1",sectioningRoots:["dialog",'[role="dialog"]']};function zn(e){var t=e.target;return Boolean(t.meta&&t.meta.heading)}var _n=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},$n),e))).stack=[],r.minInitialRank=function(e){if(!1===e||"any"===e)return 6;var t=e.match(/^h(\d)$/);return t?parseInt(t[1],10):1}(r.options.minInitialRank),r.sectionRoots=r.options.sectioningRoots.map((function(e){return new Re(e)})),r.stack.push({node:null,current:0,h1Count:0}),r}return d(n,[{key:"documentation",value:function(){var e=[],t=this.minInitialRank>1?"should":"must";return e.push("Headings ".concat(t," start at <h1> and can only increase one level at a time.")),e.push("The headings should form a table of contents and make sense on its own."),this.options.allowMultipleH1||(e.push(""),e.push("Under the current configuration only a single <h1> can be present at a time in the document.")),{description:e.join("\n"),url:it("@/rules/heading-level.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:start",zn,(function(t){return e.onTagStart(t)})),this.on("tag:ready",(function(t){return e.onTagReady(t)})),this.on("tag:close",(function(t){return e.onTagClose(t)}))}},{key:"onTagStart",value:function(e){var t,n,r=(t=e.target,(n=t.tagName.match(/^[hH](\d)$/))?parseInt(n[1],10):null);if(r){var a=this.getCurrentRoot();if(!this.options.allowMultipleH1&&1===r){if(a.h1Count>=1){var i=ge(e.location,1);return void this.report(e.target,"Multiple <h1> are not allowed",i)}a.h1Count++}r<=a.current||this.checkLevelIncrementation(a,e,r),a.current=r}}},{key:"checkLevelIncrementation",value:function(e,t,n){var r=e.current+1;if(n!==r&&!(1===this.stack.length&&1===r&&n<=this.minInitialRank)){var a=ge(t.location,1);if(e.current>0){var i="Heading level can only increase by one, expected <h".concat(r,"> but got <h").concat(n,">");this.report(t.target,i,a)}else this.checkInitialLevel(t,a,n,r)}}},{key:"checkInitialLevel",value:function(e,t,n,r){if(1===this.stack.length){var a=this.minInitialRank>1?"Initial heading level must be <h".concat(this.minInitialRank,"> or higher rank but got <h").concat(n,">"):"Initial heading level must be <h".concat(r,"> but got <h").concat(n,">");this.report(e.target,a,t)}else{var i=this.getPrevRoot().current+1;if(n>i)if(r===i){var o="Initial heading level for sectioning root must be <h".concat(r,"> but got <h").concat(n,">");this.report(e.target,o,t)}else{var s="Initial heading level for sectioning root must be between <h".concat(r,"> and <h").concat(i,"> but got <h").concat(n,">");this.report(e.target,s,t)}}}},{key:"onTagReady",value:function(e){var t=e.target;this.isSectioningRoot(t)&&this.stack.push({node:t.unique,current:0,h1Count:0})}},{key:"onTagClose",value:function(e){var t=e.previous,n=this.getCurrentRoot();t.unique===n.node&&this.stack.pop()}},{key:"getPrevRoot",value:function(){return this.stack[this.stack.length-2]}},{key:"getCurrentRoot",value:function(){return this.stack[this.stack.length-1]}},{key:"isSectioningRoot",value:function(e){var t={scope:e};return this.sectionRoots.some((function(n){return n.match(e,t)}))}}],[{key:"schema",value:function(){return{allowMultipleH1:{type:"boolean"},minInitialRank:{enum:["h1","h2","h3","h4","h5","h6","any",!1]},sectioningRoots:{items:{type:"string"},type:"array"}}}}]),n}(at),Bn={pattern:"kebabcase"},Un=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},Bn),e))).pattern=fn(r.options.pattern),r}return d(n,[{key:"documentation",value:function(){var e=dn(this.options.pattern);return{description:"For consistency all IDs are required to match the pattern ".concat(e,"."),url:it("@/rules/id-pattern.ts")}}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){"id"===t.key.toLowerCase()&&(t.value instanceof me||t.value&&t.value.match(e.pattern)||e.report(t.target,'ID "'.concat(t.value,'" does not match required pattern "').concat(e.pattern,'"'),t.valueLocation))}))}}],[{key:"schema",value:function(){return{pattern:{type:"string"}}}}]),n}(at),Yn=new Map([["accept",["file"]],["alt",["image"]],["autocomplete",["hidden","text","search","url","tel","email","password","date","month","week","time","datetime-local","number","range","color"]],["capture",["file"]],["checked",["checkbox","radio"]],["dirname",["text","search"]],["formaction",["submit","image"]],["formenctype",["submit","image"]],["formmethod",["submit","image"]],["formnovalidate",["submit","image"]],["formtarget",["submit","image"]],["height",["image"]],["list",["text","search","url","tel","email","date","month","week","time","datetime-local","number","range","color"]],["max",["date","month","week","time","datetime-local","number","range"]],["maxlength",["text","search","url","tel","email","password"]],["min",["date","month","week","time","datetime-local","number","range"]],["minlength",["text","search","url","tel","email","password"]],["multiple",["email","file"]],["pattern",["text","search","url","tel","email","password"]],["placeholder",["text","search","url","tel","email","password","number"]],["readonly",["text","search","url","tel","email","password","date","month","week","time","datetime-local","number"]],["required",["text","search","url","tel","email","password","date","month","week","time","datetime-local","number","checkbox","radio","file"]],["size",["text","search","url","tel","email","password"]],["src",["image"]],["step",["date","month","week","time","datetime-local","number","range"]],["width",["image"]]]);function Gn(e){return e.target.is("input")}var Vn=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(e){var t,n;if(e){var r=e.attribute,a=e.type,i="Attribute `".concat(r,'` is not allowed on `<input type="').concat(a,'">`\n'),o="`".concat(r,"` can only be used when `type` is:"),s=null!==(n=null===(t=Yn.get(r))||void 0===t?void 0:t.map((function(e){return"- `".concat(e,"`")})))&&void 0!==n?n:[];return{description:[i,o].concat(l(s)).join("\n"),url:it("@/rules/input-attributes.ts")}}return{description:"This attribute cannot be used with this input type.",url:it("@/rules/input-attributes.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:ready",Gn,(function(t){var n=t.target,r=n.getAttribute("type");if(r&&!r.isDynamic&&r.value){var a,i=r.value.toString(),o=w(n.attributes);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=Yn.get(s.key);if(u&&!u.includes(i)){var l={attribute:s.key,type:i},c='Attribute "'.concat(s.key,'" is not allowed on <input type="').concat(i,'">');e.report(n,c,s.keyLocation,l)}}}catch(f){o.e(f)}finally{o.f()}}}))}}]),n}(at),Xn=Symbol(Qn.name),Hn=Symbol(Kn.name),Wn=Symbol(Zn.name);function Jn(e){return!Qn(e)&&!Zn(e)}function Qn(e){if(e.cacheExists(Xn))return Boolean(e.cacheGet(Xn));var t=e;do{var n=t.getAttribute("aria-hidden");if(n&&"true"===n.value)return t.cacheSet(Xn,!0);if(!t.parent)break;t=t.parent}while(!t.isRootElement());return e.cacheSet(Xn,!1)}function Kn(e){if(e.cacheExists(Hn))return Boolean(e.cacheGet(Hn));var t=e;do{var n=t.getAttribute("hidden");if(null!==n&&n.isStatic)return t.cacheSet(Hn,!0);if(!t.parent)break;t=t.parent}while(!t.isRootElement());return e.cacheSet(Hn,!1)}function Zn(e){if(e.cacheExists(Wn))return Boolean(e.cacheGet(Wn));var t=e;do{var n=t.getAttribute("role");if(n&&"presentation"===n.value)return t.cacheSet(Wn,!0);if(!t.parent)break;t=t.parent}while(!t.isRootElement());return e.cacheSet(Wn,!1)}var er=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Labels are associated with the input element and is required for a17y.",url:it("@/rules/input-missing-label.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){var n,r=t.document,a=w(r.querySelectorAll("input, textarea, select"));try{for(a.s();!(n=a.n()).done;){var i=n.value;e.validateInput(r,i)}}catch(o){a.e(o)}finally{a.f()}}))}},{key:"validateInput",value:function(e,t){if(!Kn(t)&&!Qn(t)){if(t.is("input")){var n=t.getAttributeValue("type");if(n&&"hidden"===n.toLowerCase())return}var r=[];(r=function(e,t){return t?e.querySelectorAll('label[for="'.concat(t,'"]')):[]}(e,t.id)).length>0||(r=function(e){var t=e.parent;for(;t;){if(t.is("label"))return[t];t=t.parent}return[]}(t)).length>0?this.validateLabel(t,r):this.report(t,"<".concat(t.tagName,"> element does not have a <label>"))}}},{key:"validateLabel",value:function(e,t){0===t.filter(tr).length&&this.report(e,"<".concat(e.tagName,"> element has label but <label> element is hidden"))}}]),n}(at);function tr(e){return!(Kn(e)||Qn(e))}var nr={maxlength:70},rr=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},nr),e))).maxlength=r.options.maxlength,r}return d(n,[{key:"documentation",value:function(){return{description:"Search engines truncates titles with long text, possibly down-ranking the page in the process.",url:it("@/rules/long-title.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.previous;"title"===n.tagName&&(n.textContent.length>e.maxlength&&e.report(n,"title text cannot be longer than ".concat(e.maxlength," characters")))}))}}],[{key:"schema",value:function(){return{maxlength:{type:"number"}}}}]),n}(at),ar=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Meta refresh directive must use the `0;url=...` format. Non-zero values for time interval is disallowed as people with assistive technology might be unable to read and understand the page content before automatically reloading. For the same reason skipping the url is disallowed as it would put the browser in an infinite loop reloading the same page over and over again.",url:it("@/rules/meta-refresh.ts")}}},{key:"setup",value:function(){var e=this;this.on("element:ready",(function(t){var n=t.target;if(n.is("meta")&&"refresh"===n.getAttributeValue("http-equiv")){var r=n.getAttribute("content");if(r&&r.value&&!r.isDynamic){var a,i,o=r.valueLocation,s=(a=r.value.toString(),(i=a.match(/^(\d+)(?:\s*;\s*url=(.*))?/))?{delay:parseInt(i[1],10),url:i[2]}:null);s?(s.url||e.report(n,"Don't use meta refresh to reload the page",o),0!==s.delay&&e.report(n,"Meta refresh must use 0 second delay",o)):e.report(n,"Malformed meta refresh directive",o)}}}))}}]),n}(at);var ir=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Requires that the document contains a doctype.",url:it("@/rules/missing-doctype.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){var n=t.document;n.doctype||e.report(n.root,"Document is missing doctype")}))}}]),n}(at),or=function(e){m(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).labelable="",e}return d(n,[{key:"documentation",value:function(){return{description:"A `<label>` element can only be associated with one control at a time.",url:it("@/rules/multiple-labeled-controls.ts")}}},{key:"setup",value:function(){var e=this;this.labelable=this.getTagsWithProperty("labelable").join(","),this.on("element:ready",(function(t){var n=t.target;"label"===n.tagName&&(e.getNumLabledControls(n)<=1||e.report(n,"<label> is associated with multiple controls",n.location))}))}},{key:"getNumLabledControls",value:function(e){var t=e.querySelectorAll(this.labelable).map((function(e){return e.id})),n=e.getAttribute("for");return n&&!n.isDynamic&&n.value?t.includes(n.value.toString())?t.length:t.length+1:t.length}}]),n}(at),sr={include:null,exclude:null},ur=function(e){m(n,e);var t=x(n);function n(e){return h(this,n),t.call(this,A(A({},sr),e))}return d(n,[{key:"documentation",value:function(e){var t=e?" on <".concat(e.tagName,">"):"";return{description:["The autoplay attribute is not allowed".concat(t,"."),"Autoplaying content can be disruptive for users and has accessibilty concerns.","Prefer to let the user control playback."].join("\n"),url:it("@/rules/no-autoplay.ts")}}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){if("autoplay"===t.key.toLowerCase()&&!(t.value&&t.value instanceof me)){var n=t.target.tagName;if(!e.isKeywordIgnored(n)){var r={tagName:n},a=t.location;e.report(t.target,"The autoplay attribute is not allowed on <".concat(n,">"),a,r)}}}))}}],[{key:"schema",value:function(){return{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},include:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]}}}}]),n}(at),lr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Microsoft Internet Explorer previously supported using special HTML comments (conditional comments) for targeting specific versions of IE but since IE 10 it is deprecated and not supported in standards mode.",url:it("@/rules/no-conditional-comment.ts")}}},{key:"setup",value:function(){var e=this;this.on("conditional",(function(t){e.report(t.parent,"Use of conditional comments are deprecated",t.location)}))}}]),n}(at),cr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"HTML5 deprecated many old attributes.",url:it("@/rules/no-deprecated-attr.ts")}}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){var n=t.target,r=n.meta,a=t.key.toLowerCase();if(null!==r){var i=r.attributes&&r.attributes[a];if(i)i.deprecated&&e.report(n,'Attribute "'.concat(t.key,'" is deprecated on <').concat(n.tagName,"> element"),t.keyLocation)}}))}}]),n}(at),fr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"HTML disallows two or more attributes with the same (case-insensitive) name.",url:it("@/rules/no-dup-attr.ts")}}},{key:"setup",value:function(){var e=this,t={};this.on("tag:start",(function(){t={}})),this.on("attr",(function(n){if(!n.originalAttribute){var r=n.key.toLowerCase();r in t&&e.report(n.target,'Attribute "'.concat(r,'" duplicated'),n.keyLocation),t[n.key]=!0}}))}}]),n}(at),dr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Prevents unnecessary duplication of class names.",url:it("@/rules/no-dup-class.ts")}}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){if("class"===t.key.toLowerCase()){var n=new Ae(t.value,t.valueLocation),r=new Set;n.forEach((function(a,i){if(r.has(a)){var o=n.location(i);e.report(t.target,'Class "'.concat(a,'" duplicated'),o)}r.add(a)}))}}))}}]),n}(at),hr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"The ID of an element must be unique.",url:it("@/rules/no-dup-id.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){var n,r=t.document,a=new Set,i=w(r.querySelectorAll("[id]").filter(pr));try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o.getAttribute("id");if(s&&s.value){var u=s.value.toString();a.has(u)&&e.report(o,'Duplicate ID "'.concat(u,'"'),s.valueLocation),a.add(u)}}}catch(l){i.e(l)}finally{i.f()}}))}}]),n}(at);function pr(e){var t=e.getAttribute("id");return!!t&&(!!t.value&&!t.isDynamic)}var mr=function(e){m(r,e);var n=x(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"documentation",value:function(){return{description:"Some elements in HTML has optional end tags. When an optional tag is omitted a browser must handle it as if the end tag was present.\n\nOmitted end tags can be ambigious for humans to read and many editors have trouble formatting the markup.",url:it("@/rules/no-implicit-close.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(n){var r=n.previous,a=n.target;if(a&&r.closed===t.NodeClosed.ImplicitClosed){var i=r.parent&&r.parent.tagName===a.tagName,o=r.tagName===a.tagName;i?e.report(r,"Element <".concat(r.tagName,"> is implicitly closed by parent </").concat(a.tagName,">"),r.location):o?e.report(r,"Element <".concat(r.tagName,"> is implicitly closed by sibling"),r.location):e.report(r,"Element <".concat(r.tagName,"> is implicitly closed by adjacent <").concat(a.tagName,">"),r.location)}}))}}]),r}(at),vr={include:null,exclude:null,allowedProperties:["display"]};var gr=function(e){m(n,e);var t=x(n);function n(e){return h(this,n),t.call(this,A(A({},vr),e))}return d(n,[{key:"documentation",value:function(){var e=["Inline style is not allowed.\n","Inline style is a sign of unstructured CSS. Use class or ID with a separate stylesheet.\n"];return this.options.allowedProperties.length>0&&(e.push("Under the current configuration the following CSS properties are allowed:\n"),e.push(this.options.allowedProperties.map((function(e){return"- `".concat(e,"`")})).join("\n"))),{description:e.join("\n"),url:it("@/rules/no-inline-style.ts")}}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){return e.isRelevant(t)}),(function(t){var n=t.value;e.allPropertiesAllowed(n)||e.report(t.target,"Inline style is not allowed")}))}},{key:"isRelevant",value:function(e){if("style"!==e.key)return!1;var t=this.options,n=t.include,r=t.exclude,a=e.originalAttribute||e.key;return!(n&&!n.includes(a))&&(!r||!r.includes(a))}},{key:"allPropertiesAllowed",value:function(e){if("string"!=typeof e)return!1;var t=this.options.allowedProperties;if(0===t.length)return!1;var n=function(e){return e.trim().split(";").filter(Boolean).map((function(e){var t=e.split(":",2),n=f(t,2),r=n[0],a=n[1];return{property:r.trim(),value:a?a.trim():void 0}}))}(e);return n.length>0&&n.every((function(e){return t.includes(e.property)}))}}],[{key:"schema",value:function(){return{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},include:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},allowedProperties:{items:{type:"string"},type:"array"}}}}]),n}(at),yr=[{property:"aria-activedescendant",isList:!1},{property:"aria-controls",isList:!0},{property:"aria-describedby",isList:!0},{property:"aria-details",isList:!1},{property:"aria-errormessage",isList:!1},{property:"aria-flowto",isList:!0},{property:"aria-labelledby",isList:!0},{property:"aria-owns",isList:!0}];function br(e,t){return 0===e.querySelectorAll('[id="'.concat(t,'"]')).length}var kr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(e){return e?{description:'The element ID "'.concat(e.value,'" referenced by the ').concat(e.key," attribute must point to an existing element."),url:it("@/rules/no-missing-references.ts")}:{description:"The element ID referenced by the attribute must point to an existing element.",url:it("@/rules/no-missing-references.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){var n,r=t.document,a=w(r.querySelectorAll("label[for]"));try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.getAttribute("for");e.validateReference(r,i,o,!1)}}catch(k){a.e(k)}finally{a.f()}var s,u=w(r.querySelectorAll("input[list]"));try{for(u.s();!(s=u.n()).done;){var l=s.value,c=l.getAttribute("list");e.validateReference(r,l,c,!1)}}catch(k){u.e(k)}finally{u.f()}for(var f=0,d=yr;f<d.length;f++){var h,p=d[f],m=p.property,v=p.isList,g=w(r.querySelectorAll("[".concat(m,"]")));try{for(g.s();!(h=g.n()).done;){var y=h.value,b=y.getAttribute(m);e.validateReference(r,y,b,v)}}catch(k){g.e(k)}finally{g.f()}}}))}},{key:"validateReference",value:function(e,t,n,r){if(n){var a=n.value;a instanceof me||null===a||""===a||(r?this.validateList(e,t,n,a):this.validateSingle(e,t,n,a))}}},{key:"validateSingle",value:function(e,t,n,r){if(br(e,r)){var a={key:n.key,value:r};this.report(t,'Element references missing id "'.concat(r,'"'),n.valueLocation,a)}}},{key:"validateList",value:function(e,t,n,r){var a,i=w(new Ae(r,n.valueLocation).iterator());try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o.item;if(br(e,s)){var u={key:n.key,value:s};this.report(t,'Element references missing id "'.concat(s,'"'),o.location,u)}}}catch(l){i.e(l)}finally{i.f()}}}]),n}(at),wr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:["Only a single visible `<main>` element can be present at in a document at a time.","","Multiple `<main>` can be present in the DOM as long the others are hidden using the HTML5 `hidden` attribute."].join("\n"),url:it("@/rules/no-multiple-main.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){var n=t.document.querySelectorAll("main").filter((function(e){return!e.hasAttribute("hidden")}));n.shift();var r,a=w(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;e.report(i,"Multiple <main> elements present in document")}}catch(o){a.e(o)}finally{a.f()}}))}}]),n}(at),Tr={relaxed:!1},Er=/([<>]|&(?![a-zA-Z0-9#]+;))/g,Ar=/([<>"'=`]|&(?![a-zA-Z0-9#]+;))/g,xr=/^(<%[\s\S]*?%>|<\?[\s\S]*?\?>|<\$[\s\S]*?\$>)$/,qr=new Map([['"',"&quot;"],["&","&amp;"],["'","&apos;"],["<","&lt;"],["=","&equals;"],[">","&gt;"],["`","&grave;"]]),Cr=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},Tr),e))).relaxed=r.options.relaxed,r}return d(n,[{key:"documentation",value:function(){return{description:"Some characters such as `<`, `>` and `&` hold special meaning in HTML and must be escaped using a character reference (html entity).",url:it("@/rules/no-raw-characters.ts")}}},{key:"setup",value:function(){var e=this;this.on("element:ready",(function(t){var n,r=t.target,a=w(r.childNodes);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.nodeType===ye.TEXT_NODE&&(i.textContent.match(xr)||e.findRawChars(r,i.textContent,i.location,Er))}}catch(o){a.e(o)}finally{a.f()}})),this.on("attr",(function(t){t.value&&(t.quote||e.findRawChars(t.target,t.value.toString(),t.valueLocation,Ar))}))}},{key:"findRawChars",value:function(e,t,n,r){var a;do{if(a=r.exec(t)){var i=a[0];if(this.relaxed&&"&"===i)continue;var o=qr.get(i),s=ge(n,a.index,a.index+1);this.report(e,'Raw "'.concat(i,'" must be encoded as "').concat(o,'"'),s)}}while(a)}}],[{key:"schema",value:function(){return{relaxed:{type:"boolean"}}}}]),n}(at),Nr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"When the `<label>` element wraps the labelable control the `for` attribute is redundant and better left out.",url:it("@/rules/no-redundant-for.ts")}}},{key:"setup",value:function(){var e=this;this.on("element:ready",(function(t){var n=t.target;if("label"===n.tagName){var r=n.getAttribute("for");if(r&&!r.isDynamic){var a=r.value;if(a){var i=Ce(a);n.querySelector('[id="'.concat(i,'"]'))&&e.report(n,'Redundant "for" attribute',r.keyLocation)}}}}))}}]),n}(at),Sr={article:["article"],header:["banner"],button:["button"],td:["cell"],input:["checkbox","radio","input"],aside:["complementary"],footer:["contentinfo"],figure:["figure"],form:["form"],h1:["heading"],h2:["heading"],h3:["heading"],h4:["heading"],h5:["heading"],h6:["heading"],a:["link"],ul:["list"],select:["listbox"],li:["listitem"],main:["main"],nav:["navigation"],progress:["progressbar"],section:["region"],table:["table"],textarea:["textbox"]},Or=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(e){var t={description:"Using this role is redundant as it is already implied by the element.",url:it("@/rules/no-redundant-role.ts")};return e&&(t.description='Using the "'.concat(e.role,'" role is redundant as it is already implied by the <').concat(e.tagname,"> element.")),t}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){var n=t.target;if("role"===t.key.toLowerCase()&&t.value&&!(t.value instanceof me)){var r=Sr[n.tagName];if(r&&r.includes(t.value)){var a={tagname:n.tagName,role:t.value};e.report(t.target,'Redundant role "'.concat(t.value,'" on <').concat(n.tagName,">"),t.valueLocation,a)}}}))}}]),n}(at),Ir=/^(.+):.+$/,Lr={ignoreForeign:!0,ignoreXML:!0},Rr=function(e){m(r,e);var n=x(r);function r(e){return h(this,r),n.call(this,A(A({},Lr),e))}return d(r,[{key:"documentation",value:function(e){return{description:"Self-closing elements are disallowed. Use regular end tag <".concat(e=e||"element","></").concat(e,"> instead of self-closing <").concat(e,"/>."),url:it("@/rules/no-self-closing.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.previous;(function(e,t){if(e.tagName&&e.tagName.match(Ir))return!t.ignoreXML;if(!e.meta)return!0;if(e.meta.void)return!1;if(e.meta.foreign)return!t.ignoreForeign;return!0})(n,e.options)&&e.validateElement(n)}))}},{key:"validateElement",value:function(e){e.closed===t.NodeClosed.VoidSelfClosed&&this.report(e,"<".concat(e.tagName,"> must not be self-closed"),null,e.tagName)}}],[{key:"schema",value:function(){return{ignoreForeign:{type:"boolean"},ignoreXML:{type:"boolean"}}}}]),r}(at);var Dr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Prefer to use external stylesheets with the `<link>` tag instead of inlining the styling.",url:it("@/rules/no-style-tag.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:start",(function(t){var n=t.target;"style"===n.tagName&&e.report(n,"Use external stylesheet with <link> instead of <style> tag")}))}}]),n}(at),Pr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Lines with trailing whitespace cause unnessecary diff when using version control and usually serve no special purpose in HTML.",url:it("@/rules/no-trailing-whitespace.ts")}}},{key:"setup",value:function(){var e=this;this.on("whitespace",(function(t){t.text.match(/^[ \t]+\r?\n$/)&&e.report(null,"Trailing whitespace",t.location)}))}}]),n}(at),jr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(e){var t=e?" <".concat(e,">"):"";return{description:"An unknown element".concat(t," was used. If this is a Custom Element you need to supply element metadata for it."),url:it("@/rules/no-unknown-elements.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:start",(function(t){var n=t.target;n.meta||e.report(n,"Unknown element <".concat(n.tagName,">"),null,n.tagName)}))}}]),n}(at),Mr=function(e){m(r,e);var n=x(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"documentation",value:function(){return{description:"This file is saved with the UTF-8 byte order mark (BOM) present. It is neither required or recommended to use.\n\nInstead the document should be served with the `Content-Type: application/javascript; charset=utf-8` header.",url:it("@/rules/no-utf8-bom.ts")}}},{key:"setup",value:function(){var e=this,n=this.on("token",(function(r){r.type===t.TokenType.UNICODE_BOM&&e.report(null,"File should be saved without UTF-8 BOM",r.location),e.setEnabled(!1),n()}))}}]),r}(at),Fr=["button","submit","reset","image"],$r={button:'<button type="button">',submit:'<button type="submit">',reset:'<button type="reset">',image:'<button type="button">'},zr={include:null,exclude:null},_r=function(e){m(n,e);var t=x(n);function n(e){return h(this,n),t.call(this,A(A({},zr),e))}return d(n,[{key:"documentation",value:function(e){var t={description:"Prefer to use the generic `<button>` element instead of `<input>`.",url:it("@/rules/prefer-button.ts")};if(e){var n='<input type="'.concat(e.type,'">'),r=$r[e.type]||"<button>";t.description="Prefer to use `".concat(r,'` instead of `"').concat(n,"`.")}return t}},{key:"setup",value:function(){var e=this;this.on("attr",(function(t){var n=t.target;if("input"===n.tagName.toLowerCase()&&"type"===t.key.toLowerCase()&&t.value&&!(t.value instanceof me)){var r=t.value.toLowerCase();if(!e.isKeywordIgnored(r)&&Fr.includes(r)){var a={type:r},i='Prefer to use <button> instead of <input type="'.concat(r,'"> when adding buttons');e.report(n,i,t.valueLocation,a)}}}))}}],[{key:"schema",value:function(){return{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},include:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]}}}}]),n}(at),Br={mapping:{article:"article",banner:"header",button:"button",cell:"td",checkbox:"input",complementary:"aside",contentinfo:"footer",figure:"figure",form:"form",heading:"hN",input:"input",link:"a",list:"ul",listbox:"select",listitem:"li",main:"main",navigation:"nav",progressbar:"progress",radio:"input",region:"section",table:"table",textbox:"textarea"},include:null,exclude:null},Ur=function(e){m(n,e);var t=x(n);function n(e){return h(this,n),t.call(this,A(A({},Br),e))}return d(n,[{key:"documentation",value:function(e){var t={description:"Instead of using WAI-ARIA roles prefer to use the native HTML elements.",url:it("@/rules/prefer-native-element.ts")};return e&&(t.description='Instead of using the WAI-ARIA role "'.concat(e.role,'" prefer to use the native <').concat(e.replacement,"> element.")),t}},{key:"setup",value:function(){var e=this,t=this.options.mapping;this.on("attr",(function(n){if("role"===n.key.toLowerCase()&&n.value&&!(n.value instanceof me)){var r=n.value.toLowerCase();if(!e.isIgnored(r)){var a=t[r];if(!n.target.is(a)){var i={role:r,replacement:a},o=e.getLocation(n);e.report(n.target,"Prefer to use the native <".concat(a,"> element"),o,i)}}}}))}},{key:"isIgnored",value:function(e){return!this.options.mapping[e]||this.isKeywordIgnored(e)}},{key:"getLocation",value:function(e){var t=e.location,n=e.valueLocation,r=e.quote?1:0,a=n.offset+n.size-t.offset+r;return{filename:t.filename,line:t.line,column:t.column,offset:t.offset,size:a}}}],[{key:"schema",value:function(){return{exclude:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},include:{anyOf:[{items:{type:"string"},type:"array"},{type:"null"}]},mapping:{type:"object"}}}}]),n}(at),Yr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"While `<tbody>` is optional is relays semantic information about its contents. Where applicable it should also be combined with `<thead>` and `<tfoot>`.",url:it("@/rules/prefer-tbody.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){var n,r=w(t.document.querySelectorAll("table"));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!a.querySelector("> tbody")){var i=a.querySelectorAll("> tr");i.length>=1&&e.report(i[0],"Prefer to wrap <tr> elements in <tbody>")}}}catch(o){r.e(o)}finally{r.f()}}))}}]),n}(at),Gr={target:"all"},Vr=new RegExp("^(\\w+://|//)"),Xr={link:"href",script:"src"},Hr=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,A(A({},Gr),e))).target=r.options.target,r}return d(n,[{key:"documentation",value:function(){return{description:"Subresource Integrity (SRI) `integrity` attribute is required to prevent manipulation from Content Delivery Networks or other third-party hosting.",url:it("@/rules/require-sri.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.previous;e.supportSri(n)&&e.needSri(n)&&(n.hasAttribute("integrity")||e.report(n,'SRI "integrity" attribute is required on <'.concat(n.tagName,"> element"),n.location))}))}},{key:"supportSri",value:function(e){return Object.keys(Xr).includes(e.tagName)}},{key:"needSri",value:function(e){if("all"===this.target)return!0;var t=this.elementSourceAttr(e);if(!t||null===t.value||t.isDynamic)return!1;var n=t.value.toString();return Vr.test(n)}},{key:"elementSourceAttr",value:function(e){var t=Xr[e.tagName];return e.getAttribute(t)}}],[{key:"schema",value:function(){return{target:{enum:["all","crossorigin"],type:"string"}}}}]),n}(at),Wr=function(e){m(r,e);var n=x(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"documentation",value:function(){return{description:"The end tag for `<script>` is a hard requirement and must never be omitted even when using the `src` attribute.",url:it("@/rules/script-element.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(n){var r=n.target;r&&"script"===r.tagName&&r.closed!==t.NodeClosed.EndTag&&e.report(r,"End tag for <".concat(r.tagName,"> must not be omitted"))}))}}]),r}(at),Jr=["","application/ecmascript","application/javascript","text/ecmascript","text/javascript"],Qr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"While valid the HTML5 standard encourages authors to omit the type element for JavaScript resources.",url:it("@/rules/script-type.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.previous;if(n&&"script"===n.tagName){var r=n.getAttribute("type");if(r&&!r.isDynamic){var a=r.value?r.value.toString():"";e.isJavascript(a)&&e.report(n,'"type" attribute is unnecessary for javascript resources',r.keyLocation)}}}))}},{key:"isJavascript",value:function(e){var t=e.replace(/;.*/,"");return Jr.includes(t)}}]),n}(at),Kr=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"Inline SVG elements in IE are focusable by default which may cause issues with tab-ordering. The `focusable` attribute should explicitly be set to avoid unintended behaviour.",url:it("@/rules/svg-focusable.ts")}}},{key:"setup",value:function(){var e=this;this.on("element:ready",(function(t){t.target.is("svg")&&e.validate(t.target)}))}},{key:"validate",value:function(e){e.hasAttribute("focusable")||this.report(e,"<".concat(e.tagName,'> is missing required "focusable" attribute'))}}]),n}(at);function Zr(e){var t=e.getAttribute("alt");return null!==t&&null!==t.value&&(t.isDynamic||""!==t.value.toString())}function ea(e){var t=e.getAttribute("aria-label");return null!==t&&null!==t.value&&(t.isDynamic||""!==t.value.toString())}function ta(e,t){var n=e.getAttribute(t);return Boolean(n&&n.valueMatches(/.+/,!0))}function na(e){return!!function(e){return Boolean(e&&e.nodeType===ye.TEXT_NODE)}(e)&&(e.isDynamic||""!==e.textContent.trim())}function ra(e){return!!Jn(e)&&(!!e.childNodes.some((function(e){return na(e)}))||(!!ta(e,"aria-label")||(!!ta(e,"aria-labelledby")||(!(!e.is("img")||!ta(e,"alt"))||(!!function(e){if(!e.is("input"))return!1;if(e.hasAttribute("value"))return!1;var t=e.getAttribute("type");return Boolean(t&&t.valueMatches(/submit|reset/,!1))}(e)||e.childElements.some((function(e){return ra(e)})))))))}var aa,ia=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(e){var t={description:"The textual content for this element is not valid.",url:it("@/rules/text-content.ts")};if(null==e?void 0:e.textContent)switch(e.textContent){case Q.NONE:t.description="The `<".concat(e.tagName,">` element must not have textual content.");break;case Q.REQUIRED:t.description="The `<".concat(e.tagName,">` element must have textual content.");break;case Q.ACCESSIBLE:t.description="The `<".concat(e.tagName,">` element must have accessible text.")}return t}},{key:"setup",value:function(){var e=this;this.on("element:ready",n.filter,(function(t){var n=t.target;switch(n.meta.textContent){case Q.NONE:e.validateNone(n);break;case Q.REQUIRED:e.validateRequired(n);break;case Q.ACCESSIBLE:e.validateAccessible(n)}}))}},{key:"validateNone",value:function(e){Dn(e)!==Cn.EMPTY_TEXT&&this.reportError(e,e.meta,"".concat(e.annotatedName," must not have text content"))}},{key:"validateRequired",value:function(e){Dn(e)===Cn.EMPTY_TEXT&&this.reportError(e,e.meta,"".concat(e.annotatedName," must have text content"))}},{key:"validateAccessible",value:function(e){Jn(e)&&(ra(e)||this.reportError(e,e.meta,"".concat(e.annotatedName," must have accessible text")))}},{key:"reportError",value:function(e,t,n){this.report(e,n,null,{tagName:e.tagName,textContent:t.textContent})}}],[{key:"filter",value:function(e){var t=e.target;if(!t.meta)return!1;var n=t.meta.textContent;return!(!n||n===Q.DEFAULT)}}]),n}(at),oa=["&aacute;","&abreve;","&ac;","&acd;","&ace;","&acirc;","&acute;","&acy;","&aelig;","&af;","&afr;","&agrave;","&alefsym;","&aleph;","&alpha;","&amacr;","&amalg;","&amp;","&and;","&andand;","&andd;","&andslope;","&andv;","&ang;","&ange;","&angle;","&angmsd;","&angmsdaa;","&angmsdab;","&angmsdac;","&angmsdad;","&angmsdae;","&angmsdaf;","&angmsdag;","&angmsdah;","&angrt;","&angrtvb;","&angrtvbd;","&angsph;","&angst;","&angzarr;","&aogon;","&aopf;","&ap;","&apacir;","&ape;","&apid;","&apos;","&applyfunction;","&approx;","&approxeq;","&aring;","&ascr;","&assign;","&ast;","&asymp;","&asympeq;","&atilde;","&auml;","&awconint;","&awint;","&backcong;","&backepsilon;","&backprime;","&backsim;","&backsimeq;","&backslash;","&barv;","&barvee;","&barwed;","&barwedge;","&bbrk;","&bbrktbrk;","&bcong;","&bcy;","&bdquo;","&becaus;","&because;","&bemptyv;","&bepsi;","&bernou;","&bernoullis;","&beta;","&beth;","&between;","&bfr;","&bigcap;","&bigcirc;","&bigcup;","&bigodot;","&bigoplus;","&bigotimes;","&bigsqcup;","&bigstar;","&bigtriangledown;","&bigtriangleup;","&biguplus;","&bigvee;","&bigwedge;","&bkarow;","&blacklozenge;","&blacksquare;","&blacktriangle;","&blacktriangledown;","&blacktriangleleft;","&blacktriangleright;","&blank;","&blk12;","&blk14;","&blk34;","&block;","&bne;","&bnequiv;","&bnot;","&bopf;","&bot;","&bottom;","&bowtie;","&boxbox;","&boxdl;","&boxdr;","&boxh;","&boxhd;","&boxhu;","&boxminus;","&boxplus;","&boxtimes;","&boxul;","&boxur;","&boxv;","&boxvh;","&boxvl;","&boxvr;","&bprime;","&breve;","&brvbar;","&bscr;","&bsemi;","&bsim;","&bsime;","&bsol;","&bsolb;","&bsolhsub;","&bull;","&bullet;","&bump;","&bumpe;","&bumpeq;","&cacute;","&cap;","&capand;","&capbrcup;","&capcap;","&capcup;","&capdot;","&capitaldifferentiald;","&caps;","&caret;","&caron;","&cayleys;","&ccaps;","&ccaron;","&ccedil;","&ccirc;","&cconint;","&ccups;","&ccupssm;","&cdot;","&cedil;","&cedilla;","&cemptyv;","&cent;","&centerdot;","&cfr;","&chcy;","&check;","&checkmark;","&chi;","&cir;","&circ;","&circeq;","&circlearrowleft;","&circlearrowright;","&circledast;","&circledcirc;","&circleddash;","&circledot;","&circledr;","&circleds;","&circleminus;","&circleplus;","&circletimes;","&cire;","&cirfnint;","&cirmid;","&cirscir;","&clockwisecontourintegral;","&closecurlydoublequote;","&closecurlyquote;","&clubs;","&clubsuit;","&colon;","&colone;","&coloneq;","&comma;","&commat;","&comp;","&compfn;","&complement;","&complexes;","&cong;","&congdot;","&congruent;","&conint;","&contourintegral;","&copf;","&coprod;","&coproduct;","&copy;","&copysr;","&counterclockwisecontourintegral;","&crarr;","&cross;","&cscr;","&csub;","&csube;","&csup;","&csupe;","&ctdot;","&cudarrl;","&cudarrr;","&cuepr;","&cuesc;","&cularr;","&cularrp;","&cup;","&cupbrcap;","&cupcap;","&cupcup;","&cupdot;","&cupor;","&cups;","&curarr;","&curarrm;","&curlyeqprec;","&curlyeqsucc;","&curlyvee;","&curlywedge;","&curren;","&curvearrowleft;","&curvearrowright;","&cuvee;","&cuwed;","&cwconint;","&cwint;","&cylcty;","&dagger;","&daleth;","&darr;","&dash;","&dashv;","&dbkarow;","&dblac;","&dcaron;","&dcy;","&dd;","&ddagger;","&ddarr;","&ddotrahd;","&ddotseq;","&deg;","&del;","&delta;","&demptyv;","&dfisht;","&dfr;","&dhar;","&dharl;","&dharr;","&diacriticalacute;","&diacriticaldot;","&diacriticaldoubleacute;","&diacriticalgrave;","&diacriticaltilde;","&diam;","&diamond;","&diamondsuit;","&diams;","&die;","&differentiald;","&digamma;","&disin;","&div;","&divide;","&divideontimes;","&divonx;","&djcy;","&dlcorn;","&dlcrop;","&dollar;","&dopf;","&dot;","&dotdot;","&doteq;","&doteqdot;","&dotequal;","&dotminus;","&dotplus;","&dotsquare;","&doublebarwedge;","&doublecontourintegral;","&doubledot;","&doubledownarrow;","&doubleleftarrow;","&doubleleftrightarrow;","&doublelefttee;","&doublelongleftarrow;","&doublelongleftrightarrow;","&doublelongrightarrow;","&doublerightarrow;","&doublerighttee;","&doubleuparrow;","&doubleupdownarrow;","&doubleverticalbar;","&downarrow;","&downarrowbar;","&downarrowuparrow;","&downbreve;","&downdownarrows;","&downharpoonleft;","&downharpoonright;","&downleftrightvector;","&downleftteevector;","&downleftvector;","&downleftvectorbar;","&downrightteevector;","&downrightvector;","&downrightvectorbar;","&downtee;","&downteearrow;","&drbkarow;","&drcorn;","&drcrop;","&dscr;","&dscy;","&dsol;","&dstrok;","&dtdot;","&dtri;","&dtrif;","&duarr;","&duhar;","&dwangle;","&dzcy;","&dzigrarr;","&eacute;","&easter;","&ecaron;","&ecir;","&ecirc;","&ecolon;","&ecy;","&eddot;","&edot;","&ee;","&efdot;","&efr;","&eg;","&egrave;","&egs;","&egsdot;","&el;","&element;","&elinters;","&ell;","&els;","&elsdot;","&emacr;","&empty;","&emptyset;","&emptysmallsquare;","&emptyv;","&emptyverysmallsquare;","&emsp13;","&emsp14;","&emsp;","&eng;","&ensp;","&eogon;","&eopf;","&epar;","&eparsl;","&eplus;","&epsi;","&epsilon;","&epsiv;","&eqcirc;","&eqcolon;","&eqsim;","&eqslantgtr;","&eqslantless;","&equal;","&equals;","&equaltilde;","&equest;","&equilibrium;","&equiv;","&equivdd;","&eqvparsl;","&erarr;","&erdot;","&escr;","&esdot;","&esim;","&eta;","&eth;","&euml;","&euro;","&excl;","&exist;","&exists;","&expectation;","&exponentiale;","&fallingdotseq;","&fcy;","&female;","&ffilig;","&fflig;","&ffllig;","&ffr;","&filig;","&filledsmallsquare;","&filledverysmallsquare;","&fjlig;","&flat;","&fllig;","&fltns;","&fnof;","&fopf;","&forall;","&fork;","&forkv;","&fouriertrf;","&fpartint;","&frac12;","&frac13;","&frac14;","&frac15;","&frac16;","&frac18;","&frac23;","&frac25;","&frac34;","&frac35;","&frac38;","&frac45;","&frac56;","&frac58;","&frac78;","&frasl;","&frown;","&fscr;","&gacute;","&gamma;","&gammad;","&gap;","&gbreve;","&gcedil;","&gcirc;","&gcy;","&gdot;","&ge;","&gel;","&geq;","&geqq;","&geqslant;","&ges;","&gescc;","&gesdot;","&gesdoto;","&gesdotol;","&gesl;","&gesles;","&gfr;","&gg;","&ggg;","&gimel;","&gjcy;","&gl;","&gla;","&gle;","&glj;","&gnap;","&gnapprox;","&gne;","&gneq;","&gneqq;","&gnsim;","&gopf;","&grave;","&greaterequal;","&greaterequalless;","&greaterfullequal;","&greatergreater;","&greaterless;","&greaterslantequal;","&greatertilde;","&gscr;","&gsim;","&gsime;","&gsiml;","&gt;","&gtcc;","&gtcir;","&gtdot;","&gtlpar;","&gtquest;","&gtrapprox;","&gtrarr;","&gtrdot;","&gtreqless;","&gtreqqless;","&gtrless;","&gtrsim;","&gvertneqq;","&gvne;","&hacek;","&hairsp;","&half;","&hamilt;","&hardcy;","&harr;","&harrcir;","&harrw;","&hat;","&hbar;","&hcirc;","&hearts;","&heartsuit;","&hellip;","&hercon;","&hfr;","&hilbertspace;","&hksearow;","&hkswarow;","&hoarr;","&homtht;","&hookleftarrow;","&hookrightarrow;","&hopf;","&horbar;","&horizontalline;","&hscr;","&hslash;","&hstrok;","&humpdownhump;","&humpequal;","&hybull;","&hyphen;","&iacute;","&ic;","&icirc;","&icy;","&idot;","&iecy;","&iexcl;","&iff;","&ifr;","&igrave;","&ii;","&iiiint;","&iiint;","&iinfin;","&iiota;","&ijlig;","&im;","&imacr;","&image;","&imaginaryi;","&imagline;","&imagpart;","&imath;","&imof;","&imped;","&implies;","&in;","&incare;","&infin;","&infintie;","&inodot;","&int;","&intcal;","&integers;","&integral;","&intercal;","&intersection;","&intlarhk;","&intprod;","&invisiblecomma;","&invisibletimes;","&iocy;","&iogon;","&iopf;","&iota;","&iprod;","&iquest;","&iscr;","&isin;","&isindot;","&isine;","&isins;","&isinsv;","&isinv;","&it;","&itilde;","&iukcy;","&iuml;","&jcirc;","&jcy;","&jfr;","&jmath;","&jopf;","&jscr;","&jsercy;","&jukcy;","&kappa;","&kappav;","&kcedil;","&kcy;","&kfr;","&kgreen;","&khcy;","&kjcy;","&kopf;","&kscr;","&laarr;","&lacute;","&laemptyv;","&lagran;","&lambda;","&lang;","&langd;","&langle;","&lap;","&laplacetrf;","&laquo;","&larr;","&larrb;","&larrbfs;","&larrfs;","&larrhk;","&larrlp;","&larrpl;","&larrsim;","&larrtl;","&lat;","&latail;","&late;","&lates;","&lbarr;","&lbbrk;","&lbrace;","&lbrack;","&lbrke;","&lbrksld;","&lbrkslu;","&lcaron;","&lcedil;","&lceil;","&lcub;","&lcy;","&ldca;","&ldquo;","&ldquor;","&ldrdhar;","&ldrushar;","&ldsh;","&le;","&leftanglebracket;","&leftarrow;","&leftarrowbar;","&leftarrowrightarrow;","&leftarrowtail;","&leftceiling;","&leftdoublebracket;","&leftdownteevector;","&leftdownvector;","&leftdownvectorbar;","&leftfloor;","&leftharpoondown;","&leftharpoonup;","&leftleftarrows;","&leftrightarrow;","&leftrightarrows;","&leftrightharpoons;","&leftrightsquigarrow;","&leftrightvector;","&lefttee;","&leftteearrow;","&leftteevector;","&leftthreetimes;","&lefttriangle;","&lefttrianglebar;","&lefttriangleequal;","&leftupdownvector;","&leftupteevector;","&leftupvector;","&leftupvectorbar;","&leftvector;","&leftvectorbar;","&leg;","&leq;","&leqq;","&leqslant;","&les;","&lescc;","&lesdot;","&lesdoto;","&lesdotor;","&lesg;","&lesges;","&lessapprox;","&lessdot;","&lesseqgtr;","&lesseqqgtr;","&lessequalgreater;","&lessfullequal;","&lessgreater;","&lessgtr;","&lessless;","&lesssim;","&lessslantequal;","&lesstilde;","&lfisht;","&lfloor;","&lfr;","&lg;","&lge;","&lhar;","&lhard;","&lharu;","&lharul;","&lhblk;","&ljcy;","&ll;","&llarr;","&llcorner;","&lleftarrow;","&llhard;","&lltri;","&lmidot;","&lmoust;","&lmoustache;","&lnap;","&lnapprox;","&lne;","&lneq;","&lneqq;","&lnsim;","&loang;","&loarr;","&lobrk;","&longleftarrow;","&longleftrightarrow;","&longmapsto;","&longrightarrow;","&looparrowleft;","&looparrowright;","&lopar;","&lopf;","&loplus;","&lotimes;","&lowast;","&lowbar;","&lowerleftarrow;","&lowerrightarrow;","&loz;","&lozenge;","&lozf;","&lpar;","&lparlt;","&lrarr;","&lrcorner;","&lrhar;","&lrhard;","&lrm;","&lrtri;","&lsaquo;","&lscr;","&lsh;","&lsim;","&lsime;","&lsimg;","&lsqb;","&lsquo;","&lsquor;","&lstrok;","&lt;","&ltcc;","&ltcir;","&ltdot;","&lthree;","&ltimes;","&ltlarr;","&ltquest;","&ltri;","&ltrie;","&ltrif;","&ltrpar;","&lurdshar;","&luruhar;","&lvertneqq;","&lvne;","&macr;","&male;","&malt;","&maltese;","&map;","&mapsto;","&mapstodown;","&mapstoleft;","&mapstoup;","&marker;","&mcomma;","&mcy;","&mdash;","&mddot;","&measuredangle;","&mediumspace;","&mellintrf;","&mfr;","&mho;","&micro;","&mid;","&midast;","&midcir;","&middot;","&minus;","&minusb;","&minusd;","&minusdu;","&minusplus;","&mlcp;","&mldr;","&mnplus;","&models;","&mopf;","&mp;","&mscr;","&mstpos;","&mu;","&multimap;","&mumap;","&nabla;","&nacute;","&nang;","&nap;","&nape;","&napid;","&napos;","&napprox;","&natur;","&natural;","&naturals;","&nbsp;","&nbump;","&nbumpe;","&ncap;","&ncaron;","&ncedil;","&ncong;","&ncongdot;","&ncup;","&ncy;","&ndash;","&ne;","&nearhk;","&nearr;","&nearrow;","&nedot;","&negativemediumspace;","&negativethickspace;","&negativethinspace;","&negativeverythinspace;","&nequiv;","&nesear;","&nesim;","&nestedgreatergreater;","&nestedlessless;","&newline;","&nexist;","&nexists;","&nfr;","&nge;","&ngeq;","&ngeqq;","&ngeqslant;","&nges;","&ngg;","&ngsim;","&ngt;","&ngtr;","&ngtv;","&nharr;","&nhpar;","&ni;","&nis;","&nisd;","&niv;","&njcy;","&nlarr;","&nldr;","&nle;","&nleftarrow;","&nleftrightarrow;","&nleq;","&nleqq;","&nleqslant;","&nles;","&nless;","&nll;","&nlsim;","&nlt;","&nltri;","&nltrie;","&nltv;","&nmid;","&nobreak;","&nonbreakingspace;","&nopf;","&not;","&notcongruent;","&notcupcap;","&notdoubleverticalbar;","&notelement;","&notequal;","&notequaltilde;","&notexists;","&notgreater;","&notgreaterequal;","&notgreaterfullequal;","&notgreatergreater;","&notgreaterless;","&notgreaterslantequal;","&notgreatertilde;","&nothumpdownhump;","&nothumpequal;","&notin;","&notindot;","&notine;","&notinva;","&notinvb;","&notinvc;","&notlefttriangle;","&notlefttrianglebar;","&notlefttriangleequal;","&notless;","&notlessequal;","&notlessgreater;","&notlessless;","&notlessslantequal;","&notlesstilde;","&notnestedgreatergreater;","&notnestedlessless;","&notni;","&notniva;","&notnivb;","&notnivc;","&notprecedes;","&notprecedesequal;","&notprecedesslantequal;","&notreverseelement;","&notrighttriangle;","&notrighttrianglebar;","&notrighttriangleequal;","&notsquaresubset;","&notsquaresubsetequal;","&notsquaresuperset;","&notsquaresupersetequal;","&notsubset;","&notsubsetequal;","&notsucceeds;","&notsucceedsequal;","&notsucceedsslantequal;","&notsucceedstilde;","&notsuperset;","&notsupersetequal;","&nottilde;","&nottildeequal;","&nottildefullequal;","&nottildetilde;","&notverticalbar;","&npar;","&nparallel;","&nparsl;","&npart;","&npolint;","&npr;","&nprcue;","&npre;","&nprec;","&npreceq;","&nrarr;","&nrarrc;","&nrarrw;","&nrightarrow;","&nrtri;","&nrtrie;","&nsc;","&nsccue;","&nsce;","&nscr;","&nshortmid;","&nshortparallel;","&nsim;","&nsime;","&nsimeq;","&nsmid;","&nspar;","&nsqsube;","&nsqsupe;","&nsub;","&nsube;","&nsubset;","&nsubseteq;","&nsubseteqq;","&nsucc;","&nsucceq;","&nsup;","&nsupe;","&nsupset;","&nsupseteq;","&nsupseteqq;","&ntgl;","&ntilde;","&ntlg;","&ntriangleleft;","&ntrianglelefteq;","&ntriangleright;","&ntrianglerighteq;","&nu;","&num;","&numero;","&numsp;","&nvap;","&nvdash;","&nvge;","&nvgt;","&nvharr;","&nvinfin;","&nvlarr;","&nvle;","&nvlt;","&nvltrie;","&nvrarr;","&nvrtrie;","&nvsim;","&nwarhk;","&nwarr;","&nwarrow;","&nwnear;","&oacute;","&oast;","&ocir;","&ocirc;","&ocy;","&odash;","&odblac;","&odiv;","&odot;","&odsold;","&oelig;","&ofcir;","&ofr;","&ogon;","&ograve;","&ogt;","&ohbar;","&ohm;","&oint;","&olarr;","&olcir;","&olcross;","&oline;","&olt;","&omacr;","&omega;","&omicron;","&omid;","&ominus;","&oopf;","&opar;","&opencurlydoublequote;","&opencurlyquote;","&operp;","&oplus;","&or;","&orarr;","&ord;","&order;","&orderof;","&ordf;","&ordm;","&origof;","&oror;","&orslope;","&orv;","&os;","&oscr;","&oslash;","&osol;","&otilde;","&otimes;","&otimesas;","&ouml;","&ovbar;","&overbar;","&overbrace;","&overbracket;","&overparenthesis;","&par;","&para;","&parallel;","&parsim;","&parsl;","&part;","&partiald;","&pcy;","&percnt;","&period;","&permil;","&perp;","&pertenk;","&pfr;","&phi;","&phiv;","&phmmat;","&phone;","&pi;","&pitchfork;","&piv;","&planck;","&planckh;","&plankv;","&plus;","&plusacir;","&plusb;","&pluscir;","&plusdo;","&plusdu;","&pluse;","&plusminus;","&plusmn;","&plussim;","&plustwo;","&pm;","&poincareplane;","&pointint;","&popf;","&pound;","&pr;","&prap;","&prcue;","&pre;","&prec;","&precapprox;","&preccurlyeq;","&precedes;","&precedesequal;","&precedesslantequal;","&precedestilde;","&preceq;","&precnapprox;","&precneqq;","&precnsim;","&precsim;","&prime;","&primes;","&prnap;","&prne;","&prnsim;","&prod;","&product;","&profalar;","&profline;","&profsurf;","&prop;","&proportion;","&proportional;","&propto;","&prsim;","&prurel;","&pscr;","&psi;","&puncsp;","&qfr;","&qint;","&qopf;","&qprime;","&qscr;","&quaternions;","&quatint;","&quest;","&questeq;","&quot;","&raarr;","&race;","&racute;","&radic;","&raemptyv;","&rang;","&rangd;","&range;","&rangle;","&raquo;","&rarr;","&rarrap;","&rarrb;","&rarrbfs;","&rarrc;","&rarrfs;","&rarrhk;","&rarrlp;","&rarrpl;","&rarrsim;","&rarrtl;","&rarrw;","&ratail;","&ratio;","&rationals;","&rbarr;","&rbbrk;","&rbrace;","&rbrack;","&rbrke;","&rbrksld;","&rbrkslu;","&rcaron;","&rcedil;","&rceil;","&rcub;","&rcy;","&rdca;","&rdldhar;","&rdquo;","&rdquor;","&rdsh;","&re;","&real;","&realine;","&realpart;","&reals;","&rect;","&reg;","&reverseelement;","&reverseequilibrium;","&reverseupequilibrium;","&rfisht;","&rfloor;","&rfr;","&rhar;","&rhard;","&rharu;","&rharul;","&rho;","&rhov;","&rightanglebracket;","&rightarrow;","&rightarrowbar;","&rightarrowleftarrow;","&rightarrowtail;","&rightceiling;","&rightdoublebracket;","&rightdownteevector;","&rightdownvector;","&rightdownvectorbar;","&rightfloor;","&rightharpoondown;","&rightharpoonup;","&rightleftarrows;","&rightleftharpoons;","&rightrightarrows;","&rightsquigarrow;","&righttee;","&rightteearrow;","&rightteevector;","&rightthreetimes;","&righttriangle;","&righttrianglebar;","&righttriangleequal;","&rightupdownvector;","&rightupteevector;","&rightupvector;","&rightupvectorbar;","&rightvector;","&rightvectorbar;","&ring;","&risingdotseq;","&rlarr;","&rlhar;","&rlm;","&rmoust;","&rmoustache;","&rnmid;","&roang;","&roarr;","&robrk;","&ropar;","&ropf;","&roplus;","&rotimes;","&roundimplies;","&rpar;","&rpargt;","&rppolint;","&rrarr;","&rrightarrow;","&rsaquo;","&rscr;","&rsh;","&rsqb;","&rsquo;","&rsquor;","&rthree;","&rtimes;","&rtri;","&rtrie;","&rtrif;","&rtriltri;","&ruledelayed;","&ruluhar;","&rx;","&sacute;","&sbquo;","&sc;","&scap;","&scaron;","&sccue;","&sce;","&scedil;","&scirc;","&scnap;","&scne;","&scnsim;","&scpolint;","&scsim;","&scy;","&sdot;","&sdotb;","&sdote;","&searhk;","&searr;","&searrow;","&sect;","&semi;","&seswar;","&setminus;","&setmn;","&sext;","&sfr;","&sfrown;","&sharp;","&shchcy;","&shcy;","&shortdownarrow;","&shortleftarrow;","&shortmid;","&shortparallel;","&shortrightarrow;","&shortuparrow;","&shy;","&sigma;","&sigmaf;","&sigmav;","&sim;","&simdot;","&sime;","&simeq;","&simg;","&simge;","&siml;","&simle;","&simne;","&simplus;","&simrarr;","&slarr;","&smallcircle;","&smallsetminus;","&smashp;","&smeparsl;","&smid;","&smile;","&smt;","&smte;","&smtes;","&softcy;","&sol;","&solb;","&solbar;","&sopf;","&spades;","&spadesuit;","&spar;","&sqcap;","&sqcaps;","&sqcup;","&sqcups;","&sqrt;","&sqsub;","&sqsube;","&sqsubset;","&sqsubseteq;","&sqsup;","&sqsupe;","&sqsupset;","&sqsupseteq;","&squ;","&square;","&squareintersection;","&squaresubset;","&squaresubsetequal;","&squaresuperset;","&squaresupersetequal;","&squareunion;","&squarf;","&squf;","&srarr;","&sscr;","&ssetmn;","&ssmile;","&sstarf;","&star;","&starf;","&straightepsilon;","&straightphi;","&strns;","&sub;","&subdot;","&sube;","&subedot;","&submult;","&subne;","&subplus;","&subrarr;","&subset;","&subseteq;","&subseteqq;","&subsetequal;","&subsetneq;","&subsetneqq;","&subsim;","&subsub;","&subsup;","&succ;","&succapprox;","&succcurlyeq;","&succeeds;","&succeedsequal;","&succeedsslantequal;","&succeedstilde;","&succeq;","&succnapprox;","&succneqq;","&succnsim;","&succsim;","&suchthat;","&sum;","&sung;","&sup1;","&sup2;","&sup3;","&sup;","&supdot;","&supdsub;","&supe;","&supedot;","&superset;","&supersetequal;","&suphsol;","&suphsub;","&suplarr;","&supmult;","&supne;","&supplus;","&supset;","&supseteq;","&supseteqq;","&supsetneq;","&supsetneqq;","&supsim;","&supsub;","&supsup;","&swarhk;","&swarr;","&swarrow;","&swnwar;","&szlig;","&tab;","&target;","&tau;","&tbrk;","&tcaron;","&tcedil;","&tcy;","&tdot;","&telrec;","&tfr;","&there4;","&therefore;","&theta;","&thetasym;","&thetav;","&thickapprox;","&thicksim;","&thickspace;","&thinsp;","&thinspace;","&thkap;","&thksim;","&thorn;","&tilde;","&tildeequal;","&tildefullequal;","&tildetilde;","&times;","&timesb;","&timesbar;","&timesd;","&tint;","&toea;","&top;","&topbot;","&topcir;","&topf;","&topfork;","&tosa;","&tprime;","&trade;","&triangle;","&triangledown;","&triangleleft;","&trianglelefteq;","&triangleq;","&triangleright;","&trianglerighteq;","&tridot;","&trie;","&triminus;","&tripledot;","&triplus;","&trisb;","&tritime;","&trpezium;","&tscr;","&tscy;","&tshcy;","&tstrok;","&twixt;","&twoheadleftarrow;","&twoheadrightarrow;","&uacute;","&uarr;","&uarrocir;","&ubrcy;","&ubreve;","&ucirc;","&ucy;","&udarr;","&udblac;","&udhar;","&ufisht;","&ufr;","&ugrave;","&uhar;","&uharl;","&uharr;","&uhblk;","&ulcorn;","&ulcorner;","&ulcrop;","&ultri;","&umacr;","&uml;","&underbar;","&underbrace;","&underbracket;","&underparenthesis;","&union;","&unionplus;","&uogon;","&uopf;","&uparrow;","&uparrowbar;","&uparrowdownarrow;","&updownarrow;","&upequilibrium;","&upharpoonleft;","&upharpoonright;","&uplus;","&upperleftarrow;","&upperrightarrow;","&upsi;","&upsih;","&upsilon;","&uptee;","&upteearrow;","&upuparrows;","&urcorn;","&urcorner;","&urcrop;","&uring;","&urtri;","&uscr;","&utdot;","&utilde;","&utri;","&utrif;","&uuarr;","&uuml;","&uwangle;","&vangrt;","&varepsilon;","&varkappa;","&varnothing;","&varphi;","&varpi;","&varpropto;","&varr;","&varrho;","&varsigma;","&varsubsetneq;","&varsubsetneqq;","&varsupsetneq;","&varsupsetneqq;","&vartheta;","&vartriangleleft;","&vartriangleright;","&vbar;","&vbarv;","&vcy;","&vdash;","&vdashl;","&vee;","&veebar;","&veeeq;","&vellip;","&verbar;","&vert;","&verticalbar;","&verticalline;","&verticalseparator;","&verticaltilde;","&verythinspace;","&vfr;","&vltri;","&vnsub;","&vnsup;","&vopf;","&vprop;","&vrtri;","&vscr;","&vsubne;","&vsupne;","&vvdash;","&vzigzag;","&wcirc;","&wedbar;","&wedge;","&wedgeq;","&weierp;","&wfr;","&wopf;","&wp;","&wr;","&wreath;","&wscr;","&xcap;","&xcirc;","&xcup;","&xdtri;","&xfr;","&xharr;","&xi;","&xlarr;","&xmap;","&xnis;","&xodot;","&xopf;","&xoplus;","&xotime;","&xrarr;","&xscr;","&xsqcup;","&xuplus;","&xutri;","&xvee;","&xwedge;","&yacute;","&yacy;","&ycirc;","&ycy;","&yen;","&yfr;","&yicy;","&yopf;","&yscr;","&yucy;","&yuml;","&zacute;","&zcaron;","&zcy;","&zdot;","&zeetrf;","&zerowidthspace;","&zeta;","&zfr;","&zhcy;","&zigrarr;","&zopf;","&zscr;","&zwj;","&zwnj;"],sa=/&([a-z0-9]+|#x?[0-9a-f]+);/gi,ua=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(e){return{description:"HTML defines a set of valid character references but ".concat(e||"this"," is not a valid one."),url:it("@/rules/unrecognized-char-ref.ts")}}},{key:"setup",value:function(){var e=this;this.on("element:ready",(function(t){var n,r=w(t.target.childNodes);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.nodeType===ye.TEXT_NODE&&e.findCharacterReferences(a.textContent,a.location)}}catch(i){r.e(i)}finally{r.f()}})),this.on("attr",(function(t){t.value&&e.findCharacterReferences(t.value.toString(),t.valueLocation)}))}},{key:"findCharacterReferences",value:function(e,t){var n;do{if(n=sa.exec(e)){var r=n[0];if(r.startsWith("&#"))continue;if(oa.includes(r))continue;var a=ge(t,n.index,n.index+r.length);this.report(null,'Unrecognized character reference "'.concat(r,'"'),a,r)}}while(n)}}]),n}(at);!function(e){e[e.Any=0]="Any",e[e.AlwaysOmit=1]="AlwaysOmit",e[e.AlwaysSelfclose=2]="AlwaysSelfclose"}(aa||(aa={}));var la={style:"omit"},ca=function(e){m(r,e);var n=x(r);function r(e){var t;return h(this,r),(t=n.call(this,A(A({},la),e))).style=function(e){switch(e){case"any":return aa.Any;case"omit":return aa.AlwaysOmit;case"selfclose":case"selfclosing":return aa.AlwaysSelfclose;default:throw new Error('Invalid style "'.concat(e,'" for "void" rule'))}}(t.options.style),t}return d(r,[{key:"deprecated",get:function(){return!0}},{key:"documentation",value:function(){return{description:"HTML void elements cannot have any content and must not have an end tag.",url:it("@/rules/void.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.target,r=t.previous;n&&n.meta&&e.validateCurrent(n),r&&r.meta&&e.validateActive(r,r.meta)}))}},{key:"validateCurrent",value:function(e){e.voidElement&&e.closed===t.NodeClosed.EndTag&&this.report(null,"End tag for <".concat(e.tagName,"> must be omitted"),e.location)}},{key:"validateActive",value:function(e,n){if(!n.foreign){var r=e.closed===t.NodeClosed.VoidOmitted||e.closed===t.NodeClosed.VoidSelfClosed;e.voidElement&&(this.style===aa.AlwaysOmit&&e.closed===t.NodeClosed.VoidSelfClosed&&this.report(e,"Expected omitted end tag <".concat(e.tagName,"> instead of self-closing element <").concat(e.tagName,"/>")),this.style===aa.AlwaysSelfclose&&e.closed===t.NodeClosed.VoidOmitted&&this.report(e,"Expected self-closing element <".concat(e.tagName,"/> instead of omitted end-tag <").concat(e.tagName,">"))),r&&!1===e.voidElement&&this.report(e,"End tag for <".concat(e.tagName,"> must not be omitted"))}}}],[{key:"schema",value:function(){return{style:{enum:["any","omit","selfclose","selfclosing"],type:"string"}}}}]),r}(at);var fa,da=function(e){m(r,e);var n=x(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"documentation",value:function(e){var t={description:"HTML void elements cannot have any content and must not have content or end tag.",url:it("@/rules/void-content.ts")};return e&&(t.description="<".concat(e,"> is a void element and must not have content or end tag.")),t}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(n){var r=n.target;r&&r.voidElement&&r.closed===t.NodeClosed.EndTag&&e.report(null,"End tag for <".concat(r.tagName,"> must be omitted"),r.location,r.tagName)}))}}]),r}(at);!function(e){e[e.AlwaysOmit=1]="AlwaysOmit",e[e.AlwaysSelfclose=2]="AlwaysSelfclose"}(fa||(fa={}));var ha={style:"omit"},pa=function(e){m(r,e);var n=x(r);function r(e){var t;return h(this,r),(t=n.call(this,A(A({},ha),e))).style=function(e){switch(e){case"omit":return fa.AlwaysOmit;case"selfclose":case"selfclosing":return fa.AlwaysSelfclose;default:throw new Error('Invalid style "'.concat(e,'" for "void-style" rule'))}}(t.options.style),t}return d(r,[{key:"documentation",value:function(e){var t={description:"The current configuration requires a specific style for ending void elements.",url:it("@/rules/void-style.ts")};if(e){var n=function(e){switch(e){case fa.AlwaysOmit:return["omit end tag",""];case fa.AlwaysSelfclose:return["be self-closed","/"];default:throw new Error("Unknown style")}}(e.style),r=f(n,2),a=r[0],i=r[1];t.description="The current configuration requires void elements to ".concat(a,", use <").concat(e.tagName).concat(i,"> instead.")}return t}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.previous;n&&n.meta&&e.validateActive(n)}))}},{key:"validateActive",value:function(e){e.voidElement&&(this.shouldBeOmitted(e)&&this.report(e,"Expected omitted end tag <".concat(e.tagName,"> instead of self-closing element <").concat(e.tagName,"/>")),this.shouldBeSelfClosed(e)&&this.report(e,"Expected self-closing element <".concat(e.tagName,"/> instead of omitted end-tag <").concat(e.tagName,">")))}},{key:"report",value:function(e,t){var n={style:this.style,tagName:e.tagName};o(g(r.prototype),"report",this).call(this,e,t,null,n)}},{key:"shouldBeOmitted",value:function(e){return this.style===fa.AlwaysOmit&&e.closed===t.NodeClosed.VoidSelfClosed}},{key:"shouldBeSelfClosed",value:function(e){return this.style===fa.AlwaysSelfclose&&e.closed===t.NodeClosed.VoidOmitted}}],[{key:"schema",value:function(){return{style:{enum:["omit","selfclose","selfclosing"],type:"string"}}}}]),r}(at);var ma=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"WCAG 2.1 requires each `<a>` anchor link to have a text describing the purpose of the link using either plain text or an `<img>` with the `alt` attribute set.",url:it("@/rules/wcag/h30.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){var n,r=w(t.document.getElementsByTagName("a"));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(Jn(a))if(Dn(a)===Cn.EMPTY_TEXT)if(!a.querySelectorAll("img").some((function(e){return Zr(e)}))){var i=a.querySelectorAll("[aria-label]");ea(a)||i.some((function(e){return ea(e)}))||e.report(a,"Anchor link must have a text describing its purpose")}}}catch(o){r.e(o)}finally{r.f()}}))}}]),n}(at),va=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"WCAG 2.1 requires each `<form>` element to have at least one submit button.",url:it("@/rules/wcag/h32.ts")}}},{key:"setup",value:function(){var e=this,t=this.getTagsWithProperty("form").join(",");this.on("dom:ready",(function(n){var r,a=n.document,i=w(a.querySelectorAll(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;ya(o)||(ba(a,o)||e.report(o,"<".concat(o.tagName,"> element must have a submit button")))}}catch(s){i.e(s)}finally{i.f()}}))}}]),n}(at);function ga(e){var t=e.getAttribute("type");return Boolean(t&&t.valueMatches(/submit|image/))}function ya(e){return e.querySelectorAll("button,input").filter(ga).filter((function(e){return!e.hasAttribute("form")})).length>0}function ba(e,t){var n=t.id;if(!n)return!1;var r=e.querySelectorAll("button[form],input[form]").filter(ga).filter((function(e){return function(e,t){var n=t.getAttribute("form");return Boolean(n&&n.valueMatches(e,!0))}(n,e)}));return r.length>0}var ka=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:'WCAG 2.1 requires all images used as submit buttons to have a textual description using the alt attribute. The alt text cannot be empty (`alt=""`).',url:it("@/rules/wcag/h36.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.previous;"input"===n.tagName&&"image"===n.getAttributeValue("type")&&(Zr(n)||e.report(n,"image used as submit button must have alt text"))}))}}]),n}(at),wa={allowEmpty:!0,alias:[]},Ta=function(e){m(n,e);var t=x(n);function n(e){var r;return h(this,n),r=t.call(this,A(A({},wa),e)),Array.isArray(r.options.alias)||(r.options.alias=[r.options.alias]),r}return d(n,[{key:"documentation",value:function(){return{description:"Both HTML5 and WCAG 2.0 requires images to have a alternative text for each image.",url:it("@/rules/wcag/h37.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.previous;if(n&&"img"===n.tagName&&Jn(n)){var r=n.getAttributeValue("alt");if(!(r||""===r&&e.options.allowEmpty)){var a,i=w(e.options.alias);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(n.getAttribute(o))return}}catch(s){i.e(s)}finally{i.f()}e.report(n,'<img> is missing required "alt" attribute',n.location)}}}))}}],[{key:"schema",value:function(){return{alias:{anyOf:[{items:{type:"string"},type:"array"},{type:"string"}]},allowEmpty:{type:"boolean"}}}}]),n}(at),Ea=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"A decorative image cannot have a title attribute. Either remove `title` or add a descriptive `alt` text.",url:it("@/rules/wcag/h67.ts")}}},{key:"setup",value:function(){var e=this;this.on("tag:end",(function(t){var n=t.target;if(n&&"img"===n.tagName){var r=n.getAttribute("title");if(r&&""!==r.value){var a=n.getAttributeValue("alt");a&&""!==a||e.report(n,"<img> with empty alt text cannot have title attribute",r.keyLocation)}}}))}}]),n}(at),Aa=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"documentation",value:function(){return{description:"H71: Providing a description for groups of form controls using fieldset and legend elements",url:it("@/rules/wcag/h71.ts")}}},{key:"setup",value:function(){var e=this;this.on("dom:ready",(function(t){var n,r=w(t.document.querySelectorAll(e.selector));try{for(r.s();!(n=r.n()).done;){var a=n.value;e.validate(a)}}catch(i){r.e(i)}finally{r.f()}}))}},{key:"validate",value:function(e){0===e.querySelectorAll("> legend").length&&this.reportNode(e)}},{key:"reportNode",value:function(e){o(g(n.prototype),"report",this).call(this,e,"".concat(e.annotatedName," must have a <legend> as the first child"))}},{key:"selector",get:function(){return this.getTagsDerivedFrom("fieldset").join(",")}}]),n}(at),xa=A({"allowed-links":dt,"aria-hidden-body":ht,"aria-label-misuse":mt,"attr-case":bt,"attr-delimiter":Ht,"attr-pattern":Qt,"attr-quotes":Zt,"attr-spacing":en,"attribute-allowed-values":tn,"attribute-boolean-style":rn,"attribute-empty-style":sn,"class-pattern":pn,"close-attr":mn,"close-order":vn,deprecated:yn,"deprecated-rule":bn,"doctype-html":kn,"doctype-style":Tn,"element-case":An,"element-name":qn,"element-permitted-content":Nn,"element-permitted-occurrences":Sn,"element-permitted-order":On,"element-required-attributes":In,"element-required-content":Ln,"empty-heading":Mn,"empty-title":Fn,"heading-level":_n,"id-pattern":Un,"input-attributes":Vn,"input-missing-label":er,"long-title":rr,"meta-refresh":ar,"missing-doctype":ir,"multiple-labeled-controls":or,"no-autoplay":ur,"no-conditional-comment":lr,"no-deprecated-attr":cr,"no-dup-attr":fr,"no-dup-class":dr,"no-dup-id":hr,"no-implicit-close":mr,"no-inline-style":gr,"no-missing-references":kr,"no-multiple-main":wr,"no-raw-characters":Cr,"no-redundant-for":Nr,"no-redundant-role":Or,"no-self-closing":Rr,"no-style-tag":Dr,"no-trailing-whitespace":Pr,"no-unknown-elements":jr,"no-utf8-bom":Mr,"prefer-button":_r,"prefer-native-element":Ur,"prefer-tbody":Yr,"require-sri":Hr,"script-element":Wr,"script-type":Qr,"svg-focusable":Kr,"text-content":ia,"unrecognized-char-ref":ua,void:ca,"void-content":da,"void-style":pa},{"wcag/h30":ma,"wcag/h32":va,"wcag/h36":ka,"wcag/h37":Ta,"wcag/h67":Ea,"wcag/h71":Aa}),qa={},Ca={rules:{"input-missing-label":"error","heading-level":"error","missing-doctype":"error","no-missing-references":"error","require-sri":"error"}},Na={rules:{"aria-hidden-body":"error","aria-label-misuse":"error","attr-case":"error","attr-delimiter":"error","attr-quotes":"error","attr-spacing":"error","attribute-allowed-values":"error","attribute-boolean-style":"error","attribute-empty-style":"error","close-attr":"error","close-order":"error",deprecated:"error","deprecated-rule":"warn","doctype-html":"error","doctype-style":"error","element-case":"error","element-name":"error","element-permitted-content":"error","element-permitted-occurrences":"error","element-permitted-order":"error","element-required-attributes":"error","element-required-content":"error","empty-heading":"error","empty-title":"error","input-attributes":"error","long-title":"error","meta-refresh":"error","multiple-labeled-controls":"error","no-autoplay":["error",{include:["audio","video"]}],"no-conditional-comment":"error","no-deprecated-attr":"error","no-dup-attr":"error","no-dup-class":"error","no-dup-id":"error","no-implicit-close":"error","no-inline-style":"error","no-multiple-main":"error","no-raw-characters":"error","no-redundant-for":"error","no-redundant-role":"error","no-self-closing":"error","no-trailing-whitespace":"error","no-utf8-bom":"error","prefer-button":"error","prefer-native-element":"error","prefer-tbody":"error","script-element":"error","script-type":"error","svg-focusable":"error","text-content":"error","unrecognized-char-ref":"error",void:"off","void-content":"error","void-style":"error","wcag/h30":"error","wcag/h32":"error","wcag/h36":"error","wcag/h37":"error","wcag/h67":"error","wcag/h71":"error"}},Sa={"html-validate:a17y":{rules:{"aria-hidden-body":"error","aria-label-misuse":"error","deprecated-rule":"warn","empty-heading":"error","empty-title":"error","meta-refresh":"error","multiple-labeled-controls":"error","no-autoplay":["error",{include:["audio","video"]}],"no-dup-id":"error","no-redundant-for":"error","no-redundant-role":"error","prefer-native-element":"error","svg-focusable":"error","text-content":"error","wcag/h30":"error","wcag/h32":"error","wcag/h36":"error","wcag/h37":"error","wcag/h67":"error","wcag/h71":"error"}},"html-validate:document":Ca,"html-validate:recommended":Na,"html-validate:standard":{rules:{"attr-spacing":"error","attribute-allowed-values":"error","close-attr":"error","close-order":"error",deprecated:"error","deprecated-rule":"warn","doctype-html":"error","element-name":"error","element-permitted-content":"error","element-permitted-occurrences":"error","element-permitted-order":"error","element-required-attributes":"error","element-required-content":"error","multiple-labeled-controls":"error","no-deprecated-attr":"error","no-dup-attr":"error","no-dup-id":"error","no-multiple-main":"error","no-raw-characters":["error",{relaxed:!0}],"script-element":"error","unrecognized-char-ref":"error","void-content":"error"}},"htmlvalidate:recommended":Na,"htmlvalidate:document":Ca},Oa=function(){function e(t){var n=t.metaTable,r=t.plugins,a=t.rules,i=t.transformers;h(this,e),this.metaTable=n,this.plugins=r,this.rules=a,this.transformers=i}return d(e,[{key:"getMetaTable",value:function(){return this.metaTable}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getRules",value:function(){return this.rules}},{key:"transformSource",value:function(e,t){var n=this,r=this.findTransformer(t||e.filename),a={hasChain:function(e){return!!n.findTransformer(e)},chain:function(e,t){return n.transformSource(e,t)}};if(!r)return[e];try{return Array.from(r.fn.call(a,e),(function(e){return e.transformedBy=e.transformedBy||[],e.transformedBy.push(r.name),e}))}catch(i){throw new G('When transforming "'.concat(e.filename,'": ').concat(i.message),i)}}},{key:"transformFilename",value:function(e){var t="/dev/stdin"!==e?e:0,n=j.default.readFileSync(t,{encoding:"utf8"}),r={data:n,filename:e,line:1,column:1,offset:0,originalData:n};return this.transformSource(r)}},{key:"canTransform",value:function(e){return!!this.findTransformer(e)}},{key:"findTransformer",value:function(e){var t=this.transformers.find((function(t){return t.pattern.test(e)}));return null!=t?t:null}}]),e}(),Ia=null,La=new F.default({strict:!0,strictTuples:!0,strictTypes:!0});La.addMetaSchema(Y);var Ra=La.compile(Be);function Da(e,t){return t}function Pa(e,t){var n=$.default(e,A(A({},t),{},{rules:{}}));t.rules&&(n.rules=$.default(n.rules,t.rules,{arrayMerge:Da}));var r=e.root||t.root;return r&&(n.root=r),n}function ja(e){var t;try{t=J(e)}catch(i){throw new vt('Failed to read configuration from "'.concat(e,'"'),i)}for(var n=0,r=["extends","elements","plugins"];n<r.length;n++){var a=r[n];t[a]&&(t[a]=t[a].map((function(t){return Ma.expandRelative(t,z.default.dirname(e))})))}return t}var Ma=function(){function e(t){var n;h(this,e),this.transformers=[];this.config=Pa({extends:[],plugins:[],rules:{},transform:{}},t||{}),this.metaTable=null,this.rootDir=this.findRootDir(),this.initialized=!1,this.plugins=this.loadPlugins(this.config.plugins||[]),this.configurations=this.loadConfigurations(this.plugins),this.extendMeta(this.plugins),this.config=this.extendConfig(null!==(n=this.config.extends)&&void 0!==n?n:[]),this.config.extends=[],t&&t.rules&&(this.config=Pa(this.config,{rules:t.rules}))}return d(e,[{key:"init",value:function(){this.initialized||(this.transformers=this.precompileTransformers(this.config.transform||{}),this.initialized=!0)}},{key:"isRootFound",value:function(){return Boolean(this.config.root)}},{key:"merge",value:function(t){return new e(Pa(this.config,t.config))}},{key:"extendConfig",value:function(t){if(0===t.length)return this.config;for(var n={},r=0;r<t.length;r++){var a=t[r];n=Pa(n,this.configurations.has(a)?this.configurations.get(a):e.fromFile(a).config)}return Pa(n,this.config)}},{key:"getMetaTable",value:function(){if(this.metaTable)return this.metaTable;var e,t=new le,r=this.config.elements||["html5"],a=w(this.getPlugins());try{for(a.s();!(e=a.n()).done;){var i=e.value;i.elementSchema&&t.extendValidationSchema(i.elementSchema)}}catch(c){a.e(c)}finally{a.f()}var o,s=w(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;if("string"==typeof u){var l=void 0;if(l=z.default.join(H,"elements","".concat(u,".json")),j.default.existsSync(l))t.loadFromFile(l);else if(l=u.replace("<rootDir>",this.rootDir),j.default.existsSync(l))t.loadFromFile(l);else try{t.loadFromObject(n(42366)(u))}catch(c){throw new vt('Failed to load elements from "'.concat(u,'": ').concat(c.message),c)}}else t.loadFromObject(u)}}catch(c){s.e(c)}finally{s.f()}return t.init(),this.metaTable=t}},{key:"get",value:function(){var e=this,t=A({},this.config);return t.elements&&(t.elements=t.elements.map((function(t){return"string"==typeof t?t.replace(e.rootDir,"<rootDir>"):t}))),delete t.extends,t}},{key:"getRules",value:function(){var t;return e.getRulesObject(null!==(t=this.config.rules)&&void 0!==t?t:{})}},{key:"getPlugins",value:function(){return this.plugins}},{key:"loadPlugins",value:function(e){var t=this;return e.map((function(e){try{var r=n(42366)(e.replace("<rootDir>",t.rootDir));return r.name=r.name||e,r.originalName=e,r}catch(a){throw new vt('Failed to load plugin "'.concat(e,'": ').concat(a),a)}}))}},{key:"loadConfigurations",value:function(t){for(var n=new Map,r=0,a=Object.entries(Sa);r<a.length;r++){var i=f(a[r],2),o=i[0],s=i[1];e.validate(s,o),n.set(o,s)}var u,l=w(t);try{for(l.s();!(u=l.n()).done;)for(var c=u.value,d=0,h=Object.entries(c.configs||{});d<h.length;d++){var p=f(h[d],2),m=p[0],v=p[1];v&&(e.validate(v,m),n.set("".concat(c.name,":").concat(m),v),c.name!==c.originalName&&n.set("".concat(c.originalName,":").concat(m),v))}}catch(g){l.e(g)}finally{l.f()}return n}},{key:"extendMeta",value:function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.elementSchema){var a=r.elementSchema.properties;if(a)for(var i=0,o=Object.entries(a);i<o.length;i++){var s=f(o[i],2),u=s[0],l=s[1],c=u;l.copyable&&!Z.includes(c)&&Z.push(c)}}}}catch(d){n.e(d)}finally{n.f()}}},{key:"resolve",value:function(){return new Oa(this.resolveData())}},{key:"resolveData",value:function(){return{metaTable:this.getMetaTable(),plugins:this.getPlugins(),rules:this.getRules(),transformers:this.transformers}}},{key:"precompileTransformers",value:function(e){var t=this;return Object.entries(e).map((function(e){var n=f(e,2),r=n[0],a=n[1];try{var i=t.getTransformFunction(a),o=i.api||0;if(o!==He.VERSION)throw new vt("Transformer uses API version ".concat(o," but only version ").concat(He.VERSION," is supported"));return{pattern:new RegExp(r),name:a,fn:i}}catch(s){throw new vt(s instanceof vt?'Failed to load transformer "'.concat(a,'": ').concat(s.message):'Failed to load transformer "'.concat(a,'"'),s)}}))}},{key:"getTransformFunction",value:function(e){var t=e.match(/(.*):(.*)/);if(t){var n=f(t,3),r=n[1],a=n[2];return this.getNamedTransformerFromPlugin(e,r,a)}var i=this.plugins.find((function(t){return t.name===e}));return i?this.getUnnamedTransformerFromPlugin(e,i):this.getTransformerFromModule(e)}},{key:"getNamedTransformerFromPlugin",value:function(e,t,n){var r=this.plugins.find((function(e){return e.name===t}));if(!r)throw new vt('No plugin named "'.concat(t,'" has been loaded'));if(!r.transformer)throw new vt("Plugin does not expose any transformer");if("function"==typeof r.transformer)throw new vt('Transformer "'.concat(e,'" refers to named transformer but plugin exposes only unnamed, use "').concat(t,'" instead.'));var a=r.transformer[n];if(!a)throw new vt('Plugin "'.concat(t,'" does not expose a transformer named "').concat(n,'".'));return a}},{key:"getUnnamedTransformerFromPlugin",value:function(e,t){if(!t.transformer)throw new vt("Plugin does not expose any transformer");if("function"!=typeof t.transformer){if(t.transformer.default)return t.transformer.default;throw new vt('Transformer "'.concat(e,'" refers to unnamed transformer but plugin exposes only named.'))}return t.transformer}},{key:"getTransformerFromModule",value:function(e){var t=e.replace("<rootDir>",this.rootDir),r=n(42366)(t);if("function"!=typeof r){if(r.transformer)throw new vt("Module is not a valid transformer. This looks like a plugin, did you forget to load the plugin first?");throw new vt("Module is not a valid transformer.")}return r}},{key:"rootDirCache",get:function(){return Ia},set:function(e){Ia=e}},{key:"findRootDir",value:function(){var e=this.rootDirCache;if(null!==e)return e;for(var t=a.cwd();;){var n=z.default.join(t,"package.json");if(j.default.existsSync(n))return this.rootDirCache=t;var r=t;if((t=z.default.dirname(t))===r)break}return this.rootDirCache=a.cwd()}}],[{key:"empty",value:function(){return new e({extends:[],rules:{},plugins:[],transform:{}})}},{key:"fromObject",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.validate(t,n),new e(t)}},{key:"fromFile",value:function(t){var n=ja(t);return e.fromObject(n,t)}},{key:"validate",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Ra(t))throw new X(r,"Invalid configuration",t,Be,null!==(n=Ra.errors)&&void 0!==n?n:[]);if(t.rules){var a,i=w(e.getRulesObject(t.rules).entries());try{for(i.s();!(a=i.n()).done;){var o=f(a.value,2),s=o[0],u=f(o[1],2)[1],l=xa[s],c="/rules/".concat(s,"/1");at.validateOptions(l,s,c,u,r,t)}}catch(d){i.e(d)}finally{i.f()}}}},{key:"defaultConfig",value:function(){return new e(qa)}},{key:"expandRelative",value:function(e,t){return"."===e[0]?z.default.normalize("".concat(t,"/").concat(e)):e}},{key:"getRulesObject",value:function(e){for(var t=new Map,n=0,r=Object.entries(e);n<r.length;n++){var a=f(r[n],2),i=a[0],o=a[1];Array.isArray(o)?1===o.length&&(o=[o[0],{}]):o=[o,{}];var s=Ze(o[0]);t.set(i,[s,o[1]])}return t}}]),e}(),Fa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma;h(this,e);var r=n.empty();this.configFactory=n,this.globalConfig=r.merge(t?this.loadFromObject(t):this.defaultConfig())}return d(e,[{key:"empty",value:function(){return this.configFactory.empty()}},{key:"loadFromObject",value:function(e,t){return this.configFactory.fromObject(e,t)}},{key:"loadFromFile",value:function(e){return this.configFactory.fromFile(e)}}]),e}(),$a=function(){function e(){h(this,e),this.listeners={}}return d(e,[{key:"on",value:function(e,t){var n,r=this,a=e.split(",").map((function(e){return e.trim()})),i=w(a);try{for(i.s();!(n=i.n()).done;){var o=n.value;this.listeners[o]=this.listeners[o]||[],this.listeners[o].push(t)}}catch(s){i.e(s)}finally{i.f()}return function(){var e,n=w(a);try{for(n.s();!(e=n.n()).done;){var i=e.value;r.listeners[i]=r.listeners[i].filter((function(e){return e!==t}))}}catch(s){n.e(s)}finally{n.f()}}}},{key:"once",value:function(e,t){var n=this.on(e,(function(e,r){t(e,r),n()}));return n}},{key:"trigger",value:function(e,t){var n,r;[].concat(l(null!==(n=this.listeners[e])&&void 0!==n?n:[]),l(null!==(r=this.listeners["*"])&&void 0!==r?r:[])).forEach((function(n){n.call(null,e,t)}))}}]),e}(),za=/<!(?:--)?\[(.*?)\](?:--)?>/g;function _a(e,t){var n,r,a,i,o;return u.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(null===(n=za.exec(e))){s.next=9;break}return r=n[1],a=n.index,i=a+n[0].length,o=ge(t,a,i,e),s.next=7,{expression:r,location:o};case 7:s.next=0;break;case 9:case"end":return s.stop()}}),k)}var Ba=function(e){m(n,e);var t=x(n);function n(e,r){var a;return h(this,n),(a=t.call(this,r)).location=e,a}return d(n)}(y(Error));var Ua=function(){function e(t){h(this,e),this.event=new $a,this.dom=null,this.metaTable=t.getMetaTable()}return d(e,[{key:"parseHtml",value:function(e){var n,r,a,i;"string"==typeof e&&(e={data:e,filename:"inline",line:1,column:1,offset:0}),this.dom=new $e({filename:null!==(n=e.filename)&&void 0!==n?n:"",offset:null!==(r=e.offset)&&void 0!==r?r:0,line:null!==(a=e.line)&&void 0!==a?a:1,column:null!==(i=e.column)&&void 0!==i?i:1,size:0}),this.trigger("dom:load",{source:e,location:null});for(var o=(new Gt).tokenize(e),s=this.next(o);!s.done;){var u=s.value;switch(u.type){case t.TokenType.UNICODE_BOM:break;case t.TokenType.TAG_OPEN:this.consumeTag(e,u,o);break;case t.TokenType.WHITESPACE:this.trigger("whitespace",{text:u.data[0],location:u.location}),this.appendText(u.data[0],u.location);break;case t.TokenType.DIRECTIVE:this.consumeDirective(u);break;case t.TokenType.CONDITIONAL:this.consumeConditional(u);break;case t.TokenType.COMMENT:this.consumeComment(u);break;case t.TokenType.DOCTYPE_OPEN:this.consumeDoctype(u,o);break;case t.TokenType.TEXT:case t.TokenType.TEMPLATING:this.appendText(u.data[0],u.location);break;case t.TokenType.EOF:this.closeTree(e,u.location)}s=this.next(o)}return this.dom.resolveMeta(this.metaTable),this.trigger("dom:ready",{document:this.dom,source:e,location:null}),this.dom.root}},{key:"closeOptional",value:function(e){var t=this.dom.getActive();if(!t.meta||!t.meta.implicitClosed)return!1;var n=e.data[2],r=!e.data[1],a=t.meta.implicitClosed;return r?a.includes(n):!t.is(n)&&Boolean(t.parent&&t.parent.is(n)&&a.includes(t.tagName))}},{key:"consumeTag",value:function(e,n,r){var a=Array.from(this.consumeUntil(r,t.TokenType.TAG_CLOSE,n.location)),i=a.slice(-1)[0],o=this.closeOptional(n),s=o?this.dom.getActive().parent:this.dom.getActive(),u=Fe.fromTokens(n,i,s,this.metaTable),l=!n.data[1],c=!l||u.closed!==t.NodeClosed.Open,f=u.meta&&u.meta.foreign;if(o){var d=this.dom.getActive();d.closed=t.NodeClosed.ImplicitClosed,this.closeElement(e,u,d,n.location),this.dom.popActive()}l&&(this.dom.pushActive(u),this.trigger("tag:start",{target:u,location:n.location}));for(var h=0;h<a.length;h++){var p=a[h];switch(p.type){case t.TokenType.WHITESPACE:break;case t.TokenType.ATTR_NAME:this.consumeAttribute(e,u,p,a[h+1])}}if(l&&this.trigger("tag:ready",{target:u,location:i.location}),c){var m=this.dom.getActive();l||(u.closed=t.NodeClosed.EndTag),this.closeElement(e,u,m,i.location),!l&&u.voidElement||this.dom.popActive()}else f&&this.discardForeignBody(e,u.tagName,r,n.location)}},{key:"closeElement",value:function(e,t,n,r){this.processElement(n,e);var a={target:t,previous:n,location:r};this.trigger("tag:end",a),n&&!n.isRootElement()&&this.trigger("element:ready",{target:n,location:n.location})}},{key:"processElement",value:function(e,t){if(e.cacheEnable(),t.hooks&&t.hooks.processElement){var n=t.hooks.processElement,r=this.metaTable,a={getMetaFor:function(e){return r.getMetaFor(e)}};n.call(a,e)}}},{key:"discardForeignBody",value:function(e,n,r,a){var i,o,s=1;do{var u=Array.from(this.consumeUntil(r,t.TokenType.TAG_OPEN,a)).slice(-1),l=f(u,1)[0],c=f(l.data,3),d=c[1];if(c[2]===n){var h="/>"===(o=Array.from(this.consumeUntil(r,t.TokenType.TAG_CLOSE,l.location)).slice(-1)[0]).data[0];d?(i=l,s--):h||s++}}while(s>0);if(i&&o){var p=this.dom.getActive(),m=Fe.fromTokens(i,o,p,this.metaTable);this.closeElement(e,m,p,o.location),this.dom.popActive()}}},{key:"consumeAttribute",value:function(e,n,r,a){var i=this.getAttributeKeyLocation(r),o=this.getAttributeValueLocation(a),s=this.getAttributeLocation(r,a),u=function(e){return Boolean(e&&e.type===t.TokenType.ATTR_VALUE)}(a),l={key:r.data[1],value:null,quote:null};if(u){var c=f(a.data,4),d=c[2],h=c[3];l.value=d,l.quote=null!=h?h:null}var p=function(e){return[e]};e.hooks&&e.hooks.processAttribute&&(p=e.hooks.processAttribute);var m,v=p.call({},l),g=w("function"!=typeof v[Symbol.iterator]?[l]:v);try{for(g.s();!(m=g.n()).done;){var y=m.value,b={target:n,key:y.key,value:y.value,quote:y.quote,originalAttribute:y.originalAttribute,location:s,keyLocation:i,valueLocation:o};this.trigger("attr",b),n.setAttribute(y.key,y.value,i,o,y.originalAttribute)}}catch(k){g.e(k)}finally{g.f()}}},{key:"getAttributeKeyLocation",value:function(e){return e.location}},{key:"getAttributeValueLocation",value:function(e){return e&&e.type===t.TokenType.ATTR_VALUE&&""!==e.data[2]?e.data[3]?ge(e.location,2,-1):ge(e.location,1):null}},{key:"getAttributeLocation",value:function(e,n){var r,a=e.location,i=n&&n.type===t.TokenType.ATTR_VALUE?n.location:void 0;return{filename:a.filename,line:a.line,column:a.column,size:a.size+(null!==(r=null==i?void 0:i.size)&&void 0!==r?r:0),offset:a.offset}}},{key:"consumeDirective",value:function(e){var t=f(e.data,5),n=t[0],r=t[2],a=t[3];if(""===t[4])throw new Error('Missing end bracket "]" on directive "'.concat(n,'"'));var i=a.match(/^(.*?)(?:\s*(?:--|:)\s*(.*))?$/);if(!i)throw new Error('Failed to parse directive "'.concat(n,'"'));var o=f(i,3),s=o[1],u=o[2];this.trigger("directive",{action:r,data:s,comment:u||"",location:e.location})}},{key:"consumeConditional",value:function(e){var t=this.dom.getActive();this.trigger("conditional",{condition:e.data[1],location:e.location,parent:t})}},{key:"consumeComment",value:function(e){var t,n=e.data[0],r=this.dom.getActive(),a=w(_a(n,e.location));try{for(a.s();!(t=a.n()).done;){var i=t.value;this.trigger("conditional",{condition:i.expression,location:i.location,parent:r})}}catch(o){a.e(o)}finally{a.f()}}},{key:"consumeDoctype",value:function(e,n){var r=Array.from(this.consumeUntil(n,t.TokenType.DOCTYPE_CLOSE,e.location)),a=r[0].data[0];this.dom.doctype=a,this.trigger("doctype",{tag:e.data[1],value:a,valueLocation:r[0].location,location:e.location})}},{key:"consumeUntil",value:u.mark((function e(n,r,a){var i,o;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=this.next(n);case 1:if(i.done){e.next=10;break}return o=i.value,e.next=5,o;case 5:if(o.type!==r){e.next=7;break}return e.abrupt("return");case 7:i=this.next(n),e.next=1;break;case 10:throw new Ba(a,"stream ended before ".concat(t.TokenType[r]," token was found"));case 11:case"end":return e.stop()}}),e,this)}))},{key:"next",value:function(e){var t=e.next();if(!t.done){var n=t.value;this.trigger("token",{location:n.location,type:n.type,data:Array.from(n.data)})}return t}},{key:"on",value:function(e,t){return this.event.on(e,t)}},{key:"once",value:function(e,t){return this.event.once(e,t)}},{key:"defer",value:function(e){this.event.once("*",e)}},{key:"trigger",value:function(e,t){if(void 0===t.location)throw new Error("Triggered event must contain location");this.event.trigger(e,t)}},{key:"getEventHandler",value:function(){return this.event}},{key:"appendText",value:function(e,t){this.dom.getActive().appendText(e,t)}},{key:"closeTree",value:function(e,t){for(var n;(n=this.dom.getActive())&&!n.isRootElement();)this.closeElement(e,null,n,t),this.dom.popActive()}}]),e}(),Ya=function(){function e(){h(this,e),this.result={}}return d(e,[{key:"add",value:function(e,t,n,r,a,i){var o;a.filename in this.result||(this.result[a.filename]=[]),this.result[a.filename].push({ruleId:e.name,ruleUrl:null===(o=e.documentation(i))||void 0===o?void 0:o.url,severity:n,message:t,offset:a.offset,line:a.line,column:a.column,size:a.size||0,selector:r?r.generateSelector():null,context:i})}},{key:"addManual",value:function(e,t){e in this.result||(this.result[e]=[]),this.result[e].push(t)}},{key:"save",value:function(e){var t=this,n={valid:this.isValid(),results:Object.keys(this.result).map((function(n){var r=Array.from(t.result[n]).sort(Wa),a=(e||[]).find((function(e){var t;return n===(null!==(t=e.filename)&&void 0!==t?t:"")}));return{filePath:n,messages:r,errorCount:Ga(r),warningCount:Va(r),source:a?a.originalData||a.data:null}})),errorCount:0,warningCount:0};return n.errorCount=Xa(n.results),n.warningCount=Ha(n.results),n}},{key:"isValid",value:function(){return 0===Object.values(this.result).reduce((function(e,t){return e+Ga(t)}),0)}}],[{key:"merge",value:function(e){var t=e.every((function(e){return e.valid})),n={};e.forEach((function(e){e.results.forEach((function(e){var t=e.filePath;t in n?n[t].messages=[].concat(l(n[t].messages),l(e.messages)):n[t]=A({},e)}))}));var r=Object.values(n).map((function(e){return e.errorCount=Ga(e.messages),e.warningCount=Va(e.messages),e}));return{valid:t,results:r,errorCount:Xa(r),warningCount:Ha(r)}}}]),e}();function Ga(e){return e.filter((function(e){return e.severity===t.Severity.ERROR})).length}function Va(e){return e.filter((function(e){return e.severity===t.Severity.WARN})).length}function Xa(e){return e.reduce((function(e,t){return e+t.errorCount}),0)}function Ha(e){return e.reduce((function(e,t){return e+t.warningCount}),0)}function Wa(e,t){return e.line<t.line?-1:e.line>t.line?1:e.column<t.column?-1:e.column>t.column?1:0}var Ja=function(){function e(t,n){h(this,e),this.report=new Ya,this.config=t,this.ParserClass=n;var r=this.initPlugins(this.config);this.availableRules=A(A({},xa),r.availableRules)}return d(e,[{key:"lint",value:function(e){var t,n=this,r=w(e);try{var a=function(){var e=t.value,r=n.instantiateParser(),a=n.setupPlugins(e,n.config,r).rules,o={filename:e.filename,line:1,column:1,offset:0,size:1},s={location:o,config:n.config,rules:a};r.trigger("config:ready",s);e.hooks;var u={location:o,source:i(e,b)};r.trigger("source:ready",u),r.on("directive",(function(e,t){n.processDirective(t,r,a)}));try{r.parseHtml(e)}catch(l){if(!(l instanceof Yt||l instanceof Ba))throw l;n.reportError("parser-error",l.message,l.location)}};for(r.s();!(t=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return this.report.save(e)}},{key:"dumpEvents",value:function(e){var t=this.instantiateParser(),n=[];return t.on("*",(function(e,t){"token"!==e&&n.push({event:e,data:t})})),e.forEach((function(e){return t.parseHtml(e)})),n}},{key:"dumpTokens",value:function(e){var n,r,a=new Gt,i=[],o=w(e);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,l=w(a.tokenize(u));try{for(l.s();!(s=l.n()).done;){var c=s.value,f=null!==(n=c.data[0])&&void 0!==n?n:"";i.push({token:t.TokenType[c.type],data:f,location:"".concat(c.location.filename,":").concat(c.location.line,":").concat(c.location.column)})}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return i}},{key:"dumpTree",value:function(e){var t=this.instantiateParser().parseHtml(e[0]),n=[];return function e(t,r,a){if(t.parent){var i="  ".repeat(r-1),o=t.childElements.length>0?"":"",s=a<t.parent.childElements.length-1?"":"";n.push("".concat(i).concat(s,"").concat(o," ").concat(t.tagName).concat(function(e){var t="";return e.hasAttribute("id")&&(t+="#".concat(e.id)),e.hasAttribute("class")&&(t+=".".concat(e.classList.join("."))),t}(t)))}else n.push("(root)");t.childElements.forEach((function(t,n){return e(t,r+1,n)}))}(t,0,0),n}},{key:"getRuleDocumentation",value:function(e,t){var n=this.config.getRules();if(n.has(e)){var r=n.get(e),a=f(r,2)[1];return this.instantiateRule(e,a).documentation(t)}return null}},{key:"instantiateParser",value:function(){return new this.ParserClass(this.config)}},{key:"processDirective",value:function(e,t,n){var r=e.data.split(",").map((function(e){return e.trim()})).map((function(e){return n[e]})).filter((function(e){return e}));switch(e.action){case"enable":this.processEnableDirective(r,t);break;case"disable":this.processDisableDirective(r,t);break;case"disable-block":this.processDisableBlockDirective(r,t);break;case"disable-next":this.processDisableNextDirective(r,t);break;default:this.reportError("parser-error",'Unknown directive "'.concat(e.action,'"'),e.location)}}},{key:"processEnableDirective",value:function(e,n){var r,a=w(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.setEnabled(!0),i.getSeverity()===t.Severity.DISABLED&&i.setServerity(t.Severity.ERROR)}}catch(o){a.e(o)}finally{a.f()}n.on("tag:start",(function(t,n){n.target.enableRules(e.map((function(e){return e.name})))}))}},{key:"processDisableDirective",value:function(e,t){var n,r=w(e);try{for(r.s();!(n=r.n()).done;){n.value.setEnabled(!1)}}catch(a){r.e(a)}finally{r.f()}t.on("tag:start",(function(t,n){n.target.disableRules(e.map((function(e){return e.name})))}))}},{key:"processDisableBlockDirective",value:function(e,t){var n,r=null,a=w(e);try{for(a.s();!(n=a.n()).done;){n.value.setEnabled(!1)}}catch(s){a.e(s)}finally{a.f()}var i=t.on("tag:start",(function(t,n){var a,i;null===r&&(r=null!==(i=null===(a=n.target.parent)||void 0===a?void 0:a.unique)&&void 0!==i?i:null),n.target.disableRules(e.map((function(e){return e.name})))})),o=t.on("tag:end",(function(t,n){var a=null===r,u=r===n.previous.unique;if(a||u){o(),i();var l,c=w(e);try{for(c.s();!(l=c.n()).done;){l.value.setEnabled(!0)}}catch(s){c.e(s)}finally{c.f()}}}))}},{key:"processDisableNextDirective",value:function(e,t){var n,r=w(e);try{for(r.s();!(n=r.n()).done;){n.value.setEnabled(!1)}}catch(i){r.e(i)}finally{r.f()}var a=t.on("tag:start",(function(t,n){n.target.disableRules(e.map((function(e){return e.name})))}));t.once("tag:ready, tag:end, attr",(function(){a(),t.defer((function(){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){t.value.setEnabled(!0)}}catch(i){n.e(i)}finally{n.f()}}))}))}},{key:"initPlugins",value:function(e){var t,n=w(e.getPlugins());try{for(n.s();!(t=n.n()).done;){var r=t.value;r.init&&r.init()}}catch(a){n.e(a)}finally{n.f()}return{availableRules:this.initRules(e)}}},{key:"initRules",value:function(e){var t,n={},r=w(e.getPlugins());try{for(r.s();!(t=r.n()).done;)for(var a=t.value,i=0,o=Object.entries(a.rules||{});i<o.length;i++){var s=f(o[i],2),u=s[0],l=s[1];l&&(n[u]=l)}}catch(c){r.e(c)}finally{r.f()}return n}},{key:"setupPlugins",value:function(e,t,n){var r,a=n.getEventHandler(),i=w(t.getPlugins());try{for(i.s();!(r=i.n()).done;){var o=r.value;o.setup&&o.setup(e,a)}}catch(s){i.e(s)}finally{i.f()}return{rules:this.setupRules(t,n)}}},{key:"setupRules",value:function(e,t){var n,r={},a=w(e.getRules().entries());try{for(a.s();!(n=a.n()).done;){var i=f(n.value,2),o=i[0],s=f(i[1],2),u=s[0],l=s[1];r[o]=this.loadRule(o,e,u,l,t,this.report)}}catch(c){a.e(c)}finally{a.f()}return r}},{key:"loadRule",value:function(e,t,n,r,a,i){var o=t.getMetaTable(),s=this.instantiateRule(e,r);return s.name=e,s.init(a,i,n,o),s.setup&&s.setup(),s}},{key:"instantiateRule",value:function(e,t){return this.availableRules[e]?new(0,this.availableRules[e])(t):this.missingRule(e)}},{key:"missingRule",value:function(e){return new(function(t){m(r,t);var n=x(r);function r(){return h(this,r),n.apply(this,arguments)}return d(r,[{key:"setup",value:function(){var t=this;this.on("dom:load",(function(){t.report(null,"Definition for rule '".concat(e,"' was not found"))}))}}]),r}(at))}},{key:"reportError",value:function(e,n,r){this.report.addManual(r.filename,{ruleId:e,severity:t.Severity.ERROR,message:n,offset:r.offset,line:r.line,column:r.column,size:r.size||0,selector:null})}}]),e}(),Qa=function(e){m(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return d(n,[{key:"getConfigFor",value:function(e,t){var n=this.loadFromObject(t||{});if(n.isRootFound())return n.init(),n;var r=this.globalConfig.merge(n);return r.init(),r}},{key:"flushCache",value:function(){}},{key:"defaultConfig",value:function(){return this.loadFromObject({extends:["html-validate:recommended"],elements:["html5"]})}}]),n}(Fa);function Ka(e){return!(!e||"string"==typeof e)&&Boolean(e.processAttribute||e.processElement)}function Za(e){return!(!e||"string"==typeof e)&&!(e.processAttribute||e.processElement)}var ei=function(){function e(t){h(this,e);var n=f(t instanceof Fa?[t,void 0]:[void 0,t],2),r=n[0],a=n[1];this.configLoader=null!=r?r:new Qa(a)}return d(e,[{key:"validateString",value:function(e,t,n,r){var a="string"==typeof t?t:"inline",i=Za(t)?t:Za(n)?n:void 0,o={data:e,filename:a,line:1,column:1,offset:0,hooks:Ka(t)?t:Ka(n)?n:r};return this.validateSource(o,i)}},{key:"validateSource",value:function(e,t){var n=this.getConfigFor(e.filename,t).resolve(),r=n.transformSource(e);return new Ja(n,Ua).lint(r)}},{key:"validateFile",value:function(e){var t=this.getConfigFor(e).resolve(),n=t.transformFilename(e);return new Ja(t,Ua).lint(n)}},{key:"validateMultipleFiles",value:function(e){var t=this;return Ya.merge(e.map((function(e){return t.validateFile(e)})))}},{key:"canValidate",value:function(e){return".html"===z.default.extname(e).toLowerCase()||this.getConfigFor(e).resolve().canTransform(e)}},{key:"dumpTokens",value:function(e){var t=this.getConfigFor(e).resolve(),n=t.transformFilename(e);return new Ja(t,Ua).dumpTokens(n)}},{key:"dumpEvents",value:function(e){var t=this.getConfigFor(e).resolve(),n=t.transformFilename(e);return new Ja(t,Ua).dumpEvents(n)}},{key:"dumpTree",value:function(e){var t=this.getConfigFor(e).resolve(),n=t.transformFilename(e);return new Ja(t,Ua).dumpTree(n)}},{key:"dumpSource",value:function(e){return this.getConfigFor(e).resolve().transformFilename(e).reduce((function(e,t){if(e.push("Source ".concat(t.filename,"@").concat(t.line,":").concat(t.column," (offset: ").concat(t.offset,")")),t.transformedBy&&(e.push("Transformed by:"),e=e.concat(t.transformedBy.reverse().map((function(e){return" - ".concat(e)})))),t.hooks&&Object.keys(t.hooks).length>0){e.push("Hooks");for(var n=0,r=Object.entries(t.hooks);n<r.length;n++){var a=f(r[n],2),i=a[0];a[1]&&e.push(" - ".concat(i))}}return e.push("---"),(e=e.concat(t.data.split("\n"))).push("---"),e}),[])}},{key:"getConfigurationSchema",value:function(){return Be}},{key:"getElementsSchema",value:function(e){return this.getConfigFor(null!=e?e:"inline").getMetaTable().getJSONSchema()}},{key:"getRuleDocumentation",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||this.getConfigFor("inline");return new Ja(n.resolve(),Ua).getRuleDocumentation(e,t)}},{key:"getParserFor",value:function(e){var t=this.getConfigFor(e.filename);return new Ua(t.resolve())}},{key:"getConfigFor",value:function(e,t){return this.configLoader.getConfigFor(e,t)}},{key:"flushConfigCache",value:function(e){this.configLoader.flushCache(e)}}]),e}(),ti={silent:!1,version:Qe,logger:function(e){console.error(B.default.red(e))}};var ni=new Set(Object.keys(xa));function ri(e){return["json","cjs","js"].map((function(t){return z.default.join(e,".htmlvalidate.".concat(t))})).filter((function(e){return j.default.existsSync(e)}))}var ai=function(e){m(n,e);var t=x(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma;return h(this,n),(r=t.call(this,e,a)).cache=new Map,r}return d(n,[{key:"getConfigFor",value:function(e,t){var n=this.loadFromObject(t||{});if(n.isRootFound())return n.init(),n;if(this.globalConfig.isRootFound()){var r=this.globalConfig.merge(n);return r.init(),r}var a=this.fromFilename(e),i=a?a.merge(n):this.globalConfig.merge(n);return i.init(),i}},{key:"flushCache",value:function(e){e?this.cache.delete(e):this.cache.clear()}},{key:"fromFilename",value:function(e){var t;if("inline"===e)return null;if(this.cache.has(e))return null!==(t=this.cache.get(e))&&void 0!==t?t:null;for(var n=!1,r=z.default.resolve(z.default.dirname(e)),a=this.empty();;){var i,o=w(ri(r));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=this.loadFromFile(s);n=!0,a=u.merge(a)}}catch(c){o.e(c)}finally{o.f()}if(a.isRootFound())break;var l=r;if((r=z.default.dirname(r))===l)break}return n?(this.cache.set(e,a),a):(this.cache.set(e,null),null)}},{key:"defaultConfig",value:function(){return this.configFactory.defaultConfig()}}]),n}(Fa),ii={">":"&gt;","<":"&lt;","'":"&apos;",'"':"&quot;","&":"&amp;"};function oi(e){return e.toString().replace(/[><'"&]/g,(function(e){return ii[e]}))}function si(e){switch(e.severity){case 2:default:return"error";case 1:return"warning"}}var ui={showLink:!0};function li(e,t){return 1===t?e:"".concat(e,"s")}function ci(e){return{line:e.line,column:e.column}}function fi(e,t){for(var n=e.line,r=e.column,a=0;a<e.size;a++)"\n"===t.charAt(e.offset+a)?(n++,r=0):r++;return{line:n,column:r}}function di(e,t,n){var r=2===e.severity?B.default.red("error"):B.default.yellow("warning"),i="".concat(B.default.bold(e.message.replace(/([^ ])\.$/,"$1"))),o=B.default.dim("(".concat(e.ruleId,")")),s=function(e,t,n){var r=z.default.relative(a.cwd(),e);return t&&n&&(r+=":".concat(t,":").concat(n)),B.default.green(r)}(t.filePath,e.line,e.column),u=t.source,l=[["".concat(r,":"),"".concat(i),o?"".concat(o):"",u?"at ".concat(s,":"):"at ".concat(s)].filter(String).join(" ")];return u&&l.push(R.codeFrameColumns(u,{start:ci(e),end:fi(e,u)},{highlightCode:!1})),n.showLink&&e.ruleUrl&&l.push("".concat(B.default.bold("Details:")," ").concat(e.ruleUrl)),l.join("\n")}var hi={checkstyle:function(e){var t="";return t+='<?xml version="1.0" encoding="utf-8"?>\n',t+='<checkstyle version="4.3">\n',e.forEach((function(e){var n=e.messages;t+='  <file name="'.concat(oi(e.filePath),'">\n'),n.forEach((function(e){var n=oi("htmlvalidate.rules.".concat(e.ruleId));t+="    ",t+=['<error line="'.concat(oi(e.line),'"'),'column="'.concat(oi(e.column),'"'),'severity="'.concat(oi(si(e)),'"'),'message="'.concat(oi(e.message)," (").concat(e.ruleId,')"'),'source="'.concat(n,'" />')].join(" "),t+="\n"})),t+="  </file>\n"})),t+="</checkstyle>\n"},codeframe:function(e,t){var n=A(A({},ui),t),r=0,a=0,i=e.filter((function(e){return e.messages.length>0})).reduce((function(e,t){var i=t.messages.map((function(e){return"".concat(di(e,t,n),"\n\n")}));return r+=t.errorCount,a+=t.warningCount,e.concat(i)}),[]).join("\n");return i+="\n",i+=function(e,t){var n=e>0?"red":"yellow",r=[];return e>0&&r.push("".concat(e," ").concat(li("error",e))),t>0&&r.push("".concat(t," ").concat(li("warning",t))),B.default[n]().bold("".concat(r.join(" and ")," found."))}(r,a),i+="\n",r+a>0?i:""},json:function(e){return JSON.stringify(e)},stylish:function(e){var t=U.default(e.map((function(e){return A(A({},e),{},{fixableErrorCount:0,fixableWarningCount:0})}))),n=function(e){var t=e.reduce((function(e,t){var n=t.messages.map((function(e){return e.ruleUrl})).filter((function(e){return Boolean(e)}));return[].concat(l(e),l(n))}),[]),n=Array.from(new Set(t));if(0===n.length)return"";var r=n.map((function(e){return"  ".concat(e,"\n")}));return"\n".concat(B.default.bold("More information"),":\n").concat(r.join(""),"\n")}(e);return"".concat(t).concat(n)},text:function(e){var t="",n=0;return e.forEach((function(e){var r=e.messages;0!==r.length&&(n+=r.length,t+=r.map((function(t){var n;n=2===t.severity?"error":"warning";var r="".concat(e.filePath,":").concat(t.line,":").concat(t.column);return"".concat(r,": ").concat(n," [").concat(t.ruleId,"] ").concat(t.message,"\n")})).join(""))})),n>0?t:""}};t.Config=Ma,t.ConfigError=vt,t.ConfigLoader=Fa,t.DynamicValue=me,t.EventHandler=$a,t.FileSystemConfigLoader=ai,t.HtmlElement=Fe,t.HtmlValidate=ei,t.MetaCopyableProperty=Z,t.MetaTable=le,t.Parser=Ua,t.Reporter=Ya,t.Rule=at,t.SchemaValidationError=X,t.StaticConfigLoader=Qa,t.TemplateExtractor=We,t.TextNode=je,t.UserError=V,t.bugs="https://gitlab.com/html-validate/html-validate/issues/new",t.compatibilityCheck=function(e,t,n){var r=A(A({},ti),n),a=r.silent,i=r.version,o=r.logger,s=_.default.satisfies(i,t);return s||a?s:(o(["-----------------------------------------------------------------------------------------------------","".concat(e,' requires html-validate version "').concat(t,'" but current installed version is ').concat(i),"This is not a supported configuration. Please install a supported version before reporting bugs.","-----------------------------------------------------------------------------------------------------"].join("\n")),!1)},t.getFormatter=function(e){var t;return null!==(t=hi[e])&&void 0!==t?t:null},t.legacyRequire=n(42366),t.name="html-validate",t.presets=Sa,t.ruleExists=function(e){return ni.has(e)},t.version=Qe}}]);
//# sourceMappingURL=a3186c56-a8cc437eff0f43c2cb6e.js.map